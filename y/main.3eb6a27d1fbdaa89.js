(self.webpackChunkprecuelaparcial=self.webpackChunkprecuelaparcial||[]).push([[179],{2011:(Dt,le,$)=>{"use strict";$.d(le,{Dh:()=>ye,GT:()=>ue,cc:()=>Pe,hO:()=>je,on:()=>K,pX:()=>ce,xv:()=>Ce});var d=$(4650),N=$(9260),F=$(4976);Dt=$.hmd(Dt);const se=["ngOnDestroy"],ce=(xe,Ie,Be,Re={})=>new Proxy(xe,{get:(Me,ke)=>Be.runOutsideAngular(()=>{var Ge;if(xe[ke])return!(null===(Ge=Re?.spy)||void 0===Ge)&&Ge.get&&Re.spy.get(ke,xe[ke]),xe[ke];if(se.indexOf(ke)>-1)return()=>{};const Le=Ie.toPromise().then(oe=>{const et=oe&&oe[ke];return"function"==typeof et?et.bind(oe):et&&et.then?et.then(Ct=>Be.run(()=>Ct)):Be.run(()=>et)});return new Proxy(()=>{},{get:(oe,et)=>Le[et],apply:(oe,et,Ct)=>Le.then(rt=>{var nn;const lt=rt&&rt(...Ct);return!(null===(nn=Re?.spy)||void 0===nn)&&nn.apply&&Re.spy.apply(ke,Ct,lt),lt})})})}),ue=(xe,Ie)=>{Ie.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Re=>{Object.defineProperty(xe.prototype,Re,Object.getOwnPropertyDescriptor(Be.prototype||Be,Re))})})};class ge{constructor(Ie){return Ie}}const ye=new d.OlP("angularfire2.app.options"),Ce=new d.OlP("angularfire2.app.name");function K(xe,Ie,Be){const Me="object"==typeof Be&&Be||{};Me.name=Me.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ge=N.Z.apps.filter(Le=>Le&&Le.name===Me.name)[0]||Ie.runOutsideAngular(()=>N.Z.initializeApp(xe,Me));try{JSON.stringify(xe)!==JSON.stringify(Ge.options)&&Z("error",`${Ge.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Ge)}const Z=(xe,...Ie)=>{(0,d.X6Q)()&&typeof console<"u"&&console[xe](...Ie)},te={provide:ge,useFactory:K,deps:[ye,d.R0b,[new d.FiY,Ce]]};let je=(()=>{class xe{constructor(Be){N.Z.registerVersion("angularfire",F.q4.full,"core"),N.Z.registerVersion("angularfire",F.q4.full,"app-compat"),N.Z.registerVersion("angular",d.q4F.full,Be.toString())}static initializeApp(Be,Re){return{ngModule:xe,providers:[{provide:ye,useValue:Be},{provide:Ce,useValue:Re}]}}}return xe.\u0275fac=function(Be){return new(Be||xe)(d.LFG(d.Lbi))},xe.\u0275mod=d.oAB({type:xe}),xe.\u0275inj=d.cJS({providers:[te]}),xe})();function Pe(xe,Ie,Be,Re,Me){const[,ke,Ge]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===xe)||[];if(ke)return function Je(xe,Ie){try{return xe.toString()===Ie.toString()}catch{return xe===Ie}}(Me,Ge)||(Ee("error",`${Ie} was already initialized on the ${Be} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Me,was:Ge})),ke;{const Le=Re();return globalThis.\u0275AngularfireInstanceCache.push([xe,Le,Me]),Le}}const Xe=!!Dt.hot,Ee=(xe,...Ie)=>{(0,d.X6Q)()&&typeof console<"u"&&console[xe](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Dt,le,$)=>{"use strict";$.d(le,{q4:()=>Pr,iC:()=>Fc,HU:()=>Ao,vb:()=>Bd,JM:()=>Ua,u3:()=>Hd});var d=$(4650),N=$(259),F=$(5861),se=$(6881),ce=$(2090),ue=$(4859),ge=$(1877);const ye=(w,C)=>C.some(M=>w instanceof M);let Ce,K;const je=new WeakMap,Pe=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Ee=new WeakMap;let Be={get(w,C,M){if(w instanceof IDBTransaction){if("done"===C)return Pe.get(w);if("objectStoreNames"===C)return w.objectStoreNames||Je.get(w);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ge(w[C])},set:(w,C,M)=>(w[C]=M,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function ke(w){return"function"==typeof w?function Me(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(Le(this),C),Ge(je.get(this))}:function(...C){return Ge(w.apply(Le(this),C))}:function(C,...M){const j=w.call(Le(this),C,...M);return Je.set(j,C.sort?C.sort():[C]),Ge(j)}}(w):(w instanceof IDBTransaction&&function Ie(w){if(Pe.has(w))return;const C=new Promise((M,j)=>{const Y=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},X=()=>{M(),Y()},fe=()=>{j(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",X),w.addEventListener("error",fe),w.addEventListener("abort",fe)});Pe.set(w,C)}(w),ye(w,function Z(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Be):w)}function Ge(w){if(w instanceof IDBRequest)return function xe(w){const C=new Promise((M,j)=>{const Y=()=>{w.removeEventListener("success",X),w.removeEventListener("error",fe)},X=()=>{M(Ge(w.result)),Y()},fe=()=>{j(w.error),Y()};w.addEventListener("success",X),w.addEventListener("error",fe)});return C.then(M=>{M instanceof IDBCursor&&je.set(M,w)}).catch(()=>{}),Ee.set(C,w),C}(w);if(Xe.has(w))return Xe.get(w);const C=ke(w);return C!==w&&(Xe.set(w,C),Ee.set(C,w)),C}const Le=w=>Ee.get(w),Ct=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],nn=new Map;function lt(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(nn.get(C))return nn.get(C);const M=C.replace(/FromIndex$/,""),j=C!==M,Y=rt.includes(M);if(!(M in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!Ct.includes(M))return;const X=function(){var fe=(0,F.Z)(function*(tt,...Qe){const _t=this.transaction(tt,Y?"readwrite":"readonly");let jt=_t.store;return j&&(jt=jt.index(Qe.shift())),(yield Promise.all([jt[M](...Qe),Y&&_t.done]))[0]});return function(Qe){return fe.apply(this,arguments)}}();return nn.set(C,X),X}!function Re(w){Be=w(Be)}(w=>({...w,get:(C,M,j)=>lt(C,M)||w.get(C,M,j),has:(C,M)=>!!lt(C,M)||w.has(C,M)}));const ve="@firebase/installations",we="0.6.4",Se=1e4,Ne=`w:${we}`,Ke="FIS_v2",qe="https://firebaseinstallations.googleapis.com/v1",ht=36e5,Tt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(w){return w instanceof ce.ZR&&w.code.includes("request-failed")}function rn({projectId:w}){return`${qe}/projects/${w}/installations`}function gn(w){return{token:w.token,requestStatus:2,expiresIn:Fr(w.expiresIn),creationTime:Date.now()}}function An(w,C){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.Z)(function*(w,C){const j=(yield C.json()).error;return Tt.create("request-failed",{requestName:w,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Qn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Un(w){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,F.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function Fr(w){return Number(w.replace("s","000"))}function ft(){return(ft=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:M}){const j=rn(w),Y=Qn(w),X=C.getImmediate({optional:!0});if(X){const _t=yield X.getHeartbeatsHeader();_t&&Y.append("x-firebase-client",_t)}const tt={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:Ke,appId:w.appId,sdkVersion:Ne})},Qe=yield Un(()=>fetch(j,tt));if(Qe.ok){const _t=yield Qe.json();return{fid:_t.fid||M,registrationStatus:2,refreshToken:_t.refreshToken,authToken:gn(_t.authToken)}}throw yield An("Create Installation",Qe)})).apply(this,arguments)}function Nn(w){return new Promise(C=>{setTimeout(C,w)})}const Xn=/^[cdef][\w-]{21}$/,Er="";function Lr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function hn(w){return function qn(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Xn.test(M)?M:Er}catch{return Er}}function Yt(w){return`${w.appName}!${w.appId}`}const pt=new Map;function Ye(w,C){const M=Yt(w);$n(M,C),function ri(w,C){const M=function Fn(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=w=>{$n(w.data.key,w.data.fid)}),Wn}();M&&M.postMessage({key:w,fid:C}),function sn(){0===pt.size&&Wn&&(Wn.close(),Wn=null)}()}(M,C)}function $n(w,C){const M=pt.get(w);if(M)for(const j of M)j(C)}let Wn=null;const bi="firebase-installations-database",an=1,ii="firebase-installations-store";let Zt=null;function jn(){return Zt||(Zt=function oe(w,C,{blocked:M,upgrade:j,blocking:Y,terminated:X}={}){const fe=indexedDB.open(w,C),tt=Ge(fe);return j&&fe.addEventListener("upgradeneeded",Qe=>{j(Ge(fe.result),Qe.oldVersion,Qe.newVersion,Ge(fe.transaction))}),M&&fe.addEventListener("blocked",()=>M()),tt.then(Qe=>{X&&Qe.addEventListener("close",()=>X()),Y&&Qe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}(bi,an,{upgrade:(w,C)=>{0===C&&w.createObjectStore(ii)}})),Zt}function Hn(w,C){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,F.Z)(function*(w,C){const M=Yt(w),Y=(yield jn()).transaction(ii,"readwrite"),X=Y.objectStore(ii),fe=yield X.get(M);return yield X.put(C,M),yield Y.done,(!fe||fe.fid!==C.fid)&&Ye(w,C.fid),C})).apply(this,arguments)}function kn(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,F.Z)(function*(w){const C=Yt(w),j=(yield jn()).transaction(ii,"readwrite");yield j.objectStore(ii).delete(C),yield j.done})).apply(this,arguments)}function Vr(w,C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,F.Z)(function*(w,C){const M=Yt(w),Y=(yield jn()).transaction(ii,"readwrite"),X=Y.objectStore(ii),fe=yield X.get(M),tt=C(fe);return void 0===tt?yield X.delete(M):yield X.put(tt,M),yield Y.done,tt&&(!fe||fe.fid!==tt.fid)&&Ye(w,tt.fid),tt})).apply(this,arguments)}function q(w){return G.apply(this,arguments)}function G(){return G=(0,F.Z)(function*(w){let C;const M=yield Vr(w.appConfig,j=>{const Y=function V(w){return Mt(w||{fid:Lr(),registrationStatus:0})}(j),X=function B(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Tt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},j=function O(w,C){return Q.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:j}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Te(w)}:{installationEntry:C}}(w,Y);return C=X.registrationPromise,X.installationEntry});return M.fid===Er?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),G.apply(this,arguments)}function Q(){return Q=(0,F.Z)(function*(w,C){try{const M=yield function cn(w,C){return ft.apply(this,arguments)}(w,C);return Hn(w.appConfig,M)}catch(M){throw vt(M)&&409===M.customData.serverCode?yield kn(w.appConfig):yield Hn(w.appConfig,{fid:C.fid,registrationStatus:0}),M}}),Q.apply(this,arguments)}function Te(w){return ut.apply(this,arguments)}function ut(){return(ut=(0,F.Z)(function*(w){let C=yield kt(w.appConfig);for(;1===C.registrationStatus;)yield Nn(100),C=yield kt(w.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:j}=yield q(w);return j||M}return C})).apply(this,arguments)}function kt(w){return Vr(w,C=>{if(!C)throw Tt.create("installation-not-found");return Mt(C)})}function Mt(w){return function Qt(w){return 1===w.registrationStatus&&w.registrationTime+Se<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Sn(){return(Sn=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:C},M){const j=function qt(w,{fid:C}){return`${rn(w)}/${C}/authTokens:generate`}(w,M),Y=function Ut(w,{refreshToken:C}){const M=Qn(w);return M.append("Authorization",function Bn(w){return`${Ke} ${w}`}(C)),M}(w,M),X=C.getImmediate({optional:!0});if(X){const _t=yield X.getHeartbeatsHeader();_t&&Y.append("x-firebase-client",_t)}const tt={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Ne,appId:w.appId}})},Qe=yield Un(()=>fetch(j,tt));if(Qe.ok)return gn(yield Qe.json());throw yield An("Generate Auth Token",Qe)})).apply(this,arguments)}function Zn(w){return zi.apply(this,arguments)}function zi(){return zi=(0,F.Z)(function*(w,C=!1){let M;const j=yield Vr(w.appConfig,X=>{if(!Jt(X))throw Tt.create("not-registered");const fe=X.authToken;if(!C&&function bt(w){return 2===w.requestStatus&&!function vn(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+ht}(w)}(fe))return X;if(1===fe.requestStatus)return M=function me(w,C){return re.apply(this,arguments)}(w,C),X;{if(!navigator.onLine)throw Tt.create("app-offline");const tt=function dn(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(X);return M=function Et(w,C){return Ot.apply(this,arguments)}(w,tt),tt}});return M?yield M:j.authToken}),zi.apply(this,arguments)}function re(){return(re=(0,F.Z)(function*(w,C){let M=yield Ue(w.appConfig);for(;1===M.authToken.requestStatus;)yield Nn(100),M=yield Ue(w.appConfig);const j=M.authToken;return 0===j.requestStatus?Zn(w,C):j})).apply(this,arguments)}function Ue(w){return Vr(w,C=>{if(!Jt(C))throw Tt.create("not-registered");return function Cr(w){return 1===w.requestStatus&&w.requestTime+Se<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ot(){return Ot=(0,F.Z)(function*(w,C){try{const M=yield function Lt(w,C){return Sn.apply(this,arguments)}(w,C),j=Object.assign(Object.assign({},C),{authToken:M});return yield Hn(w.appConfig,j),M}catch(M){if(!vt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const j=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Hn(w.appConfig,j)}else yield kn(w.appConfig);throw M}}),Ot.apply(this,arguments)}function Jt(w){return void 0!==w&&2===w.registrationStatus}function Oo(){return(Oo=(0,F.Z)(function*(w){const C=w,{installationEntry:M,registrationPromise:j}=yield q(C);return j?j.catch(console.error):Zn(C).catch(console.error),M.fid})).apply(this,arguments)}function ws(){return ws=(0,F.Z)(function*(w,C=!1){const M=w;return yield function pr(w){return st.apply(this,arguments)}(M),(yield Zn(M,C)).token}),ws.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(w){const{registrationPromise:C}=yield q(w);C&&(yield C)})).apply(this,arguments)}function ss(w){return Tt.create("missing-app-config-values",{valueName:w})}const Kt="installations",Dr=w=>{const C=w.getProvider("app").getImmediate(),M=function Fo(w){if(!w||!w.options)throw ss("App Configuration");if(!w.name)throw ss("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!w.options[M])throw ss(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Fs=w=>{const C=w.getProvider("app").getImmediate(),M=(0,se._getProvider)(C,Kt).getImmediate();return{getId:()=>function fr(w){return Oo.apply(this,arguments)}(M),getToken:Y=>function ac(w){return ws.apply(this,arguments)}(M,Y)}};(function os(){(0,se._registerComponent)(new ue.wA(Kt,Dr,"PUBLIC")),(0,se._registerComponent)(new ue.wA("installations-internal",Fs,"PRIVATE"))})(),(0,se.registerVersion)(ve,we),(0,se.registerVersion)(ve,we,"esm2017");const tr="@firebase/remote-config",Ur=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Id{constructor(C,M,j,Y){this.client=C,this.storage=M,this.storageCache=j,this.logger=Y}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-M,Y=j<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var M=this;return(0,F.Z)(function*(){const[j,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(C.cacheMaxAgeMillis,j))return Y;C.eTag=Y&&Y.eTag;const X=yield M.client.fetch(C),fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&fe.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(fe),X})()}}function ao(w=navigator){return w.languages&&w.languages[0]||w.language}class uc{constructor(C,M,j,Y,X,fe){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=j,this.projectId=Y,this.apiKey=X,this.appId=fe}fetch(C){var M=this;return(0,F.Z)(function*(){const[j,Y]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Qe={sdk_version:M.sdkVersion,app_instance_id:j,app_instance_id_token:Y,app_id:M.appId,language_code:ao()},_t={method:"POST",headers:tt,body:JSON.stringify(Qe)},jt=fetch(fe,_t),Vt=new Promise((Ui,ai)=>{C.signal.addEventListener(()=>{const Sl=new Error("The operation was aborted.");Sl.name="AbortError",ai(Sl)})});let ur;try{yield Promise.race([jt,Vt]),ur=yield jt}catch(Ui){let ai="fetch-client-network";throw"AbortError"===Ui?.name&&(ai="fetch-timeout"),Ur.create(ai,{originalErrorMessage:Ui?.message})}let Pt=ur.status;const ys=ur.headers.get("ETag")||void 0;let Vc,Yi;if(200===ur.status){let Ui;try{Ui=yield ur.json()}catch(ai){throw Ur.create("fetch-client-parse",{originalErrorMessage:ai?.message})}Vc=Ui.entries,Yi=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===Yi?Pt=500:"NO_CHANGE"===Yi?Pt=304:("NO_TEMPLATE"===Yi||"EMPTY_CONFIG"===Yi)&&(Vc={}),304!==Pt&&200!==Pt)throw Ur.create("fetch-status",{httpStatus:Pt});return{status:Pt,eTag:ys,config:Vc}})()}}class ou{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,F.Z)(function*(){const j=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,j)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:j}){var Y=this;return(0,F.Z)(function*(){yield function tl(w,C){return new Promise((M,j)=>{const Y=Math.max(C-Date.now(),0),X=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(X),j(Ur.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const X=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),X}catch(X){if(!function Cd(w){if(!(w instanceof ce.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(X))throw X;const fe={throttleEndTimeMillis:Date.now()+(0,ce.$s)(j),backoffCount:j+1};return yield Y.storage.setThrottleMetadata(fe),Y.attemptFetch(C,fe)}})()}}class lc{constructor(C,M,j,Y,X){this.app=C,this._client=M,this._storageCache=j,this._storage=Y,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ds(w,C){const M=w.target.error||void 0;return Ur.create(C,{originalErrorMessage:M&&M?.message})}const uo="app_namespace_store";class js{constructor(C,M,j,Y=function dc(){return new Promise((w,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=j=>{C(Ds(j,"storage-open"))},M.onsuccess=j=>{w(j.target.result)},M.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(uo,{keyPath:"compositeKey"})}}catch(M){C(Ur.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=j,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,F.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Y,X)=>{const tt=j.transaction([uo],"readonly").objectStore(uo),Qe=M.createCompositeKey(C);try{const _t=tt.get(Qe);_t.onerror=jt=>{X(Ds(jt,"storage-get"))},_t.onsuccess=jt=>{const Vt=jt.target.result;Y(Vt?Vt.value:void 0)}}catch(_t){X(Ur.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(C,M){var j=this;return(0,F.Z)(function*(){const Y=yield j.openDbPromise;return new Promise((X,fe)=>{const Qe=Y.transaction([uo],"readwrite").objectStore(uo),_t=j.createCompositeKey(C);try{const jt=Qe.put({compositeKey:_t,value:M});jt.onerror=Vt=>{fe(Ds(Vt,"storage-set"))},jt.onsuccess=()=>{X()}}catch(jt){fe(Ur.create("storage-set",{originalErrorMessage:jt?.message}))}})})()}delete(C){var M=this;return(0,F.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Y,X)=>{const tt=j.transaction([uo],"readwrite").objectStore(uo),Qe=M.createCompositeKey(C);try{const _t=tt.delete(Qe);_t.onerror=jt=>{X(Ds(jt,"storage-delete"))},_t.onsuccess=()=>{Y()}}catch(_t){X(Ur.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Hs{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,F.Z)(function*(){const M=C.storage.getLastFetchStatus(),j=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),X=yield M;X&&(C.lastFetchStatus=X);const fe=yield j;fe&&(C.lastSuccessfulFetchTimestampMillis=fe);const tt=yield Y;tt&&(C.activeConfig=tt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function cu(){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function co(){(0,se._registerComponent)(new ue.wA("remote-config",function w(C,{instanceIdentifier:M}){const j=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ur.create("registration-window");if(!(0,ce.hl)())throw Ur.create("indexed-db-unavailable");const{projectId:X,apiKey:fe,appId:tt}=j.options;if(!X)throw Ur.create("registration-project-id");if(!fe)throw Ur.create("registration-api-key");if(!tt)throw Ur.create("registration-app-id");const Qe=new js(tt,j.name,M=M||"firebase"),_t=new Hs(Qe),jt=new ge.Yd(tr);jt.logLevel=ge.in.ERROR;const Vt=new uc(Y,se.SDK_VERSION,M,X,fe,tt),ur=new ou(Vt,Qe),Pt=new Id(ur,Qe,_t,jt),ys=new lc(j,Pt,_t,Qe,jt);return function Yr(w){const C=(0,ce.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ys),ys},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(tr,"0.4.4"),(0,se.registerVersion)(tr,"0.4.4","esm2017")}();const hc=(w,C)=>C.some(M=>w instanceof M);let Ts,du;const fo=new WeakMap,zs=new WeakMap,zn=new WeakMap,po=new WeakMap,go=new WeakMap;let Gs={get(w,C,M){if(w instanceof IDBTransaction){if("done"===C)return zs.get(w);if("objectStoreNames"===C)return w.objectStoreNames||zn.get(w);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Jr(w[C])},set:(w,C,M)=>(w[C]=M,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function Ea(w){return"function"==typeof w?function fc(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nl(){return du||(du=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(gr(this),C),Jr(fo.get(this))}:function(...C){return Jr(w.apply(gr(this),C))}:function(C,...M){const j=w.call(gr(this),C,...M);return zn.set(j,C.sort?C.sort():[C]),Jr(j)}}(w):(w instanceof IDBTransaction&&function Di(w){if(zs.has(w))return;const C=new Promise((M,j)=>{const Y=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},X=()=>{M(),Y()},fe=()=>{j(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",X),w.addEventListener("error",fe),w.addEventListener("abort",fe)});zs.set(w,C)}(w),hc(w,function wa(){return Ts||(Ts=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Gs):w)}function Jr(w){if(w instanceof IDBRequest)return function or(w){const C=new Promise((M,j)=>{const Y=()=>{w.removeEventListener("success",X),w.removeEventListener("error",fe)},X=()=>{M(Jr(w.result)),Y()},fe=()=>{j(w.error),Y()};w.addEventListener("success",X),w.addEventListener("error",fe)});return C.then(M=>{M instanceof IDBCursor&&fo.set(M,w)}).catch(()=>{}),go.set(C,w),C}(w);if(po.has(w))return po.get(w);const C=Ea(w);return C!==w&&(po.set(w,C),go.set(C,w)),C}const gr=w=>go.get(w);function Uo(w,C,{blocked:M,upgrade:j,blocking:Y,terminated:X}={}){const fe=indexedDB.open(w,C),tt=Jr(fe);return j&&fe.addEventListener("upgradeneeded",Qe=>{j(Jr(fe.result),Qe.oldVersion,Qe.newVersion,Jr(fe.transaction))}),M&&fe.addEventListener("blocked",()=>M()),tt.then(Qe=>{X&&Qe.addEventListener("close",()=>X()),Y&&Qe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}function As(w,{blocked:C}={}){const M=indexedDB.deleteDatabase(w);return C&&M.addEventListener("blocked",()=>C()),Jr(M).then(()=>{})}const rl=["get","getKey","getAll","getAllKeys","count"],Oi=["put","add","delete","clear"],mo=new Map;function yo(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(mo.get(C))return mo.get(C);const M=C.replace(/FromIndex$/,""),j=C!==M,Y=Oi.includes(M);if(!(M in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!rl.includes(M))return;const X=function(){var fe=(0,F.Z)(function*(tt,...Qe){const _t=this.transaction(tt,Y?"readwrite":"readonly");let jt=_t.store;return j&&(jt=jt.index(Qe.shift())),(yield Promise.all([jt[M](...Qe),Y&&_t.done]))[0]});return function(Qe){return fe.apply(this,arguments)}}();return mo.set(C,X),X}!function Ar(w){Gs=w(Gs)}(w=>({...w,get:(C,M,j)=>yo(C,M)||w.get(C,M,j),has:(C,M)=>!!yo(C,M)||w.has(C,M)}));const Bt="/firebase-messaging-sw.js",ba="/firebase-cloud-messaging-push-scope",il="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hu="https://fcmregistrations.googleapis.com/v1",Bo="google.c.a.c_id",Ia="google.c.a.c_l",fu="google.c.a.ts",Ca="google.c.a.e";var _e=(()=>{return(w=_e||(_e={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",_e;var w})();function Wt(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vo(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(M),Y=new Uint8Array(j.length);for(let X=0;X<j.length;++X)Y[X]=j.charCodeAt(X);return Y}const $o="fcm_token_details_db",nr=5,sl="fcm_token_object_Store";function hi(){return hi=(0,F.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes($o))return null;let C=null;return(yield Uo($o,nr,{upgrade:(j=(0,F.Z)(function*(Y,X,fe,tt){var Qe;if(X<2||!Y.objectStoreNames.contains(sl))return;const _t=tt.objectStore(sl),jt=yield _t.index("fcmSenderId").get(w);if(yield _t.clear(),jt)if(2===X){const Vt=jt;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;C={token:Vt.fcmToken,createTime:null!==(Qe=Vt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Wt(Vt.vapidKey)}}}else if(3===X){const Vt=jt;C={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Wt(Vt.auth),p256dh:Wt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Wt(Vt.vapidKey)}}}else if(4===X){const Vt=jt;C={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Wt(Vt.auth),p256dh:Wt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Wt(Vt.vapidKey)}}}}),function(X,fe,tt,Qe){return j.apply(this,arguments)})})).close(),yield As($o),yield As("fcm_vapid_details_db"),yield As("undefined"),function Da(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var j}),hi.apply(this,arguments)}const ol="firebase-messaging-database",al=1,Ss="firebase-messaging-store";let qs=null;function mr(){return qs||(qs=Uo(ol,al,{upgrade:(w,C)=>{0===C&&w.createObjectStore(Ss)}})),qs}function si(w){return xs.apply(this,arguments)}function xs(){return xs=(0,F.Z)(function*(w){const C=ul(w),j=yield(yield mr()).transaction(Ss).objectStore(Ss).get(C);if(j)return j;{const Y=yield function _o(w){return hi.apply(this,arguments)}(w.appConfig.senderId);if(Y)return yield us(w,Y),Y}}),xs.apply(this,arguments)}function us(w,C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*(w,C){const M=ul(w),Y=(yield mr()).transaction(Ss,"readwrite");return yield Y.objectStore(Ss).put(C,M),yield Y.done,C})).apply(this,arguments)}function Ws(){return(Ws=(0,F.Z)(function*(w){const C=ul(w),j=(yield mr()).transaction(Ss,"readwrite");yield j.objectStore(Ss).delete(C),yield j.done})).apply(this,arguments)}function ul({appConfig:w}){return w.appId}const rr=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jo(w,C){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(w,C){const M=yield zo(w),j=Sa(C),Y={method:"POST",headers:M,body:JSON.stringify(j)};let X;try{X=yield(yield fetch(pu(w.appConfig),Y)).json()}catch(fe){throw rr.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(X.error)throw rr.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw rr.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Aa(){return(Aa=(0,F.Z)(function*(w,C){const M=yield zo(w),j=Sa(C.subscriptionOptions),Y={method:"PATCH",headers:M,body:JSON.stringify(j)};let X;try{X=yield(yield fetch(`${pu(w.appConfig)}/${C.token}`,Y)).json()}catch(fe){throw rr.create("token-update-failed",{errorInfo:fe?.toString()})}if(X.error)throw rr.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw rr.create("token-update-no-token");return X.token})).apply(this,arguments)}function cl(w,C){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(w,C){const j={method:"DELETE",headers:yield zo(w)};try{const X=yield(yield fetch(`${pu(w.appConfig)}/${C}`,j)).json();if(X.error)throw rr.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(Y){throw rr.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function pu({projectId:w}){return`${hu}/projects/${w}/registrations`}function zo(w){return gu.apply(this,arguments)}function gu(){return(gu=(0,F.Z)(function*({appConfig:w,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Sa({p256dh:w,auth:C,endpoint:M,vapidKey:j}){const Y={web:{endpoint:M,auth:C,p256dh:w}};return j!==il&&(Y.web.applicationPubKey=j),Y}const Ms=6048e5;function dl(){return dl=(0,F.Z)(function*(w){const C=yield function Ad(w,C){return fl.apply(this,arguments)}(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:Wt(C.getKey("auth")),p256dh:Wt(C.getKey("p256dh"))},j=yield si(w.firebaseDependencies);if(j){if(function ls(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(j.subscriptionOptions,M))return Date.now()>=j.createTime+Ms?function Vn(w,C){return hl.apply(this,arguments)}(w,{token:j.token,createTime:Date.now(),subscriptionOptions:M}):j.token;try{yield cl(w.firebaseDependencies,j.token)}catch(Y){console.warn(Y)}return Zs(w.firebaseDependencies,M)}return Zs(w.firebaseDependencies,M)}),dl.apply(this,arguments)}function qi(){return qi=(0,F.Z)(function*(w){const C=yield si(w.firebaseDependencies);C&&(yield cl(w.firebaseDependencies,C.token),yield function Ta(w){return Ws.apply(this,arguments)}(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),qi.apply(this,arguments)}function hl(){return hl=(0,F.Z)(function*(w,C){try{const M=yield function ll(w,C){return Aa.apply(this,arguments)}(w.firebaseDependencies,C),j=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield us(w.firebaseDependencies,j),M}catch(M){throw yield function Sr(w){return qi.apply(this,arguments)}(w),M}}),hl.apply(this,arguments)}function Zs(w,C){return mu.apply(this,arguments)}function mu(){return(mu=(0,F.Z)(function*(w,C){const j={token:yield jo(w,C),createTime:Date.now(),subscriptionOptions:C};return yield us(w,j),j.token})).apply(this,arguments)}function fl(){return(fl=(0,F.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vo(C)})})).apply(this,arguments)}function cs(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function yu(w,C){if(!C.notification)return;w.notification={};const M=C.notification.title;M&&(w.notification.title=M);const j=C.notification.body;j&&(w.notification.body=j);const Y=C.notification.image;Y&&(w.notification.image=Y);const X=C.notification.icon;X&&(w.notification.icon=X)}(C,w),function pl(w,C){C.data&&(w.data=C.data)}(C,w),function gl(w,C){var M,j,Y,X,fe;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const tt=null!==(Y=null===(j=C.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==Y?Y:null===(X=C.notification)||void 0===X?void 0:X.click_action;tt&&(w.fcmOptions.link=tt);const Qe=null===(fe=C.fcmOptions)||void 0===fe?void 0:fe.analytics_label;Qe&&(w.fcmOptions.analyticsLabel=Qe)}(C,w),C}function Eo(w,C){const M=[];for(let j=0;j<w.length;j++)M.push(w.charAt(j)),j<C.length&&M.push(C.charAt(j));return M.join("")}function ds(w){return rr.create("missing-app-config-values",{valueName:w})}Eo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Eo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vu{constructor(C,M,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Go(w){if(!w||!w.options)throw ds("App Configuration Object");if(!w.name)throw ds("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const j of C)if(!M[j])throw ds(j);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:M,analyticsProvider:j}}_delete(){return Promise.resolve()}}function I(w){return D.apply(this,arguments)}function D(){return(D=(0,F.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Bt,{scope:ba}),w.swRegistration.update().catch(()=>{})}catch(C){throw rr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield I(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw rr.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function It(){return(It=(0,F.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=il)})).apply(this,arguments)}function yr(){return yr=(0,F.Z)(function*(w,C){if(!navigator)throw rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rr.create("permission-blocked");return yield function be(w,C){return It.apply(this,arguments)}(w,C?.vapidKey),yield function R(w,C){return z.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function xa(w){return dl.apply(this,arguments)}(w)}),yr.apply(this,arguments)}function fi(){return(fi=(0,F.Z)(function*(w,C,M){const j=function hs(w){switch(w){case _e.NOTIFICATION_CLICKED:return"notification_open";case _e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:M[Bo],message_name:M[Ia],message_time:M[fu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qo(){return qo=(0,F.Z)(function*(w,C){const M=C.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===_e.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(cs(M)):w.onMessageHandler.next(cs(M)));const j=M.data;(function Ma(w){return"object"==typeof w&&!!w&&Bo in w})(j)&&"1"===j[Ca]&&(yield function Br(w,C,M){return fi.apply(this,arguments)}(w,M.messageType,j))}),qo.apply(this,arguments)}const Ra="@firebase/messaging",wu=w=>{const C=new vu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Pa(w,C){return qo.apply(this,arguments)}(C,M)),C},pc=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:j=>function En(w,C){return yr.apply(this,arguments)}(C,j)}};function Qh(){return gc.apply(this,arguments)}function gc(){return(gc=(0,F.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Eu(){(0,se._registerComponent)(new ue.wA("messaging",wu,"PUBLIC")),(0,se._registerComponent)(new ue.wA("messaging-internal",pc,"PRIVATE")),(0,se.registerVersion)(Ra,"0.12.4"),(0,se.registerVersion)(Ra,"0.12.4","esm2017")}();const bo="analytics",yl="firebase_id",Md="origin",bu=6e4,Pd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",xr=new ge.Yd("@firebase/analytics"),ir=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jh(w){if(!w.startsWith(vl)){const C=ir.create("invalid-gtag-resource",{gtagURL:w});return xr.warn(C.message),""}return w}function Io(w){return Promise.all(w.map(C=>C.catch(M=>M)))}function Co(){return(Co=(0,F.Z)(function*(w,C,M,j,Y,X){const fe=j[Y];try{if(fe)yield C[fe];else{const Qe=(yield Io(M)).find(_t=>_t.measurementId===Y);Qe&&(yield C[Qe.appId])}}catch(tt){xr.error(tt)}w("config",Y,X)})).apply(this,arguments)}function Wo(){return(Wo=(0,F.Z)(function*(w,C,M,j,Y){try{let X=[];if(Y&&Y.send_to){let fe=Y.send_to;Array.isArray(fe)||(fe=[fe]);const tt=yield Io(M);for(const Qe of fe){const _t=tt.find(Vt=>Vt.measurementId===Qe),jt=_t&&C[_t.appId];if(!jt){X=[];break}X.push(jt)}}0===X.length&&(X=Object.values(C)),yield Promise.all(X),w("event",j,Y||{})}catch(X){xr.error(X)}})).apply(this,arguments)}const wl=30,Ko=new class Rd{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function ef(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function mn(){return(mn=(0,F.Z)(function*(w){var C;const{appId:M,apiKey:j}=w,Y={method:"GET",headers:ef(j)},X=Pd.replace("{app-id}",M),fe=yield fetch(X,Y);if(200!==fe.status&&304!==fe.status){let tt="";try{const Qe=yield fe.json();null!==(C=Qe.error)&&void 0!==C&&C.message&&(tt=Qe.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:tt})}return fe.json()})).apply(this,arguments)}function kd(){return(kd=(0,F.Z)(function*(w,C=Ko,M){const{appId:j,apiKey:Y,measurementId:X}=w.options;if(!j)throw ir.create("no-app-id");if(!Y){if(X)return{measurementId:X,appId:j};throw ir.create("no-api-key")}const fe=C.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Wm;return setTimeout((0,F.Z)(function*(){tt.abort()}),void 0!==M?M:bu),bc({appId:j,apiKey:Y,measurementId:X},fe,tt,C)})).apply(this,arguments)}function bc(w,C,M){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,F.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:M},j,Y=Ko){var X;const{appId:fe,measurementId:tt}=w;try{yield function tf(w,C){return new Promise((M,j)=>{const Y=Math.max(C-Date.now(),0),X=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(X),j(ir.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(j,C)}catch(Qe){if(tt)return xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:fe,measurementId:tt};throw Qe}try{const Qe=yield function Nd(w){return mn.apply(this,arguments)}(w);return Y.deleteThrottleMetadata(fe),Qe}catch(Qe){const _t=Qe;if(!function qm(w){if(!(w instanceof ce.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(_t)){if(Y.deleteThrottleMetadata(fe),tt)return xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:fe,measurementId:tt};throw Qe}const jt=503===Number(null===(X=_t?.customData)||void 0===X?void 0:X.httpStatus)?(0,ce.$s)(M,Y.intervalMillis,wl):(0,ce.$s)(M,Y.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+jt,backoffCount:M+1};return Y.setThrottleMetadata(fe,Vt),xr.debug(`Calling attemptFetch again in ${jt} millis`),bc(w,Vt,j,Y)}}),Ic.apply(this,arguments)}class Wm{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Yo,Tc;function nf(){return(nf=(0,F.Z)(function*(w,C,M,j,Y){if(Y&&Y.global)w("event",M,j);else{const X=yield C;w("event",M,Object.assign(Object.assign({},j),{send_to:X}))}})).apply(this,arguments)}function bn(){return(bn=(0,F.Z)(function*(){if(!(0,ce.hl)())return xr.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(w){return xr.warn(ir.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function gt(){return gt=(0,F.Z)(function*(w,C,M,j,Y,X,fe){var tt;const Qe=function Ec(w){return kd.apply(this,arguments)}(w);Qe.then(Pt=>{M[Pt.measurementId]=Pt.appId,w.options.measurementId&&Pt.measurementId!==w.options.measurementId&&xr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Pt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pt=>xr.error(Pt)),C.push(Qe);const _t=function Wi(){return bn.apply(this,arguments)}().then(Pt=>{if(Pt)return j.getId()}),[jt,Vt]=yield Promise.all([Qe,_t]);(function Oa(w){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(vl)&&M.src.includes(w))return M;return null})(X)||function ka(w,C){const M=function _l(w,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,C)),M}("firebase-js-sdk-policy",{createScriptURL:Jh}),j=document.createElement("script"),Y=`${vl}?l=${w}&id=${C}`;j.src=M?M?.createScriptURL(Y):Y,j.async=!0,document.head.appendChild(j)}(X,jt.measurementId),Tc&&(Y("consent","default",Tc),function Il(w){Tc=w}(void 0)),Y("js",new Date);const ur=null!==(tt=fe?.config)&&void 0!==tt?tt:{};return ur[Md]="firebase",ur.update=!0,null!=Vt&&(ur[yl]=Vt),Y("config",jt.measurementId,ur),Yo&&(Y("set",Yo),function Ac(w){Yo=w}(void 0)),jt.measurementId}),gt.apply(this,arguments)}class ps{constructor(C){this.app=C}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},Fd=[];const Du={};let Ld,Zi,pi="dataLayer",Sc="gtag",To=!1;function La(w,C,M){!function Qo(){const w=[];if((0,ce.ru)()&&w.push("This is a browser extension environment."),(0,ce.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((j,Y)=>`(${Y+1}) ${j}`).join(" "),M=ir.create("invalid-analytics-context",{errorInfo:C});xr.warn(M.message)}}();const j=w.options.appId;if(!j)throw ir.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ir.create("no-api-key");xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[j])throw ir.create("already-exists",{id:j});if(!To){!function vc(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(pi);const{wrappedGtag:X,gtagCore:fe}=function Zo(w,C,M,j,Y){let X=function(...fe){window[j].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(X=window[Y]),window[Y]=function Iu(w,C,M,j){function X(){return X=(0,F.Z)(function*(fe,...tt){try{if("event"===fe){const[Qe,_t]=tt;yield function Xh(w,C,M,j,Y){return Wo.apply(this,arguments)}(w,C,M,Qe,_t)}else if("config"===fe){const[Qe,_t]=tt;yield function _c(w,C,M,j,Y,X){return Co.apply(this,arguments)}(w,C,M,j,Qe,_t)}else if("consent"===fe){const[Qe]=tt;w("consent","update",Qe)}else if("get"===fe){const[Qe,_t,jt]=tt;w("get",Qe,_t,jt)}else if("set"===fe){const[Qe]=tt;w("set",Qe)}else w(fe,...tt)}catch(Qe){xr.error(Qe)}}),X.apply(this,arguments)}return function Y(fe){return X.apply(this,arguments)}}(X,w,C,M),{gtagCore:X,wrappedGtag:window[Y]}}(vr,Fd,Du,pi,Sc);Zi=X,Ld=fe,To=!0}return vr[j]=function fs(w,C,M,j,Y,X,fe){return gt.apply(this,arguments)}(w,Fd,Du,C,Ld,pi,M),new ps(w)}function Vd(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const xu="@firebase/analytics";!function Rc(){(0,se._registerComponent)(new ue.wA(bo,(C,{options:M})=>La(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ue.wA("analytics-internal",function w(C){try{const M=C.getProvider(bo).getImmediate();return{logEvent:(j,Y,X)=>function rf(w,C,M,j){w=(0,ce.m9)(w),function Zm(w,C,M,j,Y){return nf.apply(this,arguments)}(Zi,vr[w.app.options.appId],C,M,j).catch(Y=>xr.error(Y))}(M,j,Y,X)}}catch(M){throw ir.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(xu,"0.10.0"),(0,se.registerVersion)(xu,"0.10.0","esm2017")}();var Nc=$(4408),Vi=$(7565);const gi=new class kc extends Vi.v{}(class Mu extends Nc.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(C,M,j):(C.flush(this),0)}});var sf=$(4986),ar=$(9751),Xo=$(8505),ea=$(9468),Ai=$(5363);const Pr=new d.GfV("7.5.0"),Ru="__angularfire_symbol__analyticsIsSupportedValue",Tl="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",gs="__angularfire_symbol__remoteConfigIsSupported",Ks="__angularfire_symbol__messagingIsSupportedValue",$r="__angularfire_symbol__messagingIsSupported";function Ua(w,C,M){if(C){if(1===C.length)return C[0];const X=C.filter(fe=>fe.app===M);if(1===X.length)return X[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Tl]||(globalThis[Tl]=Vd().then(w=>globalThis[Ru]=w).catch(()=>globalThis[Ru]=!1)),globalThis[$r]||(globalThis[$r]=Qh().then(w=>globalThis[Ks]=w).catch(()=>globalThis[Ks]=!1)),globalThis[gs]||(globalThis[gs]=cu().then(w=>globalThis[Va]=w).catch(()=>globalThis[Va]=!1));const Bd=(w,C)=>{const M=C?[C]:(0,N.C6)(),j=[];return M.forEach(Y=>{Y.container.getProvider(w).instances.forEach(fe=>{j.includes(fe)||j.push(fe)})}),j};function ta(){}class Ba{constructor(C,M=gi){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,j){const Y=this.zone;return this.delegate.schedule(function(fe){Y.runGuarded(()=>{C.apply(this,[fe])})},M,j)}}class Ft{constructor(C){this.zone=C,this.task=null}call(C,M){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),M.pipe((0,Xo.b)({next:j,complete:j,error:j})).subscribe(C).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ba(Zone.current)),this.insideAngular=M.run(()=>new Ba(Zone.current,sf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function na(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function So(w){return na().ngZone.run(()=>w())}function Fc(w){return na(),function jd(w){return function(M){return(M=M.lift(new Ft(w.ngZone))).pipe((0,ea.R)(w.outsideAngular),(0,Ai.Q)(w.insideAngular))}}(na())(w)}const Lc=(w,C)=>function(){const j=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),So(()=>w.apply(void 0,j))},Hd=(w,C)=>function(){let M;const j=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof j[X]&&(C&&(M||(M=So(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)))),j[X]=Lc(j[X],M));const Y=function $a(w){return na().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,j));if(!C){if(Y instanceof ar.y){const X=na();return Y.pipe((0,ea.R)(X.outsideAngular),(0,Ai.Q)(X.insideAngular))}return So(()=>Y)}return Y instanceof ar.y?Y.pipe(Fc):Y instanceof Promise?So(()=>new Promise((X,fe)=>Y.then(tt=>So(()=>X(tt)),tt=>So(()=>fe(tt))))):"function"==typeof Y&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Y.apply(this,arguments)}:So(()=>Y)}},8502:(Dt,le,$)=>{"use strict";$.d(le,{$:()=>Bt,A:()=>Z,D:()=>Pe,I:()=>Kn,J:()=>Dr,L:()=>Gi,N:()=>Vr,P:()=>fs,Q:()=>js,R:()=>bl,U:()=>lu,V:()=>cu,W:()=>ho,X:()=>as,Y:()=>wa,Z:()=>nl,_:()=>go,a:()=>Ti,a0:()=>il,a1:()=>Bo,a2:()=>Dd,a3:()=>sl,a4:()=>hi,a5:()=>ol,a6:()=>Ss,a7:()=>mr,a8:()=>xs,a9:()=>Fi,aA:()=>oe,aB:()=>Tl,aC:()=>kn,aD:()=>Kr,aE:()=>Xo,aF:()=>Su,aG:()=>Au,aH:()=>_n,aL:()=>Ps,aO:()=>Ts,aa:()=>Ta,ab:()=>ul,ac:()=>Td,ad:()=>ll,ae:()=>cl,af:()=>pu,ai:()=>Ms,aj:()=>dl,ak:()=>Sr,an:()=>fc,ao:()=>yu,aq:()=>It,ar:()=>Ra,as:()=>Ct,at:()=>Mt,au:()=>Te,av:()=>Re,aw:()=>Vt,ax:()=>$r,ay:()=>Qt,az:()=>Me,b:()=>ml,c:()=>Zi,d:()=>La,e:()=>xc,f:()=>xu,g:()=>kc,h:()=>Nc,i:()=>wc,j:()=>sf,k:()=>Yi,l:()=>Cu,m:()=>Sl,o:()=>Gd,p:()=>ye,r:()=>Od,s:()=>Do,u:()=>Wi});var d=$(5861),N=$(2090),F=$(6881),se=$(655),ce=$(1877),ue=$(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Je=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ce.Yd("@firebase/auth");function Be(v,...f){xe.logLevel<=ce.in.ERROR&&xe.error(`Auth (${F.SDK_VERSION}): ${v}`,...f)}function Re(v,...f){throw Le(v,...f)}function Me(v,...f){return Le(v,...f)}function ke(v,f,m){const E=Object.assign(Object.assign({},Je()),{[f]:m});return new N.LL("auth","Firebase",E).create(f,{appName:v.name})}function Ge(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Re(v,"argument-error"),ke(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(v,...f){if("string"!=typeof v){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return Xe.create(v,...f)}function oe(v,f,...m){if(!v)throw Le(f,...m)}function et(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Be(f),new Error(f)}function Ct(v,f){v||et(f)}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function nn(){return"http:"===lt()||"https:"===lt()}function lt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Se{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ct(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nn()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(v,f){Ct(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Ke{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ht=new Se(3e4,6e4);function We(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function $t(v,f,m,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(v,f,m,E,P={}){return Tt(v,P,(0,d.Z)(function*(){let L={},ee={};E&&("GET"===f?ee=E:L={body:JSON.stringify(E)});const de=(0,N.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),Ke.fetch()(An(v,v.config.apiHost,m,de),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Tt(v,f,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(v,f,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},qe),f);try{const P=new wr(v),L=yield Promise.race([m(),P.promise]);P.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw Qn(v,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const de=L.ok?ee.errorMessage:ee.error.message,[He,it]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Qn(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===He)throw Qn(v,"email-already-in-use",ee);if("USER_DISABLED"===He)throw Qn(v,"user-disabled",ee);const St=E[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw ke(v,St,it);Re(v,St)}}catch(P){if(P instanceof N.ZR)throw P;Re(v,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function rn(v,f,m,E){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(v,f,m,E,P={}){const L=yield $t(v,f,m,E,P);return"mfaPendingCredential"in L&&Re(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function An(v,f,m,E){const P=`${f}${m}?${E}`;return v.config.emulator?Ne(v.config,P):`${v.config.apiScheme}://${P}`}class wr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Me(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(v,f,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const P=Me(v,f,E);return P.customData._tokenResponse=m,P}function Un(){return(Un=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ft(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Xn(){return(Xn=(0,d.Z)(function*(v,f=!1){const m=(0,N.m9)(v),E=yield m.getIdToken(f),P=Lr(E);oe(P&&P.exp&&P.auth_time&&P.iat,m.auth,"internal-error");const L="object"==typeof P.firebase?P.firebase:void 0,ee=L?.sign_in_provider;return{claims:P,token:E,authTime:ft(Er(P.auth_time)),issuedAtTime:ft(Er(P.iat)),expirationTime:ft(Er(P.exp)),signInProvider:ee||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Er(v){return 1e3*Number(v)}function Lr(v){const[f,m,E]=v.split(".");if(void 0===f||void 0===m||void 0===E)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,N.tV)(m);return P?JSON.parse(P):(Be("Failed to decode base64 JWT payload"),null)}catch(P){return Be("Caught error parsing JWT payload as JSON",P?.toString()),null}}function Yt(v,f){return pt.apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof N.ZR&&function Ye({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class er{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class br{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ft(this.lastLoginAt),this.creationTime=ft(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(v){return ri.apply(this,arguments)}function ri(){return ri=(0,d.Z)(function*(v){var f;const m=v.auth,E=yield v.getIdToken(),P=yield Yt(v,function Bn(v,f){return cn.apply(this,arguments)}(m,{idToken:E}));oe(P?.users.length,m,"internal-error");const L=P.users[0];v._notifyReloadListener(L);const ee=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?function bi(v){return v.map(f=>{var{providerId:m}=f,E=(0,se._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(L.providerUserInfo):[],de=function sn(v,f){return[...v.filter(E=>!f.some(P=>P.providerId===E.providerId)),...f]}(v.providerData,ee),St=!!v.isAnonymous&&!(v.email&&L.passwordHash||de?.length),on={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:de,metadata:new br(L.createdAt,L.lastLoginAt),isAnonymous:St};Object.assign(v,on)}),ri.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(v){const f=(0,N.m9)(v);yield $n(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(v,f){const m=yield Tt(v,{},(0,d.Z)(function*(){const E=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:P,apiKey:L}=v.config,ee=An(v,P,"/v1/token",`key=${L}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(ee,{method:"POST",headers:de,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(typeof f.idToken<"u","internal-error"),oe(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function hn(v){const f=Lr(v);return oe(f,"internal-error"),oe(typeof f.exp<"u","internal-error"),oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,d.Z)(function*(){return oe(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,d.Z)(function*(){const{accessToken:P,refreshToken:L,expiresIn:ee}=yield function an(v,f){return ii.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(P,L,Number(ee))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:P,expirationTime:L}=m,ee=new Zt;return E&&(oe("string"==typeof E,"internal-error",{appName:f}),ee.refreshToken=E),P&&(oe("string"==typeof P,"internal-error",{appName:f}),ee.accessToken=P),L&&(oe("number"==typeof L,"internal-error",{appName:f}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return et("not implemented")}}function jn(v,f){oe("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Hn{constructor(f){var{uid:m,auth:E,stsTokenManager:P}=f,L=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new br(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const E=yield Yt(m,m.stsTokenManager.getToken(m.auth,f));return oe(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function qn(v){return Xn.apply(this,arguments)}(this,f)}reload(){return function Wn(v){return Fn.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Hn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,d.Z)(function*(){let P=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),P=!0),m&&(yield $n(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Yt(f,function Ut(v,f){return Un.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,P,L,ee,de,He,it,St;const on=null!==(E=m.displayName)&&void 0!==E?E:void 0,Si=null!==(P=m.email)&&void 0!==P?P:void 0,ra=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Ha=null!==(ee=m.photoURL)&&void 0!==ee?ee:void 0,Uc=null!==(de=m.tenantId)&&void 0!==de?de:void 0,Qs=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,cf=null!==(it=m.createdAt)&&void 0!==it?it:void 0,qd=null!==(St=m.lastLoginAt)&&void 0!==St?St:void 0,{uid:Bc,emailVerified:za,isAnonymous:Wd,providerData:Zd,stsTokenManager:Rl}=m;oe(Bc&&Rl,f,"internal-error");const Kd=Zt.fromJSON(this.name,Rl);oe("string"==typeof Bc,f,"internal-error"),jn(on,f.name),jn(Si,f.name),oe("boolean"==typeof za,f,"internal-error"),oe("boolean"==typeof Wd,f,"internal-error"),jn(ra,f.name),jn(Ha,f.name),jn(Uc,f.name),jn(Qs,f.name),jn(cf,f.name),jn(qd,f.name);const Nl=new Hn({uid:Bc,auth:f,email:Si,emailVerified:za,displayName:on,isAnonymous:Wd,photoURL:Ha,phoneNumber:ra,tenantId:Uc,stsTokenManager:Kd,createdAt:cf,lastLoginAt:qd});return Zd&&Array.isArray(Zd)&&(Nl.providerData=Zd.map(Ga=>Object.assign({},Ga))),Qs&&(Nl._redirectEventId=Qs),Nl}static _fromIdTokenResponse(f,m,E=!1){return(0,d.Z)(function*(){const P=new Zt;P.updateFromServerResponse(m);const L=new Hn({uid:m.localId,auth:f,stsTokenManager:P,isAnonymous:E});return yield $n(L),L})()}}const Ir=new Map;function kn(v){Ct(v instanceof Function,"Expected a class definition");let f=Ir.get(v);return f?(Ct(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Ir.set(v,f),f)}const Vr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,E){var P=this;return(0,d.Z)(function*(){P.storage[m]=E})()}_get(m){var E=this;return(0,d.Z)(function*(){const P=E.storage[m];return void 0===P?null:P})()}_remove(m){var E=this;return(0,d.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function Kr(v,f,m){return`firebase:${v}:${f}:${m}`}class q{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:P,name:L}=this.auth;this.fullUserKey=Kr(this.userKey,P.apiKey,L),this.fullPersistenceKey=Kr("persistence",P.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Hn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,d.Z)(function*(){if(!m.length)return new q(kn(Vr),f,E);const P=(yield Promise.all(m.map(function(){var it=(0,d.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return it.apply(this,arguments)}}()))).filter(it=>it);let L=P[0]||kn(Vr);const ee=Kr(E,f.config.apiKey,f.name);let de=null;for(const it of m)try{const St=yield it._get(ee);if(St){const on=Hn._fromJSON(f,St);it!==L&&(de=on),L=it;break}}catch{}const He=P.filter(it=>it._shouldAllowMigration);return L._shouldAllowMigration&&He.length?(L=He[0],de&&(yield L._set(ee,de.toJSON())),yield Promise.all(m.map(function(){var it=(0,d.Z)(function*(St){if(St!==L)try{yield St._remove(ee)}catch{}});return function(St){return it.apply(this,arguments)}}())),new q(L,f,E)):new q(L,f,E)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Q(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(V(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ut(f))return"Blackberry";if(kt(f))return"Webos";if(B(f))return"Safari";if((f.includes("chrome/")||O(f))&&!f.includes("edge/"))return"Chrome";if(Te(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function V(v=(0,N.z$)()){return/firefox\//i.test(v)}function B(v=(0,N.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function O(v=(0,N.z$)()){return/crios\//i.test(v)}function Q(v=(0,N.z$)()){return/iemobile/i.test(v)}function Te(v=(0,N.z$)()){return/android/i.test(v)}function ut(v=(0,N.z$)()){return/blackberry/i.test(v)}function kt(v=(0,N.z$)()){return/webos/i.test(v)}function Mt(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Qt(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function qt(v=(0,N.z$)()){return Mt(v)||Te(v)||kt(v)||ut(v)||/windows phone/i.test(v)||Q(v)}function zi(v,f=[]){let m;switch(v){case"Browser":m=G((0,N.z$)());break;case"Worker":m=`${G((0,N.z$)())}-${v}`;break;default:m=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${F.SDK_VERSION}/${E}`}function re(){return(re=(0,d.Z)(function*(v){return(yield $t(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(v,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(v,f){return $t(v,"GET","/v2/recaptchaConfig",We(v,f))})).apply(this,arguments)}function Ot(v){return void 0!==v&&void 0!==v.getResponse}function Jt(v){return void 0!==v&&void 0!==v.enterprise}class bt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function dn(v){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=P=>{const L=Me("internal-error");L.customData=P,m(L)},E.type="text/javascript",E.charset="UTF-8",function vn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function Cr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ac="NO_RECAPTCHA";class ws{constructor(f){this.type="recaptcha-enterprise",this.auth=_n(f)}verify(f="verify",m=!1){var E=this;return(0,d.Z)(function*(){function L(){return L=(0,d.Z)(function*(de){if(!m){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var He=(0,d.Z)(function*(it,St){Ue(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(on=>{if(void 0!==on.recaptchaKey){const Si=new bt(on);return null==de.tenantId?de._agentRecaptchaConfig=Si:de._tenantRecaptchaConfigs[de.tenantId]=Si,it(Si.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(on=>{St(on)})});return function(it,St){return He.apply(this,arguments)}}())}),L.apply(this,arguments)}function ee(de,He,it){const St=window.grecaptcha;Jt(St)?St.enterprise.ready(()=>{St.enterprise.execute(de,{action:f}).then(on=>{He(on)}).catch(()=>{He(ac)})}):it(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,He)=>{(function P(de){return L.apply(this,arguments)})(E.auth).then(it=>{if(!m&&Jt(window.grecaptcha))ee(it,de,He);else{if(typeof window>"u")return void He(new Error("RecaptchaVerifier is only supported in browser"));dn("https://www.google.com/recaptcha/enterprise.js?render="+it).then(()=>{ee(it,de,He)}).catch(St=>{He(St)})}}).catch(it=>{He(it)})})})()}}function pr(v,f,m){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(v,f,m,E=!1){const P=new ws(v);let L;try{L=yield P.verify(m)}catch{L=yield P.verify(m,!0)}const ee=Object.assign({},f);return Object.assign(ee,E?{captchaResp:L}:{captchaResponse:L}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Xt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=L=>new Promise((ee,de)=>{try{ee(f(L))}catch(He){de(He)}});E.onAbort=m,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const P of m.queue)yield P(f),P.onAbort&&E.push(P.onAbort)}catch(P){E.reverse();for(const L of E)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Ln{constructor(f,m,E,P){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rs(this),this.idTokenSubscription=new rs(this),this.beforeStateQueue=new Xt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=kn(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var P,L;if(!E._deleted&&(E.persistenceManager=yield q.create(E,f),!E._deleted)){if(null!==(P=E._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var E;const P=yield m.assertedPersistence.getCurrentUser();let L=P,ee=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,He=L?._redirectEventId,it=yield m.tryRedirectSignIn(f);(!de||de===He)&&it?.user&&(L=it.user,ee=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(ee)try{yield m.beforeStateQueue.runMiddleware(L)}catch(de){L=P,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield $n(f)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const E=f?(0,N.m9)(f):null;return E&&oe(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return f&&oe(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(kn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const m=yield Ue(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new bt(m);null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,E.emailPasswordEnabled&&new ws(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,d.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(m);return null===f?P.removeCurrentUser():P.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&kn(f)||m._popupRedirectResolver;oe(E,m,"argument-error"),m.redirectPersistenceManager=yield q.create(m,[kn(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var E,P;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,P){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,E,P):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=zi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const P=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();P&&(E["X-Firebase-Client"]=P);const L=yield f._getAppCheckToken();return L&&(E["X-Firebase-AppCheck"]=L),E})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var m;const E=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function Ie(v,...f){xe.logLevel<=ce.in.WARN&&xe.warn(`Auth (${F.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function _n(v){return(0,N.m9)(v)}class rs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kn(v,f,m){const E=_n(v);oe(E._canInitEmulator,E,"emulator-config-failed"),oe(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const P=!!m?.disableWarnings,L=Fo(f),{host:ee,port:de}=function ss(v){const f=Fo(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const L=P[1];return{host:L,port:Kt(E.substr(L.length+1))}}{const[L,ee]=E.split(":");return{host:L,port:Kt(ee)}}}(f);E.config.emulator={url:`${L}//${ee}${null===de?"":`:${de}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ee,port:de,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function va(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Fo(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Kt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Dr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(f){return et("not implemented")}_linkToIdToken(f,m){return et("not implemented")}_getReauthenticationResolver(f){return et("not implemented")}}function Fs(v,f){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:resetPassword",We(v,f))})).apply(this,arguments)}function tr(v,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:update",We(v,f))})).apply(this,arguments)}function oo(v,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithPassword",We(v,f))})).apply(this,arguments)}function Dn(v,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:sendOobCode",We(v,f))})).apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(v,f){return Dn(v,f)})).apply(this,arguments)}function Us(v,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(v,f){return Dn(v,f)})).apply(this,arguments)}function Bs(v,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(v,f){return Dn(v,f)})).apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)(function*(v,f){return Dn(v,f)})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithEmailLink",We(v,f))})).apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithEmailLink",We(v,f))})).apply(this,arguments)}class Qr extends Dr{constructor(f,m,E,P=null){super("password",E),this._email=f,this._password=m,this._tenantId=P}static _fromEmailAndPassword(f,m){return new Qr(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new Qr(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){var E;switch(m.signInMethod){case"password":const P={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const L=yield pr(f,P,"signInWithPassword");return oo(f,L)}return oo(f,P).catch(function(){var L=(0,d.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield pr(f,P,"signInWithPassword");return oo(f,de)}return Promise.reject(ee)});return function(ee){return L.apply(this,arguments)}}());case"emailLink":return function ki(v,f){return $s.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Re(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return tr(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function _a(v,f){return Vo.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Re(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Is(v,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithIdp",We(v,f))})).apply(this,arguments)}class Gi extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Re("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:P}=m,L=(0,se._T)(m,["providerId","signInMethod"]);if(!E||!P)return null;const ee=new Gi(E,P);return ee.idToken=L.idToken||void 0,ee.accessToken=L.accessToken||void 0,ee.secret=L.secret,ee.nonce=L.nonce,ee.pendingToken=L.pendingToken||null,ee}_getIdTokenResponse(f){return Is(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Is(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Is(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function ao(){return(ao=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:sendVerificationCode",We(v,f))})).apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",We(v,f))})).apply(this,arguments)}function ou(){return(ou=(0,d.Z)(function*(v,f){const m=yield rn(v,"POST","/v1/accounts:signInWithPhoneNumber",We(v,f));if(m.temporaryProof)throw Qn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const au={USER_NOT_FOUND:"user-not-found"};function lc(){return(lc=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",We(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),au)})).apply(this,arguments)}class Ds extends Dr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ds({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ds({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function uc(v,f){return tl.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Cd(v,f){return ou.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function uu(v,f){return lc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:P}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:P}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:P,temporaryProof:L}=f;return E||m||P||L?new Ds({verificationId:m,verificationCode:E,phoneNumber:P,temporaryProof:L}):null}}class lo{constructor(f){var m,E,P,L,ee,de;const He=(0,N.zd)((0,N.pd)(f)),it=null!==(m=He.apiKey)&&void 0!==m?m:null,St=null!==(E=He.oobCode)&&void 0!==E?E:null,on=function uo(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=He.mode)&&void 0!==P?P:null);oe(it&&St&&on,"argument-error"),this.apiKey=it,this.operation=on,this.code=St,this.continueUrl=null!==(L=He.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=He.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(de=He.tenantId)&&void 0!==de?de:null}static parseLink(f){const m=function cc(v){const f=(0,N.zd)((0,N.pd)(v)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,E=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(E?(0,N.zd)((0,N.pd)(E)).link:null)||E||m||f||v}(f);try{return new lo(m)}catch{return null}}}let js=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Qr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const P=lo.parseLink(E);return oe(P,"argument-error"),Qr._fromEmailAndCode(m,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Hs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class co extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class as extends co{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),Gi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return as.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return as.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:L,nonce:ee,providerId:de}=f;if(!E&&!P&&!m&&!L||!de)return null;try{return new as(de)._credential({idToken:m,accessToken:E,nonce:ee,pendingToken:L})}catch{return null}}}let lu=(()=>{class v extends co{constructor(){super("facebook.com")}static credential(m){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),cu=(()=>{class v extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:P}=m;if(!E&&!P)return null;try{return v.credential(E,P)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ho=(()=>{class v extends co{constructor(){super("github.com")}static credential(m){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ts extends Dr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Is(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Is(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Is(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:P,pendingToken:L}=m;return E&&P&&L&&E===P?new Ts(E,L):null}static _create(f,m){return new Ts(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wa extends Hs{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return wa.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return wa.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ts.fromJSON(f);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Ts._create(E,m)}catch{return null}}}let nl=(()=>{class v extends co{constructor(){super("twitter.com")}static credential(m,E){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=m;if(!E||!P)return null;try{return v.credential(E,P)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function fo(v,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signUp",We(v,f))})).apply(this,arguments)}class zn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,P=!1){return(0,d.Z)(function*(){const L=yield Hn._fromIdTokenResponse(f,E,P),ee=po(E);return new zn({user:L,providerId:ee,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const P=po(E);return new zn({user:f,providerId:P,_tokenResponse:E,operationType:m})})()}}function po(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function go(v){return or.apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(v){var f;const m=_n(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new zn({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield fo(m,{returnSecureToken:!0}),P=yield zn._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class Di extends N.ZR{constructor(f,m,E,P){var L;super(m.code,m.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,Di.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,P){return new Di(f,m,E,P)}}function Gs(v,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Di._fromErrorAndOperation(v,L,f,E):L})}function Ar(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function fc(v,f){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v);yield Uo(!0,m,f);const{providerUserInfo:E}=yield function Jn(v,f){return Fr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),P=Ar(E||[]);return m.providerData=m.providerData.filter(L=>P.has(L.providerId)),P.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Ea.apply(this,arguments)}function Jr(v,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(v,f,m=!1){const E=yield Yt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return zn._forOperation(v,"link",E)})).apply(this,arguments)}function Uo(v,f,m){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(v,f,m){yield $n(f);const P=!1===v?"provider-already-linked":"no-such-provider";oe(Ar(f.providerData).has(m)===v,f.auth,P)})).apply(this,arguments)}function rl(v,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(v,f,m=!1){const{auth:E}=v,P="reauthenticate";try{const L=yield Yt(v,Gs(E,P,f,v),m);oe(L.idToken,E,"internal-error");const ee=Lr(L.idToken);oe(ee,E,"internal-error");const{sub:de}=ee;return oe(v.uid===de,E,"user-mismatch"),zn._forOperation(v,P,L)}catch(L){throw"auth/user-not-found"===L?.code&&Re(E,"user-mismatch"),L}})).apply(this,arguments)}function mo(v,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(v,f,m=!1){const E="signIn",P=yield Gs(v,E,f),L=yield zn._fromIdTokenResponse(v,E,P);return m||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Bt(v,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(v,f){return mo(_n(v),f)})).apply(this,arguments)}function il(v,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v);return yield Uo(!1,m,f.providerId),Jr(m,f)})).apply(this,arguments)}function Bo(v,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(v,f){return rl((0,N.m9)(v),f)})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(v,f){return rn(v,"POST","/v1/accounts:signInWithCustomToken",We(v,f))})).apply(this,arguments)}function Dd(v,f){return _e.apply(this,arguments)}function _e(){return _e=(0,d.Z)(function*(v,f){const m=_n(v),E=yield function fu(v,f){return Ca.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),P=yield zn._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(P.user),P}),_e.apply(this,arguments)}class Wt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?vo._fromServerResponse(f,m):"totpInfo"in m?$o._fromServerResponse(f,m):Re(f,"internal-error")}}class vo extends Wt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new vo(m)}}class $o extends Wt{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new $o(m)}}function nr(v,f,m){var E;oe((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function sl(v,f,m){return _o.apply(this,arguments)}function _o(){return _o=(0,d.Z)(function*(v,f,m){var E;const P=_n(v),L={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ee=yield pr(P,L,"getOobCode",!0);m&&nr(P,ee,m),yield Us(P,ee)}else m&&nr(P,L,m),yield Us(P,L).catch(function(){var ee=(0,d.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const He=yield pr(P,L,"getOobCode",!0);m&&nr(P,He,m),yield Us(P,He)}});return function(de){return ee.apply(this,arguments)}}())}),_o.apply(this,arguments)}function hi(v,f,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(v,f,m){yield Fs((0,N.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function ol(v,f){return al.apply(this,arguments)}function al(){return al=(0,d.Z)(function*(v,f){yield function Ls(v,f){return Ii.apply(this,arguments)}((0,N.m9)(v),{oobCode:f})}),al.apply(this,arguments)}function Ss(v,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v),E=yield Fs(m,{oobCode:f}),P=E.requestType;switch(oe(P,m,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(E.mfaInfo,m,"internal-error");default:oe(E.email,m,"internal-error")}let L=null;return E.mfaInfo&&(L=Wt._fromServerResponse(_n(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:P}})).apply(this,arguments)}function mr(v,f){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(v,f){const{data:m}=yield Ss((0,N.m9)(v),f);return m.email})).apply(this,arguments)}function xs(v,f,m){return us.apply(this,arguments)}function us(){return us=(0,d.Z)(function*(v,f,m){var E;const P=_n(v),L={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const it=yield pr(P,L,"signUpPassword");ee=fo(P,it)}else ee=fo(P,L).catch(function(){var it=(0,d.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const on=yield pr(P,L,"signUpPassword");return fo(P,on)}return Promise.reject(St)});return function(St){return it.apply(this,arguments)}}());const de=yield ee.catch(it=>Promise.reject(it)),He=yield zn._fromIdTokenResponse(P,"signIn",de);return yield P._updateCurrentUser(He.user),He}),us.apply(this,arguments)}function Fi(v,f,m){return Bt((0,N.m9)(v),js.credential(f,m))}function Ta(v,f,m){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,d.Z)(function*(v,f,m){var E;const P=_n(v),L={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function ee(de,He){oe(He.handleCodeInApp,P,"argument-error"),He&&nr(P,de,He)}if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const de=yield pr(P,L,"getOobCode",!0);ee(de,m),yield Bs(P,de)}else ee(L,m),yield Bs(P,L).catch(function(){var de=(0,d.Z)(function*(He){if("auth/missing-recaptcha-token"!==He.code)return Promise.reject(He);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield pr(P,L,"getOobCode",!0);ee(it,m),yield Bs(P,it)}});return function(He){return de.apply(this,arguments)}}())}),Ws.apply(this,arguments)}function ul(v,f){return"EMAIL_SIGNIN"===lo.parseLink(f)?.operation}function Td(v,f,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v),P=js.credentialWithLink(f,m||rt());return oe(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Bt(E,P)})).apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:createAuthUri",We(v,f))})).apply(this,arguments)}function ll(v,f){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,d.Z)(function*(v,f){const E={identifier:f,continueUri:nn()?rt():"http://localhost"},{signinMethods:P}=yield function jo(v,f){return Ho.apply(this,arguments)}((0,N.m9)(v),E);return P||[]}),Aa.apply(this,arguments)}function cl(v,f){return wo.apply(this,arguments)}function wo(){return wo=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&nr(m.auth,P,f);const{email:L}=yield function Vs(v,f){return Lo.apply(this,arguments)}(m.auth,P);L!==v.email&&(yield v.reload())}),wo.apply(this,arguments)}function pu(v,f,m){return zo.apply(this,arguments)}function zo(){return zo=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&nr(E.auth,L,m);const{email:ee}=yield function el(v,f){return Yr.apply(this,arguments)}(E.auth,L);ee!==v.email&&(yield v.reload())}),zo.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(v,f){return $t(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ms(v,f){return xa.apply(this,arguments)}function xa(){return xa=(0,d.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,N.m9)(v),L={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ee=yield Yt(E,function gu(v,f){return Sa.apply(this,arguments)}(E.auth,L));E.displayName=ee.displayName||null,E.photoURL=ee.photoUrl||null;const de=E.providerData.find(({providerId:He})=>"password"===He);de&&(de.displayName=E.displayName,de.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ee)}),xa.apply(this,arguments)}function dl(v,f){return qi((0,N.m9)(v),f,null)}function Sr(v,f){return qi((0,N.m9)(v),null,f)}function qi(v,f,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(v,f,m){const{auth:E}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const ee=yield Yt(v,tr(E,L));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Zs{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class mu extends Zs{constructor(f,m,E,P){super(f,m,E),this.username=P}}class Ad extends Zs{constructor(f,m){super(f,"facebook.com",m)}}class fl extends mu{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ls extends Zs{constructor(f,m){super(f,"google.com",m)}}class cs extends mu{constructor(f,m,E){super(f,"twitter.com",m,E)}}function yu(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function hl(v){var f,m;if(!v)return null;const{providerId:E}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const ee=null===(m=null===(f=Lr(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ee)return new Zs(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!E)return null;switch(E){case"facebook.com":return new Ad(L,P);case"github.com":return new fl(L,P);case"google.com":return new ls(L,P);case"twitter.com":return new cs(L,P,v.screenName||null);case"custom":case"anonymous":return new Zs(L,null);default:return new Zs(L,E,P)}}(m)}class z{constructor(f,m,E){this.type=f,this.credential=m,this.auth=E}static _fromIdtoken(f,m){return new z("enroll",f,m)}static _fromMfaPendingCredential(f){return new z("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return z._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return z._fromIdtoken(f.multiFactorSession.idToken)}return null}}class be{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=_n(f),P=m.customData._serverResponse,L=(P.mfaInfo||[]).map(de=>Wt._fromServerResponse(E,de));oe(P.mfaPendingCredential,E,"internal-error");const ee=z._fromMfaPendingCredential(P.mfaPendingCredential);return new be(ee,L,function(){var de=(0,d.Z)(function*(He){const it=yield He._process(E,ee);delete P.mfaInfo,delete P.mfaPendingCredential;const St=Object.assign(Object.assign({},P),{idToken:it.idToken,refreshToken:it.refreshToken});switch(m.operationType){case"signIn":const on=yield zn._fromIdTokenResponse(E,m.operationType,St);return yield E._updateCurrentUser(on.user),on;case"reauthenticate":return oe(m.user,E,"internal-error"),zn._forOperation(m.user,m.operationType,St);default:Re(E,"internal-error")}});return function(He){return de.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function It(v,f){var m;const E=(0,N.m9)(v),P=f;return oe(f.customData.operationType,E,"argument-error"),oe(null===(m=P.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),be._fromError(E,P)}class Pa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Wt._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Pa(f)}getSession(){var f=this;return(0,d.Z)(function*(){return z._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var E=this;return(0,d.Z)(function*(){const P=f,L=yield E.getSession(),ee=yield Yt(E.user,P._process(E.user.auth,L,m));return yield E.user._updateTokensIfNecessary(ee),E.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const E="string"==typeof f?f:f.uid,P=yield m.user.getIdToken();try{const L=yield Yt(m.user,function hs(v,f){return $t(v,"POST","/v2/accounts/mfaEnrollment:withdraw",We(v,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==E),yield m.user._updateTokensIfNecessary(L),yield m.user.reload()}catch(L){throw L}})()}}const qo=new WeakMap;function Ra(v){const f=(0,N.m9)(v);return qo.has(f)||qo.set(f,Pa._fromUser(f)),qo.get(f)}const _u="__sak";class wu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ml=(()=>{class v extends wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pc(){const v=(0,N.z$)();return B(v)||Mt(v)}()&&function Zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),L=this.localCache[E];P!==L&&m(E,L,P)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((de,He,it)=>{this.notifyListeners(de,it)});const P=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(P);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(P,m.newValue):this.storage.removeItem(P);else if(this.localCache[P]===m.newValue&&!E)return}const L=()=>{const de=this.storage.getItem(P);!E&&this.localCache[P]===de||this.notifyListeners(P,de)},ee=this.storage.getItem(P);!function Sn(){return(0,N.w1)()&&10===document.documentMode}()||ee===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,E){this.localCache[m]=E;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var P=()=>super._set,L=this;return(0,d.Z)(function*(){yield P().call(L,m,E),L.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,P=this;return(0,d.Z)(function*(){const L=yield E().call(P,m);return P.localCache[m]=JSON.stringify(L),L})()}_remove(m){var E=()=>super._remove,P=this;return(0,d.Z)(function*(){yield E().call(P,m),delete P.localCache[m]})()}}return v.type="LOCAL",v})(),Ti=(()=>{class v extends wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let yc=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(L=>L.isListeningto(m));if(E)return E;const P=new v(m);return this.receivers.push(P),P}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,d.Z)(function*(){const P=m,{eventId:L,eventType:ee,data:de}=P.data,He=E.handlersMap[ee];if(!He?.size)return;P.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const it=Array.from(He).map(function(){var on=(0,d.Z)(function*(Si){return Si(P.origin,de)});return function(Si){return on.apply(this,arguments)}}()),St=yield function Sd(v){return Promise.all(v.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(it);P.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:St})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ps(v="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return v+m}class xd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var P=this;return(0,d.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,de;return new Promise((He,it)=>{const St=Ps("",20);L.port1.start();const on=setTimeout(()=>{it(new Error("unsupported_event"))},E);de={messageChannel:L,onMessage(Si){const ra=Si;if(ra.data.eventId===St)switch(ra.data.status){case"ack":clearTimeout(on),ee=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),He(ra.data.response);break;default:clearTimeout(on),clearTimeout(ee),it(new Error("invalid_response"))}}},P.handlers.add(de),L.port1.addEventListener("message",de.onMessage),P.target.postMessage({eventType:f,eventId:St,data:m},[L.port2])}).finally(()=>{de&&P.removeMessageHandler(de)})})()}}function dr(){return window}function yl(){return typeof dr().WorkerGlobalScope<"u"&&"function"==typeof dr().importScripts}function bu(){return(bu=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xr="firebaseLocalStorageDb",Na=1,ir="firebaseLocalStorage",Jh="fbase_key";class Io{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function _l(v,f){return v.transaction([ir],f?"readwrite":"readonly").objectStore(ir)}function vc(){const v=indexedDB.open(xr,Na);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(ir,{keyPath:Jh})}catch(P){m(P)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(ir)?f(E):(E.close(),yield function ka(){const v=indexedDB.deleteDatabase(xr);return new Io(v).toPromise()}(),f(yield vc()))}))})}function _c(v,f,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(v,f,m){const E=_l(v,!0).put({[Jh]:f,value:m});return new Io(E).toPromise()})).apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(v,f){const m=_l(v,!1).get(f),E=yield new Io(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Iu(v,f){const m=_l(v,!0).delete(f);return new Io(m).toPromise()}const wc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield vc()),m.db})()}_withRetries(m){var E=this;return(0,d.Z)(function*(){let P=0;for(;;)try{const L=yield E._openDb();return yield m(L)}catch(L){if(P++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return yl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=yc._getInstance(function vl(){return yl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(P,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(P,L){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(P,L){return["keyChanged"]});return function(P,L){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var E,P;if(m.activeServiceWorker=yield function Md(){return bu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new xd(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);L&&null!==(E=L[0])&&void 0!==E&&E.fulfilled&&null!==(P=L[0])&&void 0!==P&&P.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Pd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield vc();return yield _c(m,_u,"1"),yield Iu(m,_u),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var P=this;return(0,d.Z)(function*(){return P._withPendingWrite((0,d.Z)(function*(){return yield P._withRetries(L=>_c(L,m,E)),P.localCache[m]=E,P.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,d.Z)(function*(){const P=yield E._withRetries(L=>function Xh(v,f){return Wo.apply(this,arguments)}(L,m));return E.localCache[m]=P,P})()}_remove(m){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(P=>Iu(P,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const E=yield m._withRetries(ee=>{const de=_l(ee,!1).getAll();return new Io(de).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const P=[],L=new Set;for(const{fbase_key:ee,value:de}of E)L.add(ee),JSON.stringify(m.localCache[ee])!==JSON.stringify(de)&&(m.notifyListeners(ee,de),P.push(ee));for(const ee of Object.keys(m.localCache))m.localCache[ee]&&!L.has(ee)&&(m.notifyListeners(ee,null),P.push(ee));return P})()}notifyListeners(m,E){this.localCache[m]=E;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Ec=1e12;class kd{constructor(f){this.auth=f,this.counter=Ec,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new bc(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||Ec;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ec))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var E;return null===(E=m._widgets.get(f||Ec))||void 0===E||E.execute(),""})()}}class bc{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof f?document.getElementById(f):f;oe(P,"argument-error",{appName:m}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ic(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tf=Cr("rcb"),qm=new Se(3e4,6e4);class Yo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=dr().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return oe(function Zm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Ot(dr().grecaptcha)?Promise.resolve(dr().grecaptcha):new Promise((E,P)=>{const L=dr().setTimeout(()=>{P(Me(f,"network-request-failed"))},qm.get());dr()[tf]=()=>{dr().clearTimeout(L),delete dr()[tf];const de=dr().grecaptcha;if(!de||!Ot(de))return void P(Me(f,"internal-error"));const He=de.render;de.render=(it,St)=>{const on=He(it,St);return this.counter++,on},this.hostLanguage=m,E(de)},dn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:tf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),P(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=dr().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nf{load(f){return(0,d.Z)(function*(){return new kd(f)})()}clearedOneInstance(){}}const Mr="recaptcha",El={theme:"light",type:"image"};class bl{constructor(f,m=Object.assign({},El),E){this.parameters=m,this.type=Mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(E),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof f?document.getElementById(f):f;oe(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nf:new Yo,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(L=>{const ee=de=>{de&&(f.tokenChangeListeners.delete(ee),L(de))};f.tokenChangeListeners.add(ee),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=dr()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){oe(nn()&&!yl(),f.auth,"internal-error"),yield function Cc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function me(v){return re.apply(this,arguments)}(f.auth);oe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Li{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ds._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Do(v,f,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(v,f,m){const E=_n(v),P=yield Il(E,f,(0,N.m9)(m));return new Li(P,L=>Bt(E,L))})).apply(this,arguments)}function Cu(v,f,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v);yield Uo(!1,E,"phone");const P=yield Il(E.auth,f,(0,N.m9)(m));return new Li(P,L=>il(E,L))})).apply(this,arguments)}function Od(v,f,m){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v),P=yield Il(E.auth,f,(0,N.m9)(m));return new Li(P,L=>Bo(E,L))})).apply(this,arguments)}function Il(v,f,m){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,d.Z)(function*(v,f,m){var E;const P=yield m.verify();try{let L;if(oe("string"==typeof P,v,"argument-error"),oe(m.type===Mr,v,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const ee=L.session;if("phoneNumber"in L)return oe("enroll"===ee.type,v,"internal-error"),(yield function En(v,f){return $t(v,"POST","/v2/accounts/mfaEnrollment:start",We(v,f))}(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{oe("signin"===ee.type,v,"internal-error");const de=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return oe(de,v,"missing-multi-factor-info"),(yield function Rd(v,f){return $t(v,"POST","/v2/accounts/mfaSignIn:start",We(v,f))}(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function Id(v,f){return ao.apply(this,arguments)}(v,{phoneNumber:L.phoneNumber,recaptchaToken:P});return ee}}finally{m._reset()}}),Ac.apply(this,arguments)}function Wi(v,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(v,f){yield Jr((0,N.m9)(v),f)})).apply(this,arguments)}let fs=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=_n(m)}verifyPhoneNumber(m,E){return Il(this.auth,m,(0,N.m9)(E))}static credential(m,E){return Ds._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:P}=m;return E&&P?Ds._fromTokenResponse(E,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function gt(v,f){return f?kn(f):(oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ps extends Dr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Is(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Is(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Is(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function vr(v){return mo(v.auth,new ps(v),v.bypassAuthState)}function Fd(v){const{auth:f,user:m}=v;return oe(m,f,"internal-error"),rl(m,new ps(v),v.bypassAuthState)}function Du(v){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(v){const{auth:f,user:m}=v;return oe(m,f,"internal-error"),Jr(m,new ps(v),v.bypassAuthState)})).apply(this,arguments)}class Sc{constructor(f,m,E,P,L=!1){this.auth=f,this.resolver=E,this.user=P,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(E,P){f.pendingPromise={resolve:E,reject:P};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(E,P){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:L,tenantId:ee,error:de,type:He}=f;if(de)return void m.reject(de);const it={auth:m.auth,requestUri:E,sessionId:P,tenantId:ee||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(it))}catch(St){m.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return vr;case"linkViaPopup":case"linkViaRedirect":return Du;case"reauthViaPopup":case"reauthViaRedirect":return Fd;default:Re(this.auth,"internal-error")}}resolve(f){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ld=new Se(2e3,1e4);function Zi(v,f,m){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(v,f,m){const E=_n(v);Ge(v,f,Hs);const P=gt(E,m);return new Mc(E,"signInViaPopup",f,P).executeNotNull()})).apply(this,arguments)}function xc(v,f,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v);Ge(E.auth,f,Hs);const P=gt(E.auth,m);return new Mc(E.auth,"reauthViaPopup",f,P,E).executeNotNull()})).apply(this,arguments)}function La(v,f,m){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v);Ge(E.auth,f,Hs);const P=gt(E.auth,m);return new Mc(E.auth,"linkViaPopup",f,P,E).executeNotNull()})).apply(this,arguments)}let Mc=(()=>{class v extends Sc{constructor(m,E,P,L,ee){super(m,E,L,ee),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const E=yield m.execute();return oe(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,d.Z)(function*(){Ct(1===m.filter.length,"Popup operations only handle one event");const E=Ps();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(P=>{m.reject(P)}),m.resolver._isIframeWebStorageSupported(m.auth,P=>{P||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,P;this.pollId=null!==(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ld.get())};m()}}return v.currentPopupAction=null,v})();const Vd="pendingRedirect",Ki=new Map;class Cl extends Sc{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let E=Ki.get(m.auth._key());if(!E){try{const L=(yield function oi(v,f){return Tu.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(L)}catch(P){E=()=>Promise.reject(P)}Ki.set(m.auth._key(),E)}return m.bypassAuthState||Ki.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const P=yield E.auth._redirectUserForId(f.eventId);if(P)return E.user=P,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,d.Z)(function*(v,f){const m=Dl(f),E=rf(v);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(m));return yield E._remove(m),P})).apply(this,arguments)}function Pc(v,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(v,f){return rf(v)._set(Dl(f),"true")})).apply(this,arguments)}function Au(){Ki.clear()}function Su(v,f){Ki.set(v._key(),f)}function rf(v){return kn(v._redirectPersistence)}function Dl(v){return Kr(Vd,v.config.apiKey,v.name)}function xu(v,f,m){return function Ud(v,f,m){return Rc.apply(this,arguments)}(v,f,m)}function Rc(){return(Rc=(0,d.Z)(function*(v,f,m){const E=_n(v);Ge(v,f,Hs),yield E._initializationPromise;const P=gt(E,m);return yield Pc(P,E),P._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Nc(v,f,m){return function Mu(v,f,m){return Vi.apply(this,arguments)}(v,f,m)}function Vi(){return(Vi=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v);Ge(E.auth,f,Hs),yield E.auth._initializationPromise;const P=gt(E.auth,m);yield Pc(P,E.auth);const L=yield Ai(E);return P._openRedirect(E.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function kc(v,f,m){return function gi(v,f,m){return Pu.apply(this,arguments)}(v,f,m)}function Pu(){return(Pu=(0,d.Z)(function*(v,f,m){const E=(0,N.m9)(v);Ge(E.auth,f,Hs),yield E.auth._initializationPromise;const P=gt(E.auth,m);yield Uo(!1,E,f.providerId),yield Pc(P,E.auth);const L=yield Ai(E);return P._openRedirect(E.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function sf(v,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(v,f){return yield _n(v)._initializationPromise,Xo(v,f,!1)})).apply(this,arguments)}function Xo(v,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(v,f,m=!1){const E=_n(v),P=gt(E,f),ee=yield new Cl(E,P,m).execute();return ee&&!m&&(delete ee.user._redirectEventId,yield E._persistUserIfCurrent(ee.user),yield E._setRedirectUser(null,f)),ee})).apply(this,arguments)}function Ai(v){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(v){const f=Ps(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Tl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ks(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gs(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!gs(f)){const P=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,P))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Va(f))}saveEventToCache(f){this.cachedEventUids.add(Va(f)),this.lastProcessedEventTime=Date.now()}}function Va(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function gs({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function $r(v){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(v,f={}){return $t(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Km=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Al=/^https?/;function Ua(){return(Ua=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield $r(v);for(const m of f)try{if(Bd(m))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function Bd(v){const f=rt(),{protocol:m,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ee.hostname===E}if(!Al.test(m))return!1;if(Km.test(v))return E===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const ta=new Se(3e4,6e4);function Ba(){const v=dr().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Ao=null;const $a=new Se(5e3,15e3),So="__/auth/iframe",$d="emulator/auth/iframe",Ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(v){const f=v.config;oe(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Ne(f,$d):`https://${v.config.authDomain}/${So}`,E={apiKey:f.apiKey,appName:v.name,v:F.SDK_VERSION},P=Fc.get(v.config.apiHost);P&&(E.eid=P);const L=v._getFrameworks();return L.length&&(E.fw=L.join(",")),`${m}?${(0,N.xO)(E).slice(1)}`}function Hd(){return Hd=(0,d.Z)(function*(v){const f=yield function na(v){return Ao=Ao||function Ft(v){return new Promise((f,m)=>{var E,P,L;function ee(){Ba(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ba(),m(Me(v,"network-request-failed"))},timeout:ta.get()})}if(null!==(P=null===(E=dr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==P&&P.Iframe)f(gapi.iframes.getContext());else{if(null===(L=dr().gapi)||void 0===L||!L.load){const de=Cr("iframefcb");return dr()[de]=()=>{gapi.load?ee():m(Me(v,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${de}`).catch(He=>m(He))}ee()}}).catch(f=>{throw Ao=null,f})}(v),Ao}(v),m=dr().gapi;return oe(m,v,"internal-error"),f.open({where:document.body,url:jd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ys,dontclear:!0},E=>new Promise(function(){var P=(0,d.Z)(function*(L,ee){yield E.restyle({setHideOnLeave:!1});const de=Me(v,"network-request-failed"),He=dr().setTimeout(()=>{ee(de)},$a.get());function it(){dr().clearTimeout(He),L(E)}E.ping(it).then(it,()=>{ee(de)})});return function(L,ee){return P.apply(this,arguments)}}()))}),Hd.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C=500,M=600,j="_blank",Y="http://localhost";class X{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qe="__/auth/handler",_t="emulator/auth/handler",jt=encodeURIComponent("fac");function Vt(v,f,m,E,P,L){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(v,f,m,E,P,L){oe(v.config.authDomain,v,"auth-domain-config-required"),oe(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:F.SDK_VERSION,eventId:P};if(f instanceof Hs){f.setDefaultLanguage(v.languageCode),ee.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(ee.customParameters=JSON.stringify(f.getCustomParameters()));for(const[St,on]of Object.entries(L||{}))ee[St]=on}if(f instanceof co){const St=f.getScopes().filter(on=>""!==on);St.length>0&&(ee.scopes=St.join(","))}v.tenantId&&(ee.tid=v.tenantId);const de=ee;for(const St of Object.keys(de))void 0===de[St]&&delete de[St];const He=yield v._getAppCheckToken(),it=He?`#${jt}=${encodeURIComponent(He)}`:"";return`${function Pt({config:v}){return v.emulator?Ne(v,_t):`https://${v.authDomain}/${Qe}`}(v)}?${(0,N.xO)(de).slice(1)}${it}`})).apply(this,arguments)}const ys="webStorageSupport",Yi=class Vc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ti,this._completeRedirectFn=Xo,this._overrideRedirectResult=Su}_openPopup(f,m,E,P){var L=this;return(0,d.Z)(function*(){var ee;Ct(null===(ee=L.eventManagers[f._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const de=yield Vt(f,m,E,rt(),P);return function fe(v,f,m,E=C,P=M){const L=Math.max((window.screen.availHeight-P)/2,0).toString(),ee=Math.max((window.screen.availWidth-E)/2,0).toString();let de="";const He=Object.assign(Object.assign({},w),{width:E.toString(),height:P.toString(),top:L,left:ee}),it=(0,N.z$)().toLowerCase();m&&(de=O(it)?j:m),V(it)&&(f=f||Y,He.scrollbars="yes");const St=Object.entries(He).reduce((Si,[ra,Ha])=>`${Si}${ra}=${Ha},`,"");if(function Lt(v=(0,N.z$)()){var f;return Mt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(it)&&"_self"!==de)return function tt(v,f){const m=document.createElement("a");m.href=v,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",de),new X(null);const on=window.open(f||"",de,St);oe(on,v,"popup-blocked");try{on.focus()}catch{}return new X(on)}(f,de,Ps())})()}_openRedirect(f,m,E,P){var L=this;return(0,d.Z)(function*(){return yield L._originValidation(f),function bo(v){dr().location.href=v}(yield Vt(f,m,E,rt(),P)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:P,promise:L}=this.eventManagers[m];return P?Promise.resolve(P):(Ct(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const E=yield function Lc(v){return Hd.apply(this,arguments)}(f),P=new Tl(f);return E.register("authEvent",L=>(oe(L?.authEvent,f,"invalid-auth-event"),{status:P.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:P},m.iframes[f._key()]=E,P})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ys,{type:ys},P=>{var L;const ee=null===(L=P?.[0])||void 0===L?void 0:L[ys];void 0!==ee&&m(!!ee),Re(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Oc(v){return Ua.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return qt()||B()||Mt()}};class Ui{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return et("unexpected MultiFactorSessionType")}}}class ai extends Ui{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ai(f)}_finalizeEnroll(f,m,E){return function yr(v,f){return $t(v,"POST","/v2/accounts/mfaEnrollment:finalize",We(v,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Ko(v,f){return $t(v,"POST","/v2/accounts/mfaSignIn:finalize",We(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class v{constructor(){}static assertion(m){return ai._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ku="@firebase/auth";class ja{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{f(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lf=(0,N.Pz)("authIdTokenMaxAge")||300;let Vp=null;const Ym=v=>function(){var f=(0,d.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),P=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(P&&P>lf)return;const L=E?.token;Vp!==L&&(Vp=L,yield fetch(v,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Gd(v=(0,F.getApp)()){const f=(0,F._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const m=function cr(v,f){const m=(0,F._getProvider)(v,"auth");if(m.isInitialized()){const P=m.getImmediate(),L=m.getOptions();if((0,N.vZ)(L,f??{}))return P;Re(P,"already-initialized")}return m.initialize({options:f})}(v,{popupRedirectResolver:Yi,persistence:[wc,ml,Ti]}),E=(0,N.Pz)("authTokenSyncURL");if(E){const L=Ym(E);(function Eo(v,f,m){(0,N.m9)(v).beforeAuthStateChanged(f,m)})(m,L,()=>L(m.currentUser)),function Ma(v,f,m,E){(0,N.m9)(v).onIdTokenChanged(f,m,E)}(m,ee=>L(ee))}const P=(0,N.q4)("auth");return P&&Kn(m,`http://${P}`),m}!function uf(v){(0,F._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),P=f.getProvider("heartbeat"),L=f.getProvider("app-check-internal"),{apiKey:ee,authDomain:de}=E.options;oe(ee&&!ee.includes(":"),"invalid-api-key",{appName:E.name}),oe(!de?.includes(":"),"argument-error",{appName:E.name});const He={apiKey:ee,authDomain:de,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zi(v)},it=new Ln(E,P,L,He);return function is(v,f){const m=f?.persistence||[],E=(Array.isArray(m)?m:[m]).map(kn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,f?.popupRedirectResolver)}(it,m),it},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ue.wA("auth-internal",f=>{const m=_n(f.getProvider("auth").getImmediate());return new ja(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(ku,"0.23.1",function Pl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,F.registerVersion)(ku,"0.23.1","esm2017")}("Browser")},2090:(Dt,le,$)=>{"use strict";$.d(le,{$s:()=>kn,BH:()=>ke,G6:()=>Ne,L:()=>Ce,LL:()=>wt,P0:()=>Be,Pz:()=>Me,Sg:()=>Ge,UG:()=>et,US:()=>ue,ZB:()=>te,ZR:()=>$t,aH:()=>Re,b$:()=>nn,eu:()=>qe,hl:()=>Ke,jU:()=>Ct,m9:()=>Kr,ne:()=>Yt,pd:()=>Lr,q4:()=>Ie,r3:()=>Jn,ru:()=>rt,tV:()=>K,uI:()=>oe,vZ:()=>ft,w1:()=>ve,xO:()=>Xn,xb:()=>Bn,z$:()=>Le,zI:()=>ht,zd:()=>Er});const se=function(q){const G=[];let V=0;for(let B=0;B<q.length;B++){let O=q.charCodeAt(B);O<128?G[V++]=O:O<2048?(G[V++]=O>>6|192,G[V++]=63&O|128):55296==(64512&O)&&B+1<q.length&&56320==(64512&q.charCodeAt(B+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++B)),G[V++]=O>>18|240,G[V++]=O>>12&63|128,G[V++]=O>>6&63|128,G[V++]=63&O|128):(G[V++]=O>>12|224,G[V++]=O>>6&63|128,G[V++]=63&O|128)}return G},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let O=0;O<q.length;O+=3){const Q=q[O],Te=O+1<q.length,ut=Te?q[O+1]:0,kt=O+2<q.length,Mt=kt?q[O+2]:0;let Sn=(15&ut)<<2|Mt>>6,qt=63&Mt;kt||(qt=64,Te||(Sn=64)),B.push(V[Q>>2],V[(3&Q)<<4|ut>>4],V[Sn],V[qt])}return B.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(se(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let V=0,B=0;for(;V<q.length;){const O=q[V++];if(O<128)G[B++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=q[V++];G[B++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const kt=((7&O)<<18|(63&q[V++])<<12|(63&q[V++])<<6|63&q[V++])-65536;G[B++]=String.fromCharCode(55296+(kt>>10)),G[B++]=String.fromCharCode(56320+(1023&kt))}else{const Q=q[V++],Te=q[V++];G[B++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&Te)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const V=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let O=0;O<q.length;){const Q=V[q.charAt(O++)],ut=O<q.length?V[q.charAt(O)]:0;++O;const Mt=O<q.length?V[q.charAt(O)]:64;++O;const Lt=O<q.length?V[q.charAt(O)]:64;if(++O,null==Q||null==ut||null==Mt||null==Lt)throw new ge;B.push(Q<<2|ut>>4),64!==Mt&&(B.push(ut<<4&240|Mt>>2),64!==Lt&&B.push(Mt<<6&192|Lt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(q){return function(q){const G=se(q);return ue.encodeByteArray(G,!0)}(q).replace(/\./g,"")},K=function(q){try{return ue.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function te(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const V in G)!G.hasOwnProperty(V)||!je(V)||(q[V]=te(q[V],G[V]));return q}function je(q){return"__proto__"!==q}const xe=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&K(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},Ie=q=>{var G,V;return null===(V=null===(G=xe())||void 0===G?void 0:G.emulatorHosts)||void 0===V?void 0:V[q]},Be=q=>{const G=Ie(q);if(!G)return;const V=G.lastIndexOf(":");if(V<=0||V+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(V+1),10);return"["===G[0]?[G.substring(1,V-1),B]:[G.substring(0,V),B]},Re=()=>{var q;return null===(q=xe())||void 0===q?void 0:q.config},Me=q=>{var G;return null===(G=xe())||void 0===G?void 0:G[`_${q}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,V)=>{this.resolve=G,this.reject=V})}wrapCallback(G){return(V,B)=>{V?this.reject(V):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(V):G(V,B))}}}function Ge(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",O=q.iat||0,Q=q.sub||q.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:O,exp:O+3600,auth_time:O,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Te)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function et(){var q;const G=null===(q=xe())||void 0===q?void 0:q.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function rt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const q=Le();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ne(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((q,G)=>{try{let V=!0;const B="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(B);O.onsuccess=()=>{O.result.close(),V||self.indexedDB.deleteDatabase(B),q(!0)},O.onupgradeneeded=()=>{V=!1},O.onerror=()=>{var Q;G((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(V){G(V)}})}function ht(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $t extends Error{constructor(G,V,B){super(V),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(G,V,B){this.service=G,this.serviceName=V,this.errors=B}create(G,...V){const B=V[0]||{},O=`${this.service}/${G}`,Q=this.errors[G],Te=Q?function Tt(q,G){return q.replace(vt,(V,B)=>{const O=G[B];return null!=O?String(O):`<${B}?>`})}(Q,B):"Error";return new $t(O,`${this.serviceName}: ${Te} (${O}).`,B)}}const vt=/\{\$([^}]+)}/g;function Jn(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function Bn(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function ft(q,G){if(q===G)return!0;const V=Object.keys(q),B=Object.keys(G);for(const O of V){if(!B.includes(O))return!1;const Q=q[O],Te=G[O];if(Nn(Q)&&Nn(Te)){if(!ft(Q,Te))return!1}else if(Q!==Te)return!1}for(const O of B)if(!V.includes(O))return!1;return!0}function Nn(q){return null!==q&&"object"==typeof q}function Xn(q){const G=[];for(const[V,B]of Object.entries(q))Array.isArray(B)?B.forEach(O=>{G.push(encodeURIComponent(V)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(V)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function Er(q){const G={};return q.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[O,Q]=B.split("=");G[decodeURIComponent(O)]=decodeURIComponent(Q)}}),G}function Lr(q){const G=q.indexOf("?");if(!G)return"";const V=q.indexOf("#",G);return q.substring(G,V>0?V:void 0)}function Yt(q,G){const V=new pt(q,G);return V.subscribe.bind(V)}class pt{constructor(G,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(V=>{V.next(G)})}error(G){this.forEachObserver(V=>{V.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,V,B){let O;if(void 0===G&&void 0===V&&void 0===B)throw new Error("Missing Observer.");O=function er(q,G){if("object"!=typeof q||null===q)return!1;for(const V of G)if(V in q&&"function"==typeof q[V])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:V,complete:B},void 0===O.next&&(O.next=br),void 0===O.error&&(O.error=br),void 0===O.complete&&(O.complete=br);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,G)}sendOne(G,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{V(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function br(){}const Zt=1e3,jn=2,Hn=144e5,Ir=.5;function kn(q,G=Zt,V=jn){const B=G*Math.pow(V,q),O=Math.round(Ir*B*(Math.random()-.5)*2);return Math.min(Hn,B+O)}function Kr(q){return q&&q._delegate?q._delegate:q}},5798:(Dt,le,$)=>{"use strict";var d=$(4650);let N=null;function F(){return N}class ce{}const ue=new d.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ye(){return(0,d.LFG)(K)}()},providedIn:"platform"}),n})();const Ce=new d.OlP("Location Initialized");let K=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){Z()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){Z()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function te(){return new K((0,d.LFG)(ue))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(xe)},providedIn:"root"}),n})();const Ee=new d.OlP("appBaseHref");let xe=(()=>{class n extends Xe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Je(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Je(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(Ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends Xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Je(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Je(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(Ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Pe(ke(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function Me(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Je,n.joinWithSlash=je,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(d.LFG(Xe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Re(){return new Be((0,d.LFG)(Xe))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}function ws(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class cr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let is=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new cr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),Kn(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let ss=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){va("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){va("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Kt{constructor(){this.$implicit=null,this.ngIf=null}}function va(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Dr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Fs=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),os=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Dr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Fs,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const lo="server";function co(n){return n===lo}let ho=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new hc((0,d.LFG)(ue),window)}),n})();class hc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function du(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ts(this.window.history)||Ts(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ts(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nl{}class gl extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ma extends gl{static makeCurrent(){!function se(n){N||(N=n)}(new Ma)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Go(){return Eo=Eo||document.querySelector("base"),Eo?Eo.getAttribute("href"):null}();return null==t?null:function vu(n){ds=ds||document.createElement("a"),ds.setAttribute("href",n);const e=ds.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ws(document.cookie,e)}}let ds,Eo=null;const I=new d.OlP("TRANSITION_ID"),R=[{provide:d.ip1,useFactory:function D(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[I,ue,d.zs3],multi:!0}];let be=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const It=new d.OlP("EventManagerPlugins");let En=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(It),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class yr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Br=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),fi=(()=>{class n extends Br{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pa=/%COMP%/g,Eu=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ml(n,e){return e.flat(100).map(t=>t.replace(Pa,n))}function mc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ti=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Sd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof yl?i.applyToHost(t):i instanceof bo&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:u=new yl(c,g,r,this.appId,_);break;case d.ifc.ShadowDom:return new dr(c,g,t,r);default:u=new bo(c,g,r,_)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(En),d.LFG(fi),d.LFG(d.AFp),d.LFG(Eu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Sd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=hs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=hs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mc(r)):this.eventManager.addEventListener(e,t,mc(r))}}function xd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dr extends Sd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ml(i.id,i.styles);for(const c of u){const g=document.createElement("style");g.textContent=c,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bo extends Sd{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=ml(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class yl extends bo{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function Qh(n){return"_ngcontent-%COMP%".replace(Pa,n)}(c),this.hostAttr=function gc(n){return"_nghost-%COMP%".replace(Pa,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Md=(()=>{class n extends yr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=["alt","control","meta","shift"],Pd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xr=(()=>{class n extends yr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),bu.forEach(A=>{const S=r.indexOf(A);S>-1&&(r.splice(S,1),c+=A+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Pd[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bu.forEach(c=>{c!==i&&(0,vl[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Xh=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function ka(){Ma.makeCurrent()},multi:!0},{provide:ue,useFactory:function _c(){return(0,d.RDi)(document),document},deps:[]}]),Wo=new d.OlP(""),Iu=[{provide:d.rWj,useClass:class z{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const g=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Zo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function vc(){return new d.qLn},deps:[]},{provide:It,useClass:Md,multi:!0,deps:[ue,d.R0b,d.Lbi]},{provide:It,useClass:xr,multi:!0,deps:[ue]},{provide:Ti,useClass:Ti,deps:[En,fi,d.AFp,Eu]},{provide:d.FYo,useExisting:Ti},{provide:Br,useExisting:fi},{provide:fi,useClass:fi,deps:[ue]},{provide:En,useClass:En,deps:[It,d.R0b]},{provide:nl,useClass:be,deps:[]},[]];let Oa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:I,useExisting:d.AFp},R]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wo,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Zo,...Iu],imports:[uo,d.hGG]}),n})(),ef=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ko(){return new ef((0,d.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var bn=$(8996),fs=$(7669);function gt(...n){const e=(0,fs.yG)(n);return(0,bn.D)(n,e)}var ps=$(7579);class vr extends ps.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Du=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var pi=$(9751);const{isArray:Sc}=Array,{getPrototypeOf:Ld,prototype:Zi,keys:To}=Object;function xc(n){if(1===n.length){const e=n[0];if(Sc(e))return{args:e,keys:null};if(function Qo(n){return n&&"object"==typeof n&&Ld(n)===Zi}(e)){const t=To(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var La=$(4671),At=$(4004);const{isArray:Mc}=Array;function Ki(n){return(0,At.U)(e=>function Vd(n,e){return Mc(e)?n(...e):n(e)}(n,e))}function Cl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var oi=$(5403),Tu=$(9672);function Pc(...n){const e=(0,fs.yG)(n),t=(0,fs.jO)(n),{args:r,keys:i}=xc(n);if(0===r.length)return(0,bn.D)([],e);const u=new pi.y(function Jo(n,e,t=La.y){return r=>{Au(e,()=>{const{length:i}=n,u=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)Au(e,()=>{const A=(0,bn.D)(n[_],e);let S=!1;A.subscribe((0,oi.x)(r,U=>{u[_]=U,S||(S=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Cl(i,c):La.y));return t?u.pipe(Ki(t)):u}function Au(n,e,t){n?(0,Tu.f)(t,n,e):e()}var Su=$(8189);function Dl(...n){return function rf(){return(0,Su.J)(1)}()((0,bn.D)(n,(0,fs.yG)(n)))}var xu=$(8421);function Ud(n){return new pi.y(e=>{(0,xu.Xf)(n()).subscribe(e)})}var Rc=$(9635),Nc=$(576);function Mu(n,e){const t=(0,Nc.m)(n)?n:()=>n,r=i=>i.error(t());return new pi.y(e?i=>e.schedule(r,0,i):r)}var Vi=$(515),kc=$(727),gi=$(4482);function Pu(){return(0,gi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,oi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class sf extends pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,oi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kc.w0.EMPTY)}return e}refCount(){return Pu()(this)}}function ar(n,e){return(0,gi.e)((t,r)=>{let i=null,u=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,oi.x)(r,_=>{i?.unsubscribe();let A=0;const S=u++;(0,xu.Xf)(n(_,S)).subscribe(i=(0,oi.x)(r,U=>r.next(e?e(_,U,S,A++):U),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function Xo(n){return n<=0?()=>Vi.E:(0,gi.e)((e,t)=>{let r=0;e.subscribe((0,oi.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ea(...n){const e=(0,fs.yG)(n);return(0,gi.e)((t,r)=>{(e?Dl(n,t,e):Dl(n,t)).subscribe(r)})}function Ai(n,e){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,oi.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Pr=$(5577);function Ru(n){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,oi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tl(n=Va){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,oi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Va(){return new Du}function gs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,u)=>n(i,u,r)):La.y,Xo(1),t?Ru(e):Tl(()=>new Du))}function Ks(n,e){return(0,Nc.m)(e)?(0,Pr.z)(n,e,1):(0,Pr.z)(n,1)}var $r=$(8505);function ms(n){return(0,gi.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,oi.x)(t,void 0,void 0,c=>{u=(0,xu.Xf)(n(c,ms(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Al(n,e){return(0,gi.e)(function Km(n,e,t,r,i){return(u,c)=>{let g=t,_=e,A=0;u.subscribe((0,oi.x)(c,S=>{const U=A++;_=g?n(_,S,U):(g=!0,S),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Oc(n){return n<=0?()=>Vi.E:(0,gi.e)((e,t)=>{let r=[];e.subscribe((0,oi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ua(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,u)=>n(i,u,r)):La.y,Oc(1),t?Ru(e):Tl(()=>new Du))}function Ba(n){return(0,gi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",Ao=Symbol("RouteTitle");class na{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $a(n){return new na(n)}function So(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Fc(n[i],e[i]))return!1;return!0}function Fc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function jd(n){return Array.prototype.concat.apply([],n)}function Lc(n){return n.length>0?n[n.length-1]:null}function w(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function C(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,bn.D)(Promise.resolve(n)):gt(n)}const M=!1,j={exact:function tt(n,e,t){if(!Yi(n.segments,e.segments)||!Vt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!tt(n.children[r],e.children[r],t))return!1;return!0},subset:_t},Y={exact:function fe(n,e){return Ys(n,e)},subset:function Qe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Fc(n[t],e[t]))},ignored:()=>!0};function X(n,e,t){return j[t.paths](n.root,e.root,t.matrixParams)&&Y[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _t(n,e,t){return jt(n,e,e.segments,t)}function jt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Yi(i,t)||e.hasChildren()||!Vt(i,t,r))}if(n.segments.length===t.length){if(!Yi(n.segments,t)||!Vt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!_t(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Yi(n.segments,i)&&Vt(n.segments,i,r)&&n.children[Ft])&&jt(n.children[Ft],e,u,r)}}function Vt(n,e,t){return e.every((r,i)=>Y[t](n[i].parameters,r.parameters))}class ur{constructor(e=new Pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return zd.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,w(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}}class ys{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$a(this.parameters)),this._parameterMap}toString(){return Lp(this)}}function Yi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Sl},providedIn:"root"}),n})();class Sl{parse(e){const t=new P(e);return new ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ml(e.root,!0)}`,r=function Vp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ku(t)}=${ku(i)}`).join("&"):`${ku(t)}=${ku(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function af(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zd=new Sl;function xl(n){return n.segments.map(e=>Lp(e)).join("/")}function Ml(n,e){if(!n.hasChildren())return xl(n);if(e){const t=n.children[Ft]?Ml(n.children[Ft],!1):"",r=[];return w(n.children,(i,u)=>{u!==Ft&&r.push(`${u}:${Ml(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ui(n,e){let t=[];return w(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),w(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[Ml(n.children[Ft],!1)]:[`${i}:${Ml(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${xl(n)}/${t[0]}`:`${xl(n)}/(${t.join("//")})`}}function Nu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ku(n){return Nu(n).replace(/%3B/gi,";")}function ja(n){return Nu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pl(n){return decodeURIComponent(n)}function uf(n){return Pl(n.replace(/\+/g,"%20"))}function Lp(n){return`${ja(n.path)}${function lf(n){return Object.keys(n).map(e=>`;${ja(e)}=${ja(n[e])}`).join("")}(n.parameters)}`}const Ym=/^[^\/()?;=#]+/;function Gd(n){const e=n.match(Ym);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class P{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Pt(e,t)),r}parseSegment(){const e=Gd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,M);return this.capture(e),new ys(Pl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gd(this.remaining);i&&(r=i,this.capture(r))}e[Pl(t)]=Pl(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function E(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=uf(t),u=uf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,M);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ft]:new Pt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,M)}}function L(n){return n.segments.length>0?new Pt([],{[Ft]:n}):n}function ee(n){const e={};for(const r of Object.keys(n.children)){const u=ee(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function de(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}function He(n){return n instanceof ur}const it=!1;function ra(n,e,t,r,i){if(0===t.length)return Qs(e.root,e.root,e.root,r,i);const u=function Bc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return w(u.outlets,(_,A)=>{g[A]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new qd(t,e,r)}(t);return u.toRoot()?Qs(e.root,e.root,new Pt([],{}),r,i):function c(_){const A=function Zd(n,e,t,r){if(n.isAbsolute)return new za(e.root,!0,0);if(-1===r)return new za(t,t===e.root,0);return function Rl(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new d.vHH(4005,it&&"Invalid number of '../'");i=r.segments.length}return new za(r,!1,i-u)}(t,r+(Ha(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),S=A.processChildren?Ga(A.segmentGroup,A.index,u.commands):Nl(A.segmentGroup,A.index,u.commands);return Qs(e.root,A.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Ha(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uc(n){return"object"==typeof n&&null!=n&&n.outlets}function Qs(n,e,t,r,i){let c,u={};r&&w(r,(_,A)=>{u[A]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),c=n===e?t:cf(n,e,t);const g=L(ee(c));return new ur(g,u,i)}function cf(n,e,t){const r={};return w(n.children,(i,u)=>{r[u]=i===e?t:cf(i,e,t)}),new Pt(n.segments,r)}class qd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ha(r[0]))throw new d.vHH(4003,it&&"Root segment cannot have matrix parameters");const i=r.find(Uc);if(i&&i!==Lc(r))throw new d.vHH(4004,it&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class za{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Nl(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Ga(n,e,t);const r=function Qm(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],g=t[r];if(Uc(g))break;const _=`${g}`,A=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&A&&"object"==typeof A&&void 0===A.outlets){if(!Jm(_,A,c))return u;r+=2}else{if(!Jm(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Pt(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Pt(n.segments.slice(r.pathIndex),n.children),Ga(u,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?df(n,e,t):r.match?Ga(n,0,i):df(n,e,t)}function Ga(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function Kd(n){return Uc(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};if(!r[Ft]&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=Ga(n.children[Ft],e,t);return new Pt(n.segments,u.children)}return w(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Nl(n.children[c],e,u))}),w(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Pt(n.segments,i)}}function df(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Uc(u)){const _=hf(u.outlets);return new Pt(r,_)}if(0===i&&Ha(t[0])){r.push(new ys(n.segments[e].path,rw(t[0]))),i++;continue}const c=Uc(u)?u.outlets[Ft]:`${u}`,g=i<t.length-1?t[i+1]:null;c&&g&&Ha(g)?(r.push(new ys(c,rw(g))),i+=2):(r.push(new ys(c,{})),i++)}return new Pt(r,{})}function hf(n){const e={};return w(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=df(new Pt([],{}),0,t))}),e}function rw(n){const e={};return w(n,(t,r)=>e[r]=`${t}`),e}function Jm(n,e,t){return n==t.path&&Ys(e,t.parameters)}const ff="imperative";class qa{constructor(e,t){this.id=e,this.url=t}}class Xm extends qa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends qa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends qa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $c extends qa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class gf extends qa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yd extends qa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FI extends qa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LI extends qa{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rx extends qa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VI extends qa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Up{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ty{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ny{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let BI=(()=>{class n{createUrlTree(t,r,i,u,c,g){return ra(t||r.root,i,u,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),jI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return BI.\u0275fac(e)},providedIn:"root"}),n})();class uw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wa(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wa(e,this._root).map(t=>t.value)}}function ry(n,e){if(n===e.value)return e;for(const t of e.children){const r=ry(n,t);if(r)return r}return null}function Wa(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wa(n,t);if(r.length)return r.unshift(e),r}return[]}class Js{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HI extends uw{constructor(e,t){super(e),this.snapshot=t,iy(this,e)}toString(){return this.snapshot.toString()}}function zI(n,e){const t=function ix(n,e){const c=new Bp([],{},{},"",{},Ft,e,null,n.root,-1,{});return new cw("",new Js(c,[]))}(n,e),r=new vr([new ys("",{})]),i=new vr({}),u=new vr({}),c=new vr({}),g=new vr(""),_=new mf(r,i,c,g,u,Ft,e,t.root);return _.snapshot=t.root,new HI(new Js(_,[]),t)}class mf{constructor(e,t,r,i,u,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,At.U)(A=>A[Ao]))??gt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>$a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>$a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function lw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Bp{get title(){return this.data?.[Ao]}constructor(e,t,r,i,u,c,g,_,A,S,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=A,this._lastPathIndex=S,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cw extends uw{constructor(e,t){super(t),this.url=e,iy(this,t)}toString(){return dw(this._root)}}function iy(n,e){e.value._routerState=n,e.children.forEach(t=>iy(n,t))}function dw(n){const e=n.children.length>0?` { ${n.children.map(dw).join(", ")} } `:"";return`${n.value}${e}`}function yf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(e.params,t.params)||n.params.next(t.params),function $d(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ys(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ia(n,e){const t=Ys(n.params,e.params)&&function Vc(n,e){return Yi(n,e)&&n.every((t,r)=>Ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ia(n.parent,e.parent))}function Jd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function hw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jd(n,r,i);return Jd(n,r)})}(n,e,t);return new Js(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Jd(n,g)),c}}const r=function fw(n){return new mf(new vr(n.url),new vr(n.params),new vr(n.queryParams),new vr(n.fragment),new vr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Jd(n,u));return new Js(r,i)}}const pw="ngNavigationCancelingError";function qI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=He(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function WI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function $p(n){return jp(n)&&He(n.url)}function jp(n){return n&&n[pw]}class sx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hp,this.attachRef=null}}let Hp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _f=!1;let sy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Hp),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,_f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,_f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,_f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,_f);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new ZI(t,g,i.injector);if(r&&function KI(n){return!!n.resolveComponentFactory}(r)){const A=r.resolveComponentFactory(c);this.activated=i.createComponent(A,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class ZI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mf?this.route:e===Hp?this.childContexts:this.parent.get(e,t)}}let oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[sy],encapsulation:2}),n})();function ay(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zp(n){const e=n.children&&n.children.map(zp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=oy),t}function xo(n){return n.outlet||Ft}function mw(n,e){const t=n.filter(r=>xo(r)===e);return t.push(...n.filter(r=>xo(r)!==e)),t}function wf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qd(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),w(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Qd(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Qd(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qd(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new sw(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Up(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(yf(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),yf(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=wf(i.snapshot),_=g?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class XI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cy{constructor(e,t){this.component=e,this.route=t}}function Ef(n,e,t){const r=n._root;return Xd(r,e?e._root:null,t,[r.value])}function jc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Xd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Qd(e);return n.children.forEach(c=>{(function vw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function eC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(n.url,e.url)||!Ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ia(n,e)||!Ys(n.queryParams,e.queryParams);default:return!ia(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new XI(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Xd(n,e,u.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new cy(g.outlet.component,c))}else c&&bf(e,g,i),i.canActivateChecks.push(new XI(r)),Xd(n,null,u.component?g?g.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),w(u,(c,g)=>bf(c,t.getContext(g),i)),i}function bf(n,e,t){const r=Qd(n),i=n.value;w(r,(u,c)=>{bf(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new cy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eh(n){return"function"==typeof n}function Ou(n){return n instanceof Du||"EmptyError"===n?.name}const Gp=Symbol("INITIAL_VALUE");function Ol(){return ar(n=>Pc(n.map(e=>e.pipe(Xo(1),ea(Gp)))).pipe((0,At.U)(e=>{for(const t of e)if(!0!==t){if(t===Gp)return Gp;if(!1===t||t instanceof ur)return t}return!0}),Ai(e=>e!==Gp),Xo(1)))}function yy(n){return(0,Rc.z)((0,$r.b)(e=>{if(He(e))throw qI(0,e)}),(0,At.U)(e=>!0===e))}const vy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bw(n,e,t,r,i){const u=_y(n,e,t);return u.matched?function th(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(c=>{const g=jc(c,n);return C(function py(n){return n&&eh(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ol(),yy()):gt(!0)}(r=ay(e,r),e,t).pipe((0,At.U)(c=>!0===c?u:{...vy})):gt(u)}function _y(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||So)(t,n,e);if(!i)return{...vy};const u={};w(i.posParams,(g,_)=>{u[_]=g.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function nh(n,e,t,r){if(t.length>0&&function aC(n,e,t){return t.some(r=>wy(n,e,r)&&xo(r)!==Ft)}(n,t,r)){const u=new Pt(e,function Iw(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&xo(u)!==Ft){const c=new Pt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[xo(u)]=c}return i}(n,e,r,new Pt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Cw(n,e,t){return t.some(r=>wy(n,e,r))}(n,t,r)){const u=new Pt(n.segments,function oC(n,e,t,r,i){const u={};for(const c of r)if(wy(n,t,c)&&!i[xo(c)]){const g=new Pt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[xo(c)]=g}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new Pt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function wy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Dw(n,e,t,r){return!!(xo(n)===r||r!==Ft&&wy(e,t,n))&&("**"===n.path||_y(e,n,t).matched)}function rh(n,e,t){return 0===e.length&&!n.children[t]}const Zp=!1;class Fu{constructor(e){this.segmentGroup=e||null}}class ih{constructor(e){this.urlTree=e}}function If(n){return Mu(new Fu(n))}function Ey(n){return Mu(new ih(n))}class Tw{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=nh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ft).pipe((0,At.U)(u=>this.createUrlTree(ee(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ms(u=>{if(u instanceof ih)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Fu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ft).pipe((0,At.U)(i=>this.createUrlTree(ee(i),e.queryParams,e.fragment))).pipe(ms(i=>{throw i instanceof Fu?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Zp)}createUrlTree(e,t,r){const i=L(e);return new ur(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new Pt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,bn.D)(i).pipe(Ks(u=>{const c=r.children[u],g=mw(t,u);return this.expandSegmentGroup(e,g,c,u).pipe((0,At.U)(_=>({segment:_,outlet:u})))}),Al((u,c)=>(u[c.outlet]=c.segment,u),{}),Ua())}expandSegment(e,t,r,i,u,c){return(0,bn.D)(r).pipe(Ks(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,c).pipe(ms(A=>{if(A instanceof Fu)return gt(null);throw A}))),gs(g=>!!g),ms((g,_)=>{if(Ou(g))return rh(t,i,u)?gt(new Pt([],{})):If(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,c,g){return Dw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):If(t):If(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ey(u):this.lineralizeSegments(r,u).pipe((0,Pr.z)(c=>{const g=new Pt(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:g,consumedSegments:_,remainingSegments:A,positionalParamSegments:S}=_y(t,i,u);if(!g)return If(t);const U=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Ey(U):this.lineralizeSegments(i,U).pipe((0,Pr.z)(W=>this.expandSegment(e,t,r,W.concat(A),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=ay(r,e),r.loadChildren?(r._loadedRoutes?gt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,At.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Pt(i,{})))):gt(new Pt(i,{}))):bw(t,r,i,e).pipe(ar(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Pr.z)(S=>{const U=S.injector??e,W=S.routes,{segmentGroup:ne,slicedSegments:he}=nh(t,g,_,W),Oe=new Pt(ne.segments,ne.children);if(0===he.length&&Oe.hasChildren())return this.expandChildren(U,W,Oe).pipe((0,At.U)(Nt=>new Pt(g,Nt)));if(0===W.length&&0===he.length)return gt(new Pt(g,{}));const ze=xo(r)===u;return this.expandSegment(U,Oe,W,he,ze?Ft:u,!0).pipe((0,At.U)(Gt=>new Pt(g.concat(Gt.segments),Gt.children)))})):If(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function sC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(c=>{const g=jc(c,n);return C(function hy(n){return n&&eh(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Ol(),yy())}(e,t,r).pipe((0,Pr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,$r.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function lC(n){return Mu(WI(Zp,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Ft])return e.redirectTo,Mu(new d.vHH(4e3,Zp));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new ur(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return w(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return w(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new Pt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Zp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class by{}class Cf{constructor(e,t,r,i,u,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=nh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe((0,At.U)(t=>{if(null===t)return null;const r=new Bp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Js(r,t),u=new cw(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=GI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,bn.D)(Object.keys(r.children)).pipe(Ks(i=>{const u=r.children[i],c=mw(t,i);return this.processSegmentGroup(e,c,u,i)}),Al((i,u)=>i&&u?(i.push(...u),i):null),function Bd(n,e=!1){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,oi.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Ru(null),Ua(),(0,At.U)(i=>{if(null===i)return null;const u=Sw(i);return function hC(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,bn.D)(t).pipe(Ks(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),gs(c=>!!c),ms(c=>{if(Ou(c))return rh(r,i,u)?gt([]):gt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Dw(t,r,i,u))return gt(null);let c;if("**"===t.path){const g=i.length>0?Lc(i).parameters:{},_=Mw(r)+i.length;c=gt({snapshot:new Bp(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Za(t),xo(t),t.component??t._loadedComponent??null,t,xw(r),_,Pw(t)),consumedSegments:[],remainingSegments:[]})}else c=bw(r,t,i,e).pipe((0,At.U)(({matched:g,consumedSegments:_,remainingSegments:A,parameters:S})=>{if(!g)return null;const U=Mw(r)+_.length;return{snapshot:new Bp(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Za(t),xo(t),t.component??t._loadedComponent??null,t,xw(r),U,Pw(t)),consumedSegments:_,remainingSegments:A}}));return c.pipe(ar(g=>{if(null===g)return gt(null);const{snapshot:_,consumedSegments:A,remainingSegments:S}=g;e=t._injector??e;const U=t._loadedInjector??e,W=function fC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ne,slicedSegments:he}=nh(r,A,S,W.filter(ze=>void 0===ze.redirectTo));if(0===he.length&&ne.hasChildren())return this.processChildren(U,W,ne).pipe((0,At.U)(ze=>null===ze?null:[new Js(_,ze)]));if(0===W.length&&0===he.length)return gt([new Js(_,[])]);const Oe=xo(t)===u;return this.processSegment(U,W,ne,he,Oe?Ft:u).pipe((0,At.U)(ze=>null===ze?null:[new Js(_,ze)]))}))}}function pC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Sw(n){const e=[],t=new Set;for(const r of n){if(!pC(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sw(r.children);e.push(new Js(r.value,i))}return e.filter(r=>!t.has(r))}function xw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Za(n){return n.data||{}}function Pw(n){return n.resolve||{}}function Cy(n){return"string"==typeof n.title||null===n.title}function Dy(n){return ar(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,At.U)(()=>e)):gt(e)})}const sh=new d.OlP("ROUTES");let Ay=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=C(t.loadComponent()).pipe((0,At.U)(kw),(0,$r.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ba(()=>{this.componentLoaders.delete(t)})),i=new sf(r,()=>new ps.x).pipe(Pu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,At.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,A,S=!1;Array.isArray(g)?A=g:(_=g.create(t).injector,A=jd(_.get(sh,[],d.XFs.Self|d.XFs.Optional)));return{routes:A.map(zp),injector:_}}),Ba(()=>{this.childrenLoaders.delete(r)})),c=new sf(u,()=>new ps.x).pipe(Pu());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return C(t()).pipe((0,At.U)(kw),(0,Pr.z)(r=>r instanceof d.YKP||Array.isArray(r)?gt(r):(0,bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kw(n){return function sa(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Yp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ps.x,this.configLoader=(0,d.f3M)(Ay),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(ai),this.rootContexts=(0,d.f3M)(Hp),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new UI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ey(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new vr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ff,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(r=>0!==r.id),(0,At.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ar(r=>{let i=!1,u=!1;return gt(r).pipe((0,$r.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ar(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new $c(c.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Vi.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ow(c.source)&&(t.browserUrlTree=c.extractedUrl),gt(c).pipe(ar(S=>{const U=this.transitions?.getValue();return this.events.next(new Xm(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),U!==this.transitions?.getValue()?Vi.E:Promise.resolve(S)}),function Aw(n,e,t,r){return ar(i=>function cC(n,e,t,r,i){return new Tw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,At.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,$r.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function mC(n,e,t,r,i){return(0,Pr.z)(u=>function Iy(n,e,t,r,i,u,c="emptyOnly"){return new Cf(n,e,t,r,i,c,u).recognize().pipe(ar(g=>null===g?function dC(n){return new pi.y(e=>e.error(n))}(new by):gt(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,At.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,$r.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const W=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(W,S)}t.browserUrlTree=S.urlAfterRedirects}const U=new Yd(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(U)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:U,source:W,restoredState:ne,extras:he}=c,Oe=new Xm(S,this.urlSerializer.serialize(U),W,ne);this.events.next(Oe);const ze=zI(U,this.rootComponentType).snapshot;return gt(r={...c,targetSnapshot:ze,urlAfterRedirects:U,extras:{...he,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new $c(c.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Vi.E}}),(0,$r.b)(c=>{const g=new FI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,At.U)(c=>r={...c,guards:Ef(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function qp(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?gt({...t,guardsResult:!0}):function rC(n,e,t,r){return(0,bn.D)(n).pipe((0,Pr.z)(i=>function iC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?gt(u.map(g=>{const _=wf(e)??i,A=jc(g,_);return C(function tC(n){return n&&eh(n.canDeactivate)}(A)?A.canDeactivate(n,e,t,r):_.runInContext(()=>A(n,e,t,r))).pipe(gs())})).pipe(Ol()):gt(!0)}(i.component,i.route,t,e,r)),gs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Pr.z)(g=>g&&function _w(n){return"boolean"==typeof n}(g)?function gy(n,e,t,r){return(0,bn.D)(e).pipe(Ks(i=>Dl(function Hc(n,e){return null!==n&&e&&e(new iw(n)),gt(!0)}(i.route.parent,r),function Wp(n,e){return null!==n&&e&&e(new ty(n)),gt(!0)}(i.route,r),function my(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function dy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ud(()=>gt(c.guards.map(_=>{const A=wf(c.node)??t,S=jc(_,A);return C(function fy(n){return n&&eh(n.canActivateChild)}(S)?S.canActivateChild(r,n):A.runInContext(()=>S(r,n))).pipe(gs())})).pipe(Ol())));return gt(u).pipe(Ol())}(n,i.path,t),function Ew(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(u=>Ud(()=>{const c=wf(e)??t,g=jc(u,c);return C(function ux(n){return n&&eh(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(gs())}));return gt(i).pipe(Ol())}(n,i.route,t))),gs(i=>!0!==i,!0))}(r,u,n,e):gt(g)),(0,At.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),(0,$r.b)(c=>{if(r.guardsResult=c.guardsResult,He(c.guardsResult))throw qI(0,c.guardsResult);const g=new LI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),Ai(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Dy(c=>{if(c.guards.canActivateChecks.length)return gt(c).pipe((0,$r.b)(g=>{const _=new rx(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),ar(g=>{let _=!1;return gt(g).pipe(function lx(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let u=0;return(0,bn.D)(i).pipe(Ks(c=>function cx(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Cy(i)&&(u[Ao]=i.title),function Rw(n,e,t,r){const i=function dx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const u={};return(0,bn.D)(i).pipe((0,Pr.z)(c=>function Nw(n,e,t,r){const i=wf(e)??r,u=jc(n,i);return C(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(gs(),(0,$r.b)(g=>{u[c]=g}))),Oc(1),function ta(n){return(0,At.U)(()=>n)}(u),ms(c=>Ou(c)?Vi.E:Mu(c)))}(u,n,e,r).pipe((0,At.U)(c=>(n._resolvedData=c,n.data=GI(n,t).resolve,i&&Cy(i)&&(n.data[Ao]=i.title),null)))}(c.route,r,n,e)),(0,$r.b)(()=>u++),Oc(1),(0,Pr.z)(c=>u===i.length?gt(t):Vi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,$r.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,$r.b)(g=>{const _=new VI(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Dy(c=>{const g=_=>{const A=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,$r.b)(S=>{_.component=S}),(0,At.U)(()=>{})));for(const S of _.children)A.push(...g(S));return A};return Pc(g(c.targetSnapshot.root)).pipe(Ru(),Xo(1))}),Dy(()=>this.afterPreactivation()),(0,At.U)(c=>{const g=function vf(n,e,t){const r=Jd(n,e._root,t?t._root:void 0);return new HI(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),(0,$r.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new yw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Xo(1),(0,$r.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new kl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ba(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ms(c=>{if(u=!0,jp(c)){$p(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new pf(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),$p(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Ow(r.source)};t.scheduleNavigation(_,ff,null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new gf(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Vi.E}))}))}cancelNavigationTransition(t,r,i){const u=new pf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ow(n){return n!==ff}let Fw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[Ao]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(yC)},providedIn:"root"}),n})(),yC=(()=>{class n extends Fw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ef))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(_C)},providedIn:"root"}),n})();class vC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let _C=(()=>{class n extends vC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const en=new d.OlP("",{providedIn:"root",factory:()=>({})});let Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Uw)},providedIn:"root"}),n})(),Uw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EC(n){throw n}function bC(n,e,t){return e.parse("/")}const Bw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(en,{optional:!0})||{},this.errorHandler=this.options.errorHandler||EC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Vw),this.routeReuseStrategy=(0,d.f3M)(Lw),this.urlCreationStrategy=(0,d.f3M)(jI),this.titleStrategy=(0,d.f3M)(Fw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jd((0,d.f3M)(sh,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Yp),this.urlSerializer=(0,d.f3M)(ai),this.location=(0,d.f3M)(Be),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ur,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ff,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(zp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,A=_?this.currentUrlTree.fragment:c;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=He(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,ff,null,r)}navigate(t,r={skipLocationChange:!1}){return function CC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Bw}:!1===r?{...IC}:r,He(t))return X(this.currentUrlTree,t,i);const u=this.parseUrl(t);return X(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let g,_,A,S;return c?(g=c.resolve,_=c.reject,A=c.promise):A=new Promise((U,W)=>{g=U,_=W}),S="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(U=>Promise.reject(U))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xy{}let My=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof kl),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,bn.D)(i).pipe((0,Su.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gt(null);const u=i.pipe((0,Pr.z)(c=>null===c?gt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,bn.D)([u,c]).pipe((0,Su.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(xy),d.LFG(Ay))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Af=new d.OlP("");let jw=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ny&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ny(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Mo=(()=>((Mo=Mo||{})[Mo.COMPLETE=0]="COMPLETE",Mo[Mo.FAILED=1]="FAILED",Mo[Mo.REDIRECTING=2]="REDIRECTING",Mo))();const Sf=!1;function zc(n,e){return{\u0275kind:n,\u0275providers:e}}const Ry=new d.OlP("",{providedIn:"root",factory:()=>!1});function xf(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Rs),i=n.get(Hw);1===n.get(Jp)&&r.initialNavigation(),n.get(zw,null,d.XFs.Optional)?.setUpPreloading(),n.get(Af,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Hw=new d.OlP(Sf?"bootstrap done indicator":"",{factory:()=>new ps.x}),Jp=new d.OlP(Sf?"initial navigation":"",{providedIn:"root",factory:()=>1});function SC(){let n=[];return n=Sf?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Rs);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function ow(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],zc(1,n)}const zw=new d.OlP(Sf?"router preloader":"");function xC(n){return zc(0,[{provide:zw,useExisting:My},{provide:xy,useExisting:n}])}const uh=!1,RC=new d.OlP(uh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ny=[Be,{provide:ai,useClass:Sl},Rs,Hp,{provide:mf,useFactory:function Py(n){return n.routerState.root},deps:[Rs]},Ay,uh?{provide:Ry,useValue:!0}:[]];function NC(){return new d.PXZ("Router",Rs)}let kC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ny,uh&&r?.enableTracing?SC().\u0275providers:[],{provide:sh,multi:!0,useValue:t},{provide:RC,useFactory:Ww,deps:[[Rs,new d.FiY,new d.tp0]]},{provide:en,useValue:r||{}},r?.useHash?{provide:Xe,useClass:Ie}:{provide:Xe,useClass:xe},{provide:Af,useFactory:()=>{const n=(0,d.f3M)(ho),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(en),r=(0,d.f3M)(Yp),i=(0,d.f3M)(ai);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jw(i,r,n,e,t)}},r?.preloadingStrategy?xC(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:NC},r?.initialNavigation?FC(r):[],[{provide:Zw,useFactory:xf},{provide:d.tb,multi:!0,useExisting:Zw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:sh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(RC,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[oy]}),n})();function Ww(n){if(uh&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function FC(n){return["disabled"===n.initialNavigation?zc(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Rs);return()=>{e.setUpLocationChangeListener()}}},{provide:Jp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zc(2,[{provide:Jp,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Ce,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Rs),u=e.get(Hw);(function px(n,e){n.events.pipe(Ai(t=>t instanceof kl||t instanceof pf||t instanceof gf||t instanceof $c),(0,At.U)(t=>t instanceof kl||t instanceof $c?Mo.COMPLETE:t instanceof pf&&(0===t.code||1===t.code)?Mo.REDIRECTING:Mo.FAILED),Ai(t=>t!==Mo.REDIRECTING),Xo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Yp).afterPreactivation=()=>(r(!0),u.closed?gt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Zw=new d.OlP(uh?"Router Initializer":"");let ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bienvenido"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"bienvenido works!"),d.qZA())}}),n})();class Fl{constructor(e,t,r,i,u,c,g){this.id=e,this.nombre=t,this.apellido=r,this.edad=i,this.sexo=u,this.nombrePais=c,this.banderaPais=g}}class eg{constructor(e,t,r,i,u,c,g){this.id=e,this.nombre=t,this.tipo=r,this.fechaDeEstreno=i,this.cantidadPublico=u,this.fotoPelicula=c,this.actor=g}}function tg(n,e){if(1&n&&(d.TgZ(0,"tr",3)(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._UZ(12,"img",4),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.nombre),d.xp6(2),d.Oqu(t.cantidadPublico),d.xp6(2),d.Oqu(t.fechaDeEstreno),d.xp6(2),d.Oqu(t.tipo),d.xp6(2),d.AsE("",t.actor.nombre," ",t.actor.apellido,""),d.xp6(2),d.s9C("src",t.fotoPelicula,d.LSH)}}let Oy=(()=>{class n{constructor(){this.PasamosUnaPelicula=new d.vpe}PasarPelicula(t){this.PasamosUnaPelicula.emit(t),console.info(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-pelicula-listado"]],inputs:{listadoRecibido:"listadoRecibido"},outputs:{PasamosUnaPelicula:"PasamosUnaPelicula"},decls:17,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"],["alt","portada",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),d._uU(4,"T\xedtulo"),d.qZA(),d.TgZ(5,"th",1),d._uU(6,"Espectadores"),d.qZA(),d.TgZ(7,"th",1),d._uU(8,"Fecha de estreno"),d.qZA(),d.TgZ(9,"th",1),d._uU(10,"G\xe9nero"),d.qZA(),d.TgZ(11,"th",1),d._uU(12,"Actores"),d.qZA(),d.TgZ(13,"th",1),d._uU(14,"Portada"),d.qZA()()(),d.TgZ(15,"tbody"),d.YNc(16,tg,13,7,"tr",2),d.qZA()()),2&t&&(d.xp6(16),d.Q6J("ngForOf",r.listadoRecibido))},dependencies:[is]}),n})();function Fy(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d._UZ(1,"img",3),d.TgZ(2,"button",4),d.NdJ("click",function(){const u=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.PasarPelicula(u))}),d._uU(3," Ver detalle "),d.qZA()()}if(2&n){const t=e.$implicit;d.xp6(1),d.Q6J("src",t.fotoPelicula,d.LSH)}}let Ly=(()=>{class n{constructor(){this.PasamosUnaPelicula=new d.vpe}PasarPelicula(t){this.PasamosUnaPelicula.emit(t),console.info(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-tabla-pelicula"]],inputs:{listadoRecibido:"listadoRecibido"},outputs:{PasamosUnaPelicula:"PasamosUnaPelicula"},decls:4,vars:1,consts:[[1,"row",2,"height","280px","overflow","scroll"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],["alt","foto de la pelicula",2,"width","150px","height","200px","display","flex","flex-wrap","wrap",3,"src"],[1,"btn","btn-primary",2,"margin","10px 10px auto auto",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"h1"),d._uU(1,"Listado de pel\xedculas"),d.qZA(),d.TgZ(2,"div",0),d.YNc(3,Fy,4,1,"div",1),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.listadoRecibido))},dependencies:[is]}),n})();function Vy(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div"),d._UZ(1,"img",1),d.TgZ(2,"p"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.qZA(),d.TgZ(8,"p"),d._uU(9),d.qZA(),d.TgZ(10,"p")(11,"a",2),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.limpiar())}),d._uU(12,"Limpiar"),d.qZA()()()}if(2&n){const t=d.oxw();d.xp6(1),d.s9C("src",null==t.unaPelicula?null:t.unaPelicula.fotoPelicula,d.LSH),d.xp6(2),d.hij("Titulo: ",null==t.unaPelicula?null:t.unaPelicula.nombre,""),d.xp6(2),d.hij("Genero: ",null==t.unaPelicula?null:t.unaPelicula.tipo,""),d.xp6(2),d.hij("Estreno: ",null==t.unaPelicula?null:t.unaPelicula.fechaDeEstreno,""),d.xp6(2),d.hij("Espectadores: ",null==t.unaPelicula?null:t.unaPelicula.cantidadPublico,"")}}let Kw=(()=>{class n{constructor(){this.estaSeleccionada=!1}limpiar(){this.unaPelicula=void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-detalle-pelicula"]],inputs:{unaPelicula:"unaPelicula"},decls:1,vars:1,consts:[[4,"ngIf"],["alt","",2,"width","100px","display","block","margin-right","auto","margin-left","auto","margin-top","1rem","margin-bottom","1rem",3,"src"],["href","#","role","button",1,"btn","btn-secondary",3,"click"]],template:function(t,r){1&t&&d.YNc(0,Vy,13,5,"div",0),2&t&&d.Q6J("ngIf",null!=(null==r.unaPelicula?null:r.unaPelicula.nombre))},dependencies:[ss]}),n})();function Uy(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-tabla-pelicula",10),d.NdJ("PasamosUnaPelicula",function(i){d.CHM(t);const u=d.oxw();return d.KtG(u.ObtenerPeliculaSeleccionada(i))}),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("listadoRecibido",t.listaDePelis)}}function LC(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-pelicula-listado",10),d.NdJ("PasamosUnaPelicula",function(i){d.CHM(t);const u=d.oxw();return d.KtG(u.ObtenerPeliculaSeleccionada(i))}),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("listadoRecibido",t.listaDePelis)}}let VC=(()=>{class n{constructor(){this.listaDePelis=[new eg(0,"Cars","Otros","29/06/2006",1e4,"../../../assets/cars.jpg",new Fl(0,"Rayo","McQueen","22","M","USA","USA")),new eg(1,"Shrek 2","Comedia","17/06/2004",9e4,"../../../assets/shrek-2.jpg",new Fl(1,"Shrek","Shrek","39","M","Inglaterra","Inglaterra"))],this.visualizacion="Tabla"}ObtenerPeliculaSeleccionada(t){this.peliculaActual=t}CambiarVista(){this.visualizacion="Tabla"==this.visualizacion?"Listado":"Tabla"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-busqueda"]],decls:34,vars:4,consts:[["role","main"],[1,"jumbotron"],[1,"container",3,"ngSwitch"],[3,"listadoRecibido","PasamosUnaPelicula",4,"ngSwitchCase"],["href","#","role","button",1,"btn","btn-secondary",3,"click"],[1,"container"],[1,"row"],[1,"col-md-4"],["href","#","role","button",1,"btn","btn-secondary"],[3,"unaPelicula"],[3,"listadoRecibido","PasamosUnaPelicula"]],template:function(t,r){1&t&&(d.TgZ(0,"H6"),d._uU(1,"B\xdaSQUEDA COMPONENT"),d.qZA(),d.TgZ(2,"main",0)(3,"div",1)(4,"div",2),d.YNc(5,Uy,1,1,"app-tabla-pelicula",3),d.YNc(6,LC,1,1,"app-pelicula-listado",3),d.TgZ(7,"p")(8,"a",4),d.NdJ("click",function(){return r.CambiarVista()}),d._uU(9,"Cambiar vista"),d.qZA()()()(),d.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"h2"),d._uU(14,"Para borrar"),d.qZA(),d.TgZ(15,"p"),d._uU(16,"Aqu\xed van los controles necesarios, seg\xfan la entidad y funcionalidad requerida "),d.qZA(),d.TgZ(17,"p")(18,"a",8),d._uU(19,"Borrar \xbb"),d.qZA()()(),d.TgZ(20,"div",7),d._UZ(21,"app-detalle-pelicula",9),d.qZA(),d.TgZ(22,"div",7)(23,"h2"),d._uU(24,"Modificar"),d.qZA(),d.TgZ(25,"p"),d._uU(26,"Aqu\xed van los controles necesarios, seg\xfan la entidad y funcionalidad requerida"),d.qZA(),d.TgZ(27,"p")(28,"a",8),d._uU(29,"Modificar \xbb"),d.qZA()()()(),d._UZ(30,"hr"),d.qZA()(),d.TgZ(31,"footer",5)(32,"p"),d._uU(33,"\xa9 Soria Federico 2023"),d.qZA()()),2&t&&(d.xp6(4),d.Q6J("ngSwitch",r.visualizacion),d.xp6(1),d.Q6J("ngSwitchCase","Tabla"),d.xp6(1),d.Q6J("ngSwitchCase","Listado"),d.xp6(15),d.Q6J("unaPelicula",r.peliculaActual))},dependencies:[Fs,os,Oy,Ly,Kw]}),n})();function Yw(n,e){if(1&n&&(d.TgZ(0,"tr",3)(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._UZ(12,"img",4),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.nombre),d.xp6(2),d.Oqu(t.apellido),d.xp6(2),d.Oqu(t.edad),d.xp6(2),d.Oqu(t.sexo),d.xp6(2),d.Oqu(t.nombrePais),d.xp6(2),d.s9C("src",t.banderaPais,d.LSH)}}let Qw=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-actor-listado"]],inputs:{listadoActoresRecibido:"listadoActoresRecibido"},decls:17,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"],["alt","portada",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),d._uU(4,"Nombre"),d.qZA(),d.TgZ(5,"th",1),d._uU(6,"Apellido"),d.qZA(),d.TgZ(7,"th",1),d._uU(8,"Edad"),d.qZA(),d.TgZ(9,"th",1),d._uU(10,"Sexo"),d.qZA(),d.TgZ(11,"th",1),d._uU(12,"Pais"),d.qZA(),d.TgZ(13,"th",1),d._uU(14,"Bandera"),d.qZA()()(),d.TgZ(15,"tbody"),d.YNc(16,Yw,13,6,"tr",2),d.qZA()()),2&t&&(d.xp6(16),d.Q6J("ngForOf",r.listadoActoresRecibido))},dependencies:[is]}),n})(),Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-pelicula-alta"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"pelicula-alta works!"),d.qZA())}}),n})(),e0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Gc=(()=>{class n extends e0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Hr=new d.OlP("NgValueAccessor"),vx={provide:Hr,useExisting:(0,d.Gpc)(()=>ng),multi:!0},n0=new d.OlP("CompositionEventMode");let ng=(()=>{class n extends e0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function By(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(n0,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([vx]),d.qOj]}),n})();const BC=!1;function Ll(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $y(n){return null!=n&&"number"==typeof n.length}const Qi=new d.OlP("NgValidators"),Vl=new d.OlP("NgAsyncValidators"),jy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qc{static min(e){return function r0(n){return e=>{if(Ll(e.value)||Ll(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function s0(n){return e=>{if(Ll(e.value)||Ll(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function o0(n){return Ll(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function a0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function oa(n){return Ll(n.value)||jy.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rg(n){return e=>Ll(e.value)||!$y(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function u0(n){return e=>$y(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function l0(n){if(!n)return Pf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ll(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Rf(e)}static composeAsync(e){return Nf(e)}}function Pf(n){return null}function c0(n){return null!=n}function d0(n){const e=(0,d.QGY)(n)?(0,bn.D)(n):n;if(BC&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function h0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ig(n,e){return e.map(t=>t(n))}function f0(n){return n.map(e=>function $C(n){return!n.validate}(e)?e:t=>e.validate(t))}function Rf(n){if(!n)return null;const e=n.filter(c0);return 0==e.length?null:function(t){return h0(ig(t,e))}}function ch(n){return null!=n?Rf(f0(n)):null}function Nf(n){if(!n)return null;const e=n.filter(c0);return 0==e.length?null:function(t){return function Xw(...n){const e=(0,fs.jO)(n),{args:t,keys:r}=xc(n),i=new pi.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let _=c,A=c;for(let S=0;S<c;S++){let U=!1;(0,xu.Xf)(t[S]).subscribe((0,oi.x)(u,W=>{U||(U=!0,A--),g[S]=W},()=>_--,void 0,()=>{(!_||!U)&&(A||u.next(r?Cl(r,g):g),u.complete())}))}});return e?i.pipe(Ki(e)):i}(ig(t,e).map(d0)).pipe((0,At.U)(h0))}}function p0(n){return null!=n?Nf(f0(n)):null}function sg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jC(n){return n._rawValidators}function Hy(n){return n._rawAsyncValidators}function og(n){return n?Array.isArray(n)?n:[n]:[]}function kf(n,e){return Array.isArray(n)?n.includes(e):n===e}function zy(n,e){const t=og(e);return og(n).forEach(i=>{kf(t,i)||t.push(i)}),t}function ag(n,e){return og(e).filter(t=>!kf(n,t))}class Ka{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ch(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=p0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends Ka{get formDirective(){return null}get path(){return null}}class aa extends Ka{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dh{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gy=(()=>{class n extends dh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(aa,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),g0=(()=>{class n extends dh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function y0(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Ky=!1,Of="VALID",ug="INVALID",hh="PENDING",Ff="DISABLED";function lg(n){return(Lf(n)?n.validators:n)||null}function Yy(n,e){return(Lf(e)?e.asyncValidators:n)||null}function Lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function KC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,Ky?function Zy(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,Ky?function WC(n,e){return`Cannot find form control ${y0(n,e)}`}(e,t):"")}function Vf(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,Ky?function ZC(n,e){return`Must supply a value for form control ${y0(n,e)}`}(e,i):"")})}class cg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Of}get invalid(){return this.status===ug}get pending(){return this.status==hh}get disabled(){return this.status===Ff}get enabled(){return this.status!==Ff}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ag(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ag(e,this._rawAsyncValidators))}hasValidator(e){return kf(this._rawValidators,e)}hasAsyncValidator(e){return kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ff,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Of,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Of||this.status===hh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ff:Of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hh,this._hasOwnPendingAsyncValidator=!0;const t=d0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ff:this.errors?ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hh)?hh:this._anyControlsHaveStatus(ug)?ug:Of}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function v0(n){return Array.isArray(n)?ch(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Tx(n){return Array.isArray(n)?p0(n):n||null}(this._rawAsyncValidators)}}class Uf extends cg{constructor(e,t,r){super(lg(t),Yy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vf(this,!0,e),Object.keys(e).forEach(r=>{KC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ua extends Uf{}const zr=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>la}),la="always";function Ji(n,e,t=la){Bl(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function gh(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zc(n,e)})}(n,e),function yh(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ph(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bl(n,e){const t=jC(n);null!==e.validator?n.setValidators(sg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Hy(n);null!==e.asyncValidator?n.setAsyncValidators(sg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Lu(e._rawValidators,i),Lu(e._rawAsyncValidators,i)}function Vu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=jC(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Hy(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Lu(e._rawValidators,r),Lu(e._rawAsyncValidators,r),t}function Zc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function I0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $l=class extends cg{constructor(e=null,t,r){super(lg(t),Yy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=I0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){I0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let S0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const x0={provide:Hr,useExisting:(0,d.Gpc)(()=>mg),multi:!0};let mg=(()=>{class n extends Gc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([x0]),d.qOj]}),n})(),P0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const vg=new d.OlP("NgModelWithFormControlWarning"),k0={provide:xi,useExisting:(0,d.Gpc)(()=>jf)};let jf=(()=>{class n extends xi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ji(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){fh(t.control||null,t,!1),function XC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Qy(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(fh(r||null,t),(n=>n instanceof $l)(i)&&(Ji(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Kc(n,e){Bl(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function w0(n,e){return Vu(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bl(this.form,this),this._oldForm&&Vu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Qi,10),d.Y36(Vl,10),d.Y36(zr,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([k0]),d.qOj,d.TTD]}),n})();const oD={provide:aa,useExisting:(0,d.Gpc)(()=>ov)};let ov=(()=>{class n extends aa{set isDisabled(t){}constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Jy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===ng?t=u:function b0(n){return Object.getPrototypeOf(n.constructor)===Gc}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function fg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Wc(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(xi,13),d.Y36(Qi,10),d.Y36(Vl,10),d.Y36(Hr,10),d.Y36(vg,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([oD]),d.qOj,d.TTD]}),n})();const av={provide:Hr,useExisting:(0,d.Gpc)(()=>wg),multi:!0};function jl(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let wg=(()=>{class n extends Gc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=jl(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function uv(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([av]),d.qOj]}),n})(),Eg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jl(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(wg,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Sx={provide:Hr,useExisting:(0,d.Gpc)(()=>bg),multi:!0};function aD(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let bg=(()=>{class n extends Gc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,c)=>{u._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const c=u;for(let g=0;g<c.length;g++){const A=this._getOptionValue(c[g].value);i.push(A)}}else{const c=r.options;for(let g=0;g<c.length;g++){const _=c[g];if(_.selected){const A=this._getOptionValue(_.value);i.push(A)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function uD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Sx]),d.qOj]}),n})(),L0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(aD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(aD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(bg,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[P0]}),n})();class fv extends cg{constructor(e,t,r){super(lg(t),Yy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vf(this,!1,e),e.forEach((r,i)=>{KC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function G0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let fD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return G0(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Uf(i,u)}record(t,r=null){const i=this._reduceControls(t);return new ua(i,r)}control(t,r,i){let u={};return this.useNonNullable?(G0(r)?u=r:(u.validators=r,u.asyncValidators=i),new $l(t,{...u,nonNullable:!0})):new $l(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new fv(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof $l||t instanceof cg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zr,useValue:t.callSetDisabledState??la}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po]}),n})(),W0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zr,useValue:t.callSetDisabledState??la}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po]}),n})();var gD=$(5226),Z0=$.n(gD),K0=$(4986),xn=$(4976);function wh(){return(0,gi.e)((n,e)=>{let t,r=!1;n.subscribe((0,oi.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function Y0(n,e){return n===e}var ct,Xs=$(2011),Dg=($(9568),$(3942)),Ae=$(5861),Ja=$(6881),Hf=$(4859),$u=$(1877),In=$(2090),J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro={},pv=pv||{},un=J0||self;function Tg(){}function Ag(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gv="closure_uid_"+(1e9*Math.random()>>>0),vD=0;function _D(n,e,t){return n.call.apply(n.bind,arguments)}function wD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_D:wD).apply(null,arguments)}function Sg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function Hl(){this.s=this.s,this.o=this.o}Hl.prototype.s=!1,Hl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function yD(n){Object.prototype.hasOwnProperty.call(n,gv)&&n[gv]||(n[gv]=++vD)}(this)},Hl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const X0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ag(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Bi.prototype.h=function(){this.defaultPrevented=!0};var tE=function(){if(!un.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{un.addEventListener("test",Tg,e),un.removeEventListener("test",Tg,e)}catch{}return n}();function Gf(n){return/^[\s\xa0]*$/.test(n)}var yv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xg(n,e){return n<e?-1:n>e?1:0}function qf(){var n=un.navigator;return n&&(n=n.userAgent)?n:""}function ca(n){return-1!=qf().indexOf(n)}function Mg(n){return Mg[" "](n),n}function vv(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Mg[" "]=Tg;var bh,n,nE=ca("Opera"),Qc=ca("Trident")||ca("MSIE"),zl=ca("Edge"),_v=zl||Qc,rE=ca("Gecko")&&!(-1!=qf().toLowerCase().indexOf("webkit")&&!ca("Edge"))&&!(ca("Trident")||ca("MSIE"))&&!ca("Edge"),Eh=-1!=qf().toLowerCase().indexOf("webkit")&&!ca("Edge");function bD(){var n=un.document;return n?n.documentMode:void 0}e:{var iE="",Pg=(n=qf(),rE?/rv:([^\);]+)(\)|;)/.exec(n):zl?/Edge\/([\d\.]+)/.exec(n):Qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Eh?/WebKit\/(\S+)/.exec(n):nE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pg&&(iE=Pg?Pg[1]:""),Qc){var Rg=bD();if(null!=Rg&&Rg>parseFloat(iE)){bh=String(Rg);break e}}bh=iE}var Nx={},ID=un.document&&Qc&&(bD()||parseInt(bh,10))||void 0;function Xa(n,e){if(Bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rE){e:{try{Mg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xa.$.h.call(this)}}Mi(Xa,Bi);var CD={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gl="closure_listenable_"+(1e6*Math.random()|0),Ng=0;function Gr(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Ng,this.fa=this.ia=!1}function Ev(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function kg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bv(n){const e={};for(const t in n)e[t]=n[t];return e}const oE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Iv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<oE.length;u++)t=oE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wf(n){this.src=n,this.g={},this.h=0}function Og(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=X0(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Ev(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fg(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Wf.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Fg(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Gr(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var Cv="closure_lm_"+(1e6*Math.random()|0),Dv={};function aE(n,e,t,r,i){if(r&&r.once)return uE(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)aE(n,e[u],t,r,i);return null}return t=Jc(t),n&&n[Gl]?n.O(e,t,zf(r)?!!r.capture:!!r,i):Ih(n,e,t,!1,r,i)}function Ih(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=zf(i)?!!i.capture:!!i,g=Lg(n);if(g||(n[Cv]=g=new Wf(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function DD(){const e=cE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tE||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Tv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uE(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)uE(n,e[u],t,r,i);return null}return t=Jc(t),n&&n[Gl]?n.P(e,t,zf(r)?!!r.capture:!!r,i):Ih(n,e,t,!0,r,i)}function lE(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)lE(n,e[u],t,r,i);else r=zf(r)?!!r.capture:!!r,t=Jc(t),n&&n[Gl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fg(u=n.g[e],t,r,i))&&(Ev(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Lg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fg(e,t,r,i)),(t=-1<n?e[n]:null)&&Ch(t))}function Ch(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gl])Og(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Tv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Lg(e))?(Og(t,n),0==t.h&&(t.src=null,e[Cv]=null)):Ev(n)}}}function Tv(n){return n in Dv?Dv[n]:Dv[n]="on"+n}function cE(n,e){if(n.fa)n=!0;else{e=new Xa(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ch(n),n=t.call(r,e)}return n}function Lg(n){return(n=n[Cv])instanceof Wf?n:null}var Av="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(n){return"function"==typeof n?n:(n[Av]||(n[Av]=function(e){return n.handleEvent(e)}),n[Av])}function qr(){Hl.call(this),this.i=new Wf(this),this.S=this,this.J=null}function $i(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Bi(e,n);else if(e instanceof Bi)e.target=e.target||n;else{var i=e;Iv(e=new Bi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Vg(c,r,!0,e)&&i}if(i=Vg(c=e.g=n,r,!0,e)&&i,i=Vg(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Vg(c=e.g=t[u],r,!1,e)&&i}function Vg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var g=c.listener,_=c.la||c.src;c.ia&&Og(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}Mi(qr,Hl),qr.prototype[Gl]=!0,qr.prototype.removeEventListener=function(n,e,t,r){lE(this,n,e,t,r)},qr.prototype.N=function(){if(qr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ev(t[r]);delete n.g[e],n.h--}}this.J=null},qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},qr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Sv=un.JSON.stringify;function dE(){var n=AD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mv,xv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TD,n=>n.reset());class TD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fE(n){un.setTimeout(()=>{throw n},0)}function pE(n,e){Mv||function kx(){var n=un.Promise.resolve(void 0);Mv=function(){n.then(Ox)}}(),gE||(Mv(),gE=!0),AD.add(n,e)}var gE=!1,AD=new class hE{constructor(){this.h=this.g=null}add(e,t){const r=xv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ox(){for(var n;n=dE();){try{n.h.call(n.g)}catch(t){fE(t)}var e=xv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gE=!1}function Zf(n,e){qr.call(this),this.h=n||1,this.g=e||un,this.j=Xi(this.qb,this),this.l=Date.now()}function Dh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Pv(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:un.setTimeout(n,e||0)}function mE(n){n.g=Pv(()=>{n.g=null,n.i&&(n.i=!1,mE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(Zf,qr),(ct=Zf.prototype).ga=!1,ct.T=null,ct.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$i(this,"tick"),this.ga&&(Dh(this),this.start()))}},ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.N=function(){Zf.$.N.call(this),Dh(this),delete this.g};class yE extends Hl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mE(this)}N(){super.N(),this.g&&(un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(n){Hl.call(this),this.h=n,this.g={}}Mi(ju,Hl);var vE=[];function _E(n,e,t,r){Array.isArray(t)||(t&&(vE[0]=t.toString()),t=vE);for(var i=0;i<t.length;i++){var u=aE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function wE(n){kg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ch(e)},n),n.g={}}function Ug(){this.g=!0}function Xc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function MD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Sv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ju.prototype.N=function(){ju.$.N.call(this),wE(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Ea=function(){this.g=!1},Ug.prototype.info=function(){};var da={},EE=null;function Kf(){return EE=EE||new qr}function bE(n){Bi.call(this,da.Ta,n)}function Th(n){const e=Kf();$i(e,new bE(e))}function IE(n,e){Bi.call(this,da.STAT_EVENT,n),this.stat=e}function es(n){const e=Kf();$i(e,new IE(e,n))}function CE(n,e){Bi.call(this,da.Ua,n),this.size=e}function ed(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return un.setTimeout(function(){n()},e)}da.Ta="serverreachability",Mi(bE,Bi),da.STAT_EVENT="statevent",Mi(IE,Bi),da.Ua="timingevent",Mi(CE,Bi);var Bg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $g(){}function TE(){}$g.prototype.h=null;var jg,Yf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qf(){Bi.call(this,"d")}function Nv(){Bi.call(this,"c")}function Hg(){}function Jf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ju(this),this.P=PD,this.V=new Zf(n=_v?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new AE}function AE(){this.i=null,this.g="",this.h=!1}Mi(Qf,Bi),Mi(Nv,Bi),Mi(Hg,$g),Hg.prototype.g=function(){return new XMLHttpRequest},Hg.prototype.i=function(){return{}},jg=new Hg;var PD=45e3,kv={},zg={};function Ov(n,e,t){n.L=1,n.v=$v(zu(e)),n.s=t,n.S=!0,SE(n,null)}function SE(n,e){n.G=Date.now(),Xf(n),n.A=zu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),kE(t.i,"t",r),n.C=0,t=n.l.I,n.h=new AE,n.g=XE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new yE(Xi(n.Pa,n,n.g),n.O)),_E(n.U,n.g,"readystatechange",n.nb),e=n.I?bv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Th(),function Fx(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),_=0;_<g.length;_++){var A=g[_].split("=");if(1<A.length){var S=A[0];A=A[1];var U=S.split("_");c=2<=U.length&&"type"==U[1]?c+(S+"=")+A+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Fv(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Lv(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=RD(n,t),i==zg){4==e&&(n.o=4,es(14),r=!1),Xc(n.j,n.m,null,"[Incomplete Response]");break}if(i==kv){n.o=4,es(15),Xc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xc(n.j,n.m,i,null),tp(n,i)}Fv(n)&&i!=zg&&i!=kv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,es(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xg(e),e.L=!0,es(11))):(Xc(n.j,n.m,t,"[Invalid Chunked Response]"),td(n),ep(n))}function RD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zg:(t=Number(e.substring(t,r)),isNaN(t)?kv:(r+=1)+t>e.length?zg:(e=e.substr(r,t),n.C=r+t,e))}function Xf(n){n.Y=Date.now()+n.P,Vv(n,n.P)}function Vv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ed(Xi(n.lb,n),e)}function Gg(n){n.B&&(un.clearTimeout(n.B),n.B=null)}function ep(n){0==n.l.H||n.J||tm(n.l,n)}function td(n){Gg(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Dh(n.V),wE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function tp(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||UE(t.h,n)))if(!n.K&&UE(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ap(t),ql(t)}Jg(t),es(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=ed(Xi(t.ib,t),6e3));if(1>=VE(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Zl(t,11)}else if((n.K||t.g==n)&&ap(t),!Gf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let A=i[e];if(t.V=A[0],A=A[1],2==t.H)if("c"==A[0]){t.J=A[1],t.oa=A[2];const S=A[3];null!=S&&(t.qa=S,t.j.info("VER="+t.qa));const U=A[4];null!=U&&(t.Ga=U,t.j.info("SVER="+t.Ga));const W=A[5];null!=W&&"number"==typeof W&&0<W&&(t.K=r=1.5*W,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ne=n.g;if(ne){const he=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var u=r.h;u.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(zv(u,u.h),u.h=null))}if(r.F){const Oe=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.Da=Oe,_r(r.G,r.F,Oe))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=im(r,r.I?r.oa:null,r.Y),c.K){BE(r.h,c);var g=c,_=r.K;_&&g.setTimeout(_),g.B&&(Gg(g),Xf(g)),r.g=c}else JE(r);0<t.i.length&&Qg(t)}else"stop"!=A[0]&&"close"!=A[0]||Zl(t,7);else 3==t.H&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Zl(t,7):sp(t):"noop"!=A[0]&&t.l&&t.l.Aa(A),t.A=0)}Th()}catch{}}function qg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ag(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xE(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ag(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Uv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ag(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(ct=Jf.prototype).setTimeout=function(n){this.P=n},ct.nb=function(n){n=n.target;const e=this.M;e&&3==Zu(n)?e.l():this.Pa(n)},ct.Pa=function(n){try{if(n==this.g)e:{const S=Zu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||_v||this.g&&(this.h.h||this.g.ja()||Ph(this.g)))){this.J||4!=S||7==e||Th(),Gg(this);var t=this.g.da();this.aa=t;t:if(Fv(this)){var r=Ph(this.g);n="";var i=r.length,u=4==Zu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){td(this),ep(this);var c="";break t}this.h.i=new un.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function SD(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(g)){var A=g;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,es(12),td(this),ep(this);break e}Xc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tp(this,t)}this.S?(Lv(this,S,c),_v&&this.i&&3==S&&(_E(this.U,this.V,"tick",this.mb),this.V.start())):(Xc(this.j,this.m,c,null),tp(this,c)),4==S&&td(this),this.i&&!this.J&&(4==S?tm(this.l,this):(this.i=!1,Xf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,es(12)):(this.o=0,es(13)),td(this),ep(this)}}}catch{}},ct.mb=function(){if(this.g){var n=Zu(this.g),e=this.g.ja();this.C<e.length&&(Gg(this),Lv(this,n,e),this.i&&4!=n&&Xf(this))}},ct.cancel=function(){this.J=!0,td(this)},ct.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Th(),es(17)),td(this),this.o=2,ep(this)):Vv(this,this.Y-n)};var ME=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hu){this.h=void 0!==e?e:n.h,np(this,n.j),this.s=n.s,this.g=n.g,Gu(this,n.m),this.l=n.l,e=n.i;var t=new Sh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Bv(this,t),this.o=n.o}else n&&(t=String(n).match(ME))?(this.h=!!e,np(this,t[1]||"",!0),this.s=Ah(t[2]||""),this.g=Ah(t[3]||"",!0),Gu(this,t[4]),this.l=Ah(t[5]||"",!0),Bv(this,t[6]||"",!0),this.o=Ah(t[7]||"")):(this.h=!!e,this.i=new Sh(null,this.h))}function zu(n){return new Hu(n)}function np(n,e,t){n.j=t?Ah(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Bv(n,e,t){e instanceof Sh?(n.i=e,function FD(n,e){e&&!n.j&&(qu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Hv(this,r),kE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nd(e,jv)),n.i=new Sh(e,n.h))}function _r(n,e,t){n.i.set(e,t)}function $v(n){return _r(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ah(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nd(e,Wg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nd(e,Wg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nd(t,"/"==t.charAt(0)?PE:OD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nd(t,RE)),n.join("")};var Wg=/[#\/\?@]/g,OD=/[#\?:]/g,PE=/[#\?]/g,jv=/[#\?@]/g,RE=/#/g;function Sh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qu(n){n.g||(n.g=new Map,n.h=0,n.i&&function ND(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hv(n,e){qu(n),e=xh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function NE(n,e){return qu(n),e=xh(n,e),n.g.has(e)}function kE(n,e,t){Hv(n,e),0<t.length&&(n.i=null,n.g.set(xh(n,e),mv(t)),n.h+=t.length)}function xh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LD(n){this.l=n||FE,n=un.PerformanceNavigationTiming?0<(n=un.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(un.g&&un.g.Ka&&un.g.Ka()&&un.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Sh.prototype).add=function(n,e){qu(this),this.i=null,n=xh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){qu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ct.sa=function(){qu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},ct.Z=function(n){qu(this);let e=[];if("string"==typeof n)NE(this,n)&&(e=e.concat(this.g.get(xh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return qu(this),this.i=null,NE(this,n=xh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var FE=10;function LE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VE(n){return n.h?1:n.g?n.g.size:0}function UE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zv(n,e){n.g?n.g.add(e):n.h=e}function BE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $E(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return mv(n.i)}function Gv(){}function VD(){this.g=new Gv}function UD(n,e,t){const r=t||"";try{qg(n,function(i,u){let c=i;zf(i)&&(c=Sv(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rp(n){this.l=n.fc||null,this.j=n.ob||!1}function Kg(n,e){qr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LD.prototype.cancel=function(){if(this.i=$E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Gv.prototype.stringify=function(n){return un.JSON.stringify(n,void 0)},Gv.prototype.parse=function(n){return un.JSON.parse(n,void 0)},Mi(rp,$g),rp.prototype.g=function(){return new Kg(this.l,this.j)},rp.prototype.i=function(n){return function(){return n}}({}),Mi(Kg,qr);var qv=0;function jE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Wu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mh(n)}function Mh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Kg.prototype).open=function(n,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mh(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||un).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wu(this)),this.readyState=qv},ct.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof un.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ct.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wu(this):Mh(this),3==this.readyState&&jE(this)}},ct.Za=function(n){this.g&&(this.response=this.responseText=n,Wu(this))},ct.Ya=function(n){this.g&&(this.response=n,Wu(this))},ct.ka=function(){this.g&&Wu(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HE=un.JSON.parse;function Rr(n){qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wv,this.L=this.M=!1}Mi(Rr,qr);var Wv="",zE=/^https?$/i,$D=["POST","PUT"];function HD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GE(n),Yg(n)}function GE(n){n.F||(n.F=!0,$i(n,"complete"),$i(n,"error"))}function qE(n){if(n.h&&typeof pv<"u"&&(!n.C[1]||4!=Zu(n)||2!=n.da()))if(n.v&&4==Zu(n))Pv(n.La,0,n);else if($i(n,"readystatechange"),4==Zu(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.I).match(ME)[1]||null;if(!i&&un.self&&un.self.location){var u=un.self.location.protocol;i=u.substr(0,u.length-1)}r=!zE.test(i?i.toLowerCase():"")}t=r}if(t)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var c=2<Zu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",GE(n)}}finally{Yg(n)}}}function Yg(n,e){if(n.g){WE(n);const t=n.g,r=n.C[0]?Tg:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=r}catch{}}}function WE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(un.clearTimeout(n.A),n.A=null)}function Zu(n){return n.g?n.g.readyState:0}function Ph(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Wv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZE(n){let e="";return kg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ip(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ZE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_r(n,e,t))}function Ns(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KE(n){this.Ga=0,this.i=[],this.j=new Ug,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ns("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ns("baseRetryDelayMs",5e3,n),this.hb=Ns("retryDelaySeedMs",1e4,n),this.eb=Ns("forwardChannelMaxRetries",2,n),this.xa=Ns("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new LD(n&&n.concurrentRequestLimit),this.Ja=new VD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function sp(n){if(YE(n),3==n.H){var e=n.W++,t=zu(n.G);_r(t,"SID",n.J),_r(t,"RID",e),_r(t,"TYPE","terminate"),Wl(n,t),(e=new Jf(n,n.j,e,void 0)).L=2,e.v=$v(zu(t)),t=!1,un.navigator&&un.navigator.sendBeacon&&(t=un.navigator.sendBeacon(e.v.toString(),"")),!t&&un.Image&&((new Image).src=e.v,t=!0),t||(e.g=XE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xf(e)}rm(n)}function ql(n){n.g&&(Xg(n),n.g.cancel(),n.g=null)}function YE(n){ql(n),n.u&&(un.clearTimeout(n.u),n.u=null),ap(n),n.h.cancel(),n.m&&("number"==typeof n.m&&un.clearTimeout(n.m),n.m=null)}function Qg(n){LE(n.h)||n.m||(n.m=!0,pE(n.Na,n),n.C=0)}function op(n,e){var t;t=e?e.m:n.W++;const r=zu(n.G);_r(r,"SID",n.J),_r(r,"RID",t),_r(r,"AID",n.V),Wl(n,r),n.o&&n.s&&ip(r,n.o,n.s),t=new Jf(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=QE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),zv(n.h,t),Ov(t,r,e)}function Wl(n,e){n.ma&&kg(n.ma,function(t,r){_r(e,r,t)}),n.l&&qg({},function(t,r){_r(e,r,t)})}function QE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xi(n.l.Va,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let A=i[_].h;const S=i[_].g;if(A-=u,0>A)u=Math.max(0,i[_].h-100),g=!1;else try{UD(S,c,"req"+A+"_")}catch{r&&r(S)}}if(g){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function JE(n){n.g||n.u||(n.ba=1,pE(n.Ma,n),n.A=0)}function Jg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ed(Xi(n.Ma,n),nm(n,n.A)),n.A++,0))}function Xg(n){null!=n.B&&(un.clearTimeout(n.B),n.B=null)}function em(n){n.g=new Jf(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=zu(n.wa);_r(e,"RID","rpc"),_r(e,"SID",n.J),_r(e,"CI",n.M?"0":"1"),_r(e,"AID",n.V),_r(e,"TYPE","xmlhttp"),Wl(n,e),n.o&&n.s&&ip(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=$v(zu(e)),t.s=null,t.S=!0,SE(t,n)}function ap(n){null!=n.v&&(un.clearTimeout(n.v),n.v=null)}function tm(n,e){var t=null;if(n.g==e){ap(n),Xg(n),n.g=null;var r=2}else{if(!UE(n.h,e))return;t=e.F,BE(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;$i(r=Kf(),new CE(r,t)),Qg(n)}else JE(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function zD(n,e){return!(VE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ed(Xi(n.Na,n,e),nm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Jg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Zl(n,5);break;case 4:Zl(n,10);break;case 3:Zl(n,6);break;default:Zl(n,2)}}function nm(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Zl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xi(n.pb,n);t||(t=new Hu("//www.google.com/images/cleardot.gif"),un.location&&"http"==un.location.protocol||np(t,"https"),$v(t)),function BD(n,e){const t=new Ug;if(un.Image){const r=new Image;r.onload=Sg(Zg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sg(Zg,t,r,"TestLoadImage: error",!1,e),r.onabort=Sg(Zg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sg(Zg,t,r,"TestLoadImage: timeout",!1,e),un.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else es(2);n.H=0,n.l&&n.l.za(e),rm(n),YE(n)}function rm(n){if(n.H=0,n.pa=[],n.l){const e=$E(n.h);(0!=e.length||0!=n.i.length)&&(eE(n.pa,e),eE(n.pa,n.i),n.h.i.length=0,mv(n.i),n.i.length=0),n.l.ya()}}function im(n,e,t){var r=t instanceof Hu?zu(t):new Hu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Gu(r,r.m);else{var i=un.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Hu(null,void 0);r&&np(u,r),e&&(u.g=e),i&&Gu(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&_r(r,t,e),_r(r,"VER",n.qa),Wl(n,r),r}function XE(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(t&&n.Ha&&!n.va?new rp({ob:!0}):n.va)).Oa(n.I),e}function eb(){}function sm(){if(Qc&&!(10<=Number(ID)))throw Error("Environmental error: no available transport.")}function eo(n,e){qr.call(this),this.g=new KE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Gf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rd(this)}function Zv(n){Qf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function om(){Nv.call(this),this.status=1}function rd(n){this.g=n}function No(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function am(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function Gn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(ct=Rr.prototype).Oa=function(n){this.M=n},ct.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jg.g(),this.C=function DE(n){return n.h||(n.h=n.i())}(this.u?this.u:jg),this.g.onreadystatechange=Xi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void HD(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=un.FormData&&n instanceof un.FormData,!(0<=X0($D,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WE(this),0<this.B&&((this.L=function jD(n){return Qc&&function Ht(){return vv(Nx,9,function(){let n=0;const e=yv(String(bh)).split("."),t=yv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=xg(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||xg(0==i[2].length,0==u[2].length)||xg(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.ua,this)):this.A=Pv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){HD(this,u)}},ct.ua=function(){typeof pv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),Yg(this))},ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yg(this,!0)),Rr.$.N.call(this)},ct.La=function(){this.s||(this.G||this.v||this.l?qE(this):this.kb())},ct.kb=function(){qE(this)},ct.da=function(){try{return 2<Zu(this)?this.g.status:-1}catch{return-1}},ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),HE(e)}},ct.Ia=function(){return this.m},ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=KE.prototype).qa=8,ct.H=1,ct.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Jf(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=bv(u),Iv(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QE(this,i,e),_r(t=zu(this.G),"RID",n),_r(t,"CVER",22),this.F&&_r(t,"X-HTTP-Session-Id",this.F),Wl(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(ZE(u)))+"&"+e:this.o&&ip(t,this.o,u)),zv(this.h,i),this.bb&&_r(t,"TYPE","init"),this.P?(_r(t,"$req",e),_r(t,"SID","null"),i.ba=!0,Ov(i,t,null)):Ov(i,t,e),this.H=2}}else 3==this.H&&(n?op(this,n):0==this.i.length||LE(this.h)||op(this))},ct.Ma=function(){if(this.u=null,em(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=ed(Xi(this.jb,this),n)}},ct.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,es(10),ql(this),em(this))},ct.ib=function(){null!=this.v&&(this.v=null,ql(this),Jg(this),es(19))},ct.pb=function(n){n?(this.j.info("Successfully pinged google.com"),es(2)):(this.j.info("Failed to ping google.com"),es(1))},(ct=eb.prototype).Ba=function(){},ct.Aa=function(){},ct.za=function(){},ct.ya=function(){},ct.Va=function(){},sm.prototype.g=function(n,e){return new eo(n,e)},Mi(eo,qr),eo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;es(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=im(n,null,n.Y),Qg(n)},eo.prototype.close=function(){sp(this.g)},eo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Sv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Qg(e)},eo.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,eo.$.N.call(this)},Mi(Zv,Qf),Mi(om,Nv),Mi(rd,eb),rd.prototype.Ba=function(){$i(this.g,"a")},rd.prototype.Aa=function(n){$i(this.g,new Zv(n))},rd.prototype.za=function(n){$i(this.g,new om)},rd.prototype.ya=function(){$i(this.g,"b")},Mi(No,function GD(){this.blockSize=-1}),No.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},No.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)am(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){am(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){am(this,r),i=0;break}}this.h=i,this.i+=e},No.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var tb={};function um(n){return-128<=n&&128>n?vv(tb,n,function(e){return new Gn([0|e],0>e?-1:0)}):new Gn([0|n],0>n?-1:0)}function eu(n){if(isNaN(n)||!isFinite(n))return li;if(0>n)return ts(eu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Yv;return new Gn(e,0)}var Yv=4294967296,li=um(0),Kl=um(1),nb=um(16777216);function Ku(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ha(n){return-1==n.h}function ts(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Gn(t,~n.h).add(Kl)}function up(n,e){return n.add(ts(e))}function Rh(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Yu(n,e){this.g=n,this.h=e}function lm(n,e){if(Ku(e))throw Error("division by zero");if(Ku(n))return new Yu(li,li);if(ha(n))return e=lm(ts(n),e),new Yu(ts(e.g),ts(e.h));if(ha(e))return e=lm(n,ts(e)),new Yu(ts(e.g),e.h);if(30<n.g.length){if(ha(n)||ha(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Kl,r=e;0>=r.X(n);)t=cm(t),r=cm(r);var i=Nh(t,1),u=Nh(r,1);for(r=Nh(r,2),t=Nh(t,2);!Ku(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=Nh(r,1),t=Nh(t,1)}return e=up(n,i.R(e)),new Yu(i,e)}for(i=li;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=eu(t)).R(e);ha(c)||0<c.X(n);)c=(u=eu(t-=r)).R(e);Ku(u)&&(u=Kl),i=i.add(u),n=up(n,c)}return new Yu(i,n)}function cm(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Gn(t,n.h)}function Nh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Gn(i,n.h)}(ct=Gn.prototype).ea=function(){if(ha(this))return-ts(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Yv+r)*e,e*=Yv}return n},ct.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ku(this))return"0";if(ha(this))return"-"+ts(this).toString(n);for(var e=eu(Math.pow(n,6)),t=this,r="";;){var i=lm(t,e).g,u=((0<(t=up(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ku(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},ct.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ct.X=function(n){return ha(n=up(this,n))?-1:Ku(n)?0:1},ct.abs=function(){return ha(this)?ts(this):this},ct.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new Gn(t,-2147483648&t[t.length-1]?-1:0)},ct.R=function(n){if(Ku(this)||Ku(n))return li;if(ha(this))return ha(n)?ts(this).R(ts(n)):ts(ts(this).R(n));if(ha(n))return ts(this.R(ts(n)));if(0>this.X(nb)&&0>n.X(nb))return eu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),g=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,Rh(t,2*r+2*i),t[2*r+2*i+1]+=u*_,Rh(t,2*r+2*i+1),t[2*r+2*i+1]+=c*g,Rh(t,2*r+2*i+1),t[2*r+2*i+2]+=u*g,Rh(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Gn(t,0)},ct.gb=function(n){return lm(this,n).h},ct.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Gn(t,this.h&n.h)},ct.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Gn(t,this.h|n.h)},ct.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Gn(t,this.h^n.h)},sm.prototype.createWebChannel=sm.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,Bg.NO_ERROR=0,Bg.TIMEOUT=8,Bg.HTTP_ERROR=6,Rv.COMPLETE="complete",TE.EventType=Yf,Yf.OPEN="a",Yf.CLOSE="b",Yf.ERROR="c",Yf.MESSAGE="d",qr.prototype.listen=qr.prototype.O,Rr.prototype.listenOnce=Rr.prototype.P,Rr.prototype.getLastError=Rr.prototype.Sa,Rr.prototype.getLastErrorCode=Rr.prototype.Ia,Rr.prototype.getStatus=Rr.prototype.da,Rr.prototype.getResponseJson=Rr.prototype.Wa,Rr.prototype.getResponseText=Rr.prototype.ja,Rr.prototype.send=Rr.prototype.ha,Rr.prototype.setWithCredentials=Rr.prototype.Oa,No.prototype.digest=No.prototype.l,No.prototype.reset=No.prototype.reset,No.prototype.update=No.prototype.j,Gn.prototype.add=Gn.prototype.add,Gn.prototype.multiply=Gn.prototype.R,Gn.prototype.modulo=Gn.prototype.gb,Gn.prototype.compare=Gn.prototype.X,Gn.prototype.toNumber=Gn.prototype.ea,Gn.prototype.toString=Gn.prototype.toString,Gn.prototype.getBits=Gn.prototype.D,Gn.fromNumber=eu,Gn.fromString=function Kv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ts(Kv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=eu(Math.pow(e,8)),r=li,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=eu(Math.pow(e,u)),r=r.R(u).add(eu(c))):r=(r=r.R(t)).add(eu(c))}return r};var rb=Ro.createWebChannelTransport=function(){return new sm},qD=Ro.getStatEventTarget=function(){return Kf()},Qv=Ro.ErrorCode=Bg,WD=Ro.EventType=Rv,Jv=Ro.Event=da,Xv=Ro.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ib=Ro.FetchXmlHttpFactory=rp,id=Ro.WebChannel=TE,e_=Ro.XhrIo=Rr,Lx=Ro.Md5=No,sd=Ro.Integer=Gn;const sb="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let fa="9.21.0";const Yl=new $u.Yd("@firebase/firestore");function dm(){return Yl.logLevel}function $e(n,...e){if(Yl.logLevel<=$u.in.DEBUG){const t=e.map(n_);Yl.debug(`Firestore (${fa}): ${n}`,...t)}}function Xr(n,...e){if(Yl.logLevel<=$u.in.ERROR){const t=e.map(n_);Yl.error(`Firestore (${fa}): ${n}`,...t)}}function pa(n,...e){if(Yl.logLevel<=$u.in.WARN){const t=e.map(n_);Yl.warn(`Firestore (${fa}): ${n}`,...t)}}function n_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function xt(n,e){n||mt()}function at(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ab{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class ub{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=A=>this.i!==i?(i=this.i,t(A)):Promise.resolve();let c=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ci,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const A=c;e.enqueueRetryable((0,Ae.Z)(function*(){yield A.promise,yield u(r.currentUser)}))},_=A=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(A=>_(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?_(A):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ci)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new mi(e)}}class lb{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class db{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.T=t.token,new r_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YD(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function lp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function JD(n){return n+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Nr(0,0))}static max(){return new Rt(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hm{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends hm{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const Ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends hm{construct(e,t,r){return new ei(e,t,r)}static isValidIdentifier(e){return Ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ei(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(u(),i++)}if(u(),c)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(t)}static emptyPath(){return new ei([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Tn.fromString(e))}static fromName(e){return new nt(Tn.fromString(e).popFirst(5))}static empty(){return new nt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Tn(e.slice()))}}class i_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function fm(n){return n.fields.find(e=>2===e.kind)}function tu(n){return n.fields.filter(e=>2!==e.kind)}i_.UNKNOWN_ID=-1;class cp{constructor(e,t){this.fieldPath=e,this.kind=t}}class od{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new od(0,ko.min())}}function s_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===r?new Nr(t+1,0):new Nr(t,r));return new ko(i,nt.empty(),e)}function fb(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ko(Rt.min(),nt.empty(),-1)}static max(){return new ko(Rt.max(),nt.empty(),-1)}}function pb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}const gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ga(n){return o_.apply(this,arguments)}function o_(){return o_=(0,Ae.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==gb)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),o_.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,u=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const u=e.length,c=new Array(u);let g=0;for(let _=0;_<u;_++){const A=_;t(e[A]).next(S=>{c[A]=S,++g,g===u&&r(c)},S=>i(S))}})}static doWhile(e,t){return new ae((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class a_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ci,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new dp(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=pm(r.target.error);this.R.reject(new dp(e,i))}}static open(e,t,r,i){try{return new a_(t,e.transaction(i,r))}catch(u){throw new dp(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $x(t)}}class nu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===nu.S((0,In.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),ad(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,In.hl)())return!1;if(nu.C())return!0;const e=(0,In.z$)(),t=nu.S(e),r=0<t&&t<10,i=nu.N(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Ae.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new dp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const g=c.target.error;i("VersionError"===g.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new dp(e,g))},u.onupgradeneeded=c=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Ae.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.O(e);const _=a_.open(u.db,e,c?"readonly":"readwrite",r),A=i(_).next(S=>(_.P(),S)).catch(S=>(_.abort(S),ae.reject(S))).toPromise();return A.catch(()=>{}),yield _.v,A}catch(_){const A=_,S="FirebaseError"!==A.name&&g<3;if($e("SimpleDb","Transaction failed with error:",A.message,"Retrying:",S),u.close(),!S)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class XD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ad(this.L.delete())}}class dp extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ql(n){return"IndexedDbTransactionError"===n.name}class $x{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ad(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),ad(this.store.add(e))}get(e){return ad(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),ad(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),ad(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.W(i,(c,g)=>{u.push(g)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ae((u,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(u,c,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=u=>{const c=pm(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}W(e,t){const r=[];return new ae((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void i();const _=new XD(g),A=t(g.primaryKey,g.value,_);if(A instanceof ae){const S=A.catch(U=>(_.done(),ae.reject(U)));r.push(S)}_.isDone?i():null===_.K?g.continue():g.continue(_.K)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ad(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=pm(r.target.error);t(i)}})}let u_=!1;function pm(n){const e=nu.S((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return u_||(u_=!0,setTimeout(()=>{throw r},0)),r}}return n}class jx{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ql(r)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ga(r)}yield t.et(6e4)}))}}class ma{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,u=!0;return ae.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return $e("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(g=>{i-=g,r.add(c)});u=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,u)).next(g=>($e("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=fb(u);pb(c,r)>0&&(r=c)}),new ko(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let to=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ud(n){return null==n}function hp(n){return 0===n&&1/n==-1/0}function eT(n){return"number"==typeof n&&Number.isInteger(n)&&!hp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function sr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gm(e)),e=tT(n.get(t),e);return gm(e)}function tT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function gm(n){return n+"\x01\x01"}function ru(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&mt(),n.charAt(c+1)){case"\x01":const g=n.substring(u,c);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:mt()}u=c+2}return new Tn(r)}const yb=["userId","batchId"];function kh(n,e){return[n,sr(e)]}function l_(n,e,t){return[n,sr(e),t]}const vb={},nT=["prefixPath","collectionGroup","readTime","documentId"],_b=["prefixPath","collectionGroup","documentId"],wb=["collectionGroup","readTime","prefixPath","documentId"],rT=["canonicalId","targetId"],Eb=["targetId","path"],iT=["path","targetId"],c_=["collectionId","parent"],Qu=["indexId","uid"],Jl=["uid","sequenceNumber"],bb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d_=["indexId","uid","orderedDocumentKey"],Ib=["userId","collectionPath","documentId"],sT=["userId","collectionPath","largestBatchId"],Hx=["userId","collectionGroup","largestBatchId"],Cb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oT=[...Cb,"documentOverlays"],Db=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=Db,Ab=[...Tb,"indexConfiguration","indexState","indexEntries"];class Sb extends mb{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function yi(n,e){const t=at(n);return nu.M(t.at,e)}function xb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Pi.RED,this.left=i??Pi.EMPTY,this.right=u??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Pi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(e){return new h_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class h_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ld(n){return n.hasNext()?n.getNext():void 0}class ji{constructor(e){this.fields=e,e.sort(ei.comparator)}static empty(){return new ji([])}unionWith(e){let t=new lr(ei.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pp("Invalid base64 string: "+i):i}}(e);return new vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const uT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=uT.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xl(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function gp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mm(n){const e=n.mapValue.fields.__previous_value__;return gp(e)?mm(e):e}function mp(n){const e=cd(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class lT{constructor(e,t,r,i,u,c,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class dd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}const hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},f_={nullValue:"NULL_VALUE"};function fd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gp(n)?4:cT(n)?9007199254740991:10:mt()}function Xu(n,e){if(n===e)return!0;const t=fd(n);if(t!==fd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mp(n).isEqual(mp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=cd(r.timestampValue),c=cd(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xl(n.bytesValue).isEqual(Xl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ti(r.geoPointValue.latitude)===ti(i.geoPointValue.latitude)&&ti(r.geoPointValue.longitude)===ti(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ti(r.integerValue)===ti(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=ti(r.doubleValue),c=ti(i.doubleValue);return u===c?hp(u)===hp(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return lp(n.arrayValue.values||[],e.arrayValue.values||[],Xu);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(xb(u)!==xb(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!Xu(u[g],c[g])))return!1;return!0}(n,e);default:return mt()}var i}function yp(n,e){return void 0!==(n.values||[]).find(t=>Xu(t,e))}function ya(n,e){if(n===e)return 0;const t=fd(n),r=fd(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=ti(i.integerValue||i.doubleValue),g=ti(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return Pb(n.timestampValue,e.timestampValue);case 4:return Pb(mp(n),mp(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Xl(i),g=Xl(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),g=u.split("/");for(let _=0;_<c.length&&_<g.length;_++){const A=tn(c[_],g[_]);if(0!==A)return A}return tn(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=tn(ti(i.latitude),ti(u.latitude));return 0!==c?c:tn(ti(i.longitude),ti(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],g=u.values||[];for(let _=0;_<c.length&&_<g.length;++_){const A=ya(c[_],g[_]);if(A)return A}return tn(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===hd.mapValue&&u===hd.mapValue)return 0;if(i===hd.mapValue)return 1;if(u===hd.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=u.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const U=tn(g[S],A[S]);if(0!==U)return U;const W=ya(c[g[S]],_[A[S]]);if(0!==W)return W}return tn(g.length,A.length)}(n.mapValue,e.mapValue);default:throw mt()}}function Pb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=cd(n),r=cd(e),i=tn(t.seconds,r.seconds);return 0!==i?i:tn(t.nanos,r.nanos)}function Oh(n){return ym(n)}function ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=cd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xl(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=ym(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of i)c?c=!1:u+=",",u+=`${g}:${ym(r.fields[g])}`;return u+"}"}(n.mapValue):mt();var e}function ec(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vp(n){return!!n&&"integerValue"in n}function pd(n){return!!n&&"arrayValue"in n}function Rb(n){return!!n&&"nullValue"in n}function vm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fh(n){return!!n&&"mapValue"in n}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zx(n){return"nullValue"in n?f_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ec(dd.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function Gx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ec(dd.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hd:mt()}function dT(n,e){const t=ya(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function p_(n,e){const t=ya(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=ei.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=tc(c):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ju(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Hi(tc(this.value))}}function Nb(n){const e=[];return Ju(n.fields,(t,r)=>{const i=new ei([t]);if(Fh(r)){const u=Nb(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new ji(e)}class hr{constructor(e,t,r,i,u,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new hr(e,0,Rt.min(),Rt.min(),Rt.min(),Hi.empty(),0)}static newFoundDocument(e,t,r,i){return new hr(e,1,t,Rt.min(),r,i,0)}static newNoDocument(e,t){return new hr(e,2,t,Rt.min(),Rt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,Rt.min(),Rt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nc{constructor(e,t){this.position=e,this.inclusive=t}}function g_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?nt.comparator(nt.fromName(c.referenceValue),t.key):ya(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function m_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xu(n.position[t],e.position[t]))return!1;return!0}class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function hT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kb{}class wn extends kb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gT(e,t,r):"array-contains"===t?new Wx(e,r):"in"===t?new vT(e,r):"not-in"===t?new _T(e,r):"array-contains-any"===t?new Zx(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mT(e,r):new qx(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ya(t,this.value)):null!==t&&fd(this.value)===fd(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends kb{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new On(e,t)}matches(e){return _p(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function _p(n){return"and"===n.op}function _m(n){return"or"===n.op}function wp(n){return Ob(n)&&_p(n)}function Ob(n){for(const e of n.filters)if(e instanceof On)return!1;return!0}function y_(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Oh(n.value);if(wp(n))return n.filters.map(e=>y_(e)).join(",");{const e=n.filters.map(t=>y_(t)).join(",");return`${n.op}(${e})`}}function fT(n,e){return n instanceof wn?(t=n,(r=e)instanceof wn&&t.op===r.op&&t.field.isEqual(r.field)&&Xu(t.value,r.value)):n instanceof On?function(t,r){return r instanceof On&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&fT(u,r.filters[c]),!0)}(n,e):void mt();var t,r}function pT(n,e){const t=n.filters.concat(e);return On.create(t,n.op)}function Fb(n){return n instanceof wn?`${(e=n).field.canonicalString()} ${e.op} ${Oh(e.value)}`:n instanceof On?function(e){return e.op.toString()+" {"+e.getFilters().map(Fb).join(" ,")+"}"}(n):"Filter";var e}class gT extends wn{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mT extends wn{constructor(e,t){super(e,"in",t),this.keys=yT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qx extends wn{constructor(e,t){super(e,"not-in",t),this.keys=yT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class Wx extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pd(t)&&yp(t.arrayValue,this.value)}}class vT extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yp(this.value.arrayValue,t)}}class _T extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yp(this.value.arrayValue,t)}}class Zx extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yp(this.value.arrayValue,r))}}class Kx{constructor(e,t=null,r=[],i=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=g,this.ft=null}}function Lb(n,e=null,t=[],r=[],i=null,u=null,c=null){return new Kx(n,e,t,r,i,u,c)}function Lh(n){const e=at(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>y_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oh(r)).join(",")),e.ft=t}return e.ft}function wm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m_(n.startAt,e.startAt)&&m_(n.endAt,e.endAt)}function v_(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function s(n,e){return n.filters.filter(t=>t instanceof wn&&t.field.isEqual(e))}function o(n,e,t){let r=f_,i=!0;for(const u of s(n,e)){let c=f_,g=!0;switch(u.op){case"<":case"<=":c=zx(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,g=!1;break;case"!=":case"not-in":c=f_}dT({value:r,inclusive:i},{value:c,inclusive:g})<0&&(r=c,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];dT({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function a(n,e,t){let r=hd,i=!0;for(const u of s(n,e)){let c=hd,g=!0;switch(u.op){case">=":case">":c=Gx(u.value),g=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,g=!1;break;case"!=":case"not-in":c=hd}p_({value:r,inclusive:i},{value:c,inclusive:g})>0&&(r=c,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];p_({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class l{constructor(e,t=null,r=[],i=[],u=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=_,this.dt=null,this._t=null}}function h(n,e,t,r,i,u,c,g){return new l(n,e,t,r,i,u,c,g)}function p(n){return new l(n)}function y(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function b(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function T(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function x(n){return null!==n.collectionGroup}function k(n){const e=at(n);if(null===e.dt){e.dt=[];const t=T(e),r=b(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new gd(t)),e.dt.push(new gd(ei.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new gd(ei.keyField(),u))}}}return e.dt}function H(n){const e=at(n);if(!e._t)if("F"===e.limitType)e._t=Lb(e.path,e.collectionGroup,k(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of k(e))t.push(new gd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;e._t=Lb(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function J(n,e){e.getFirstInequalityField(),T(n);const t=n.filters.concat([e]);return new l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ie(n,e,t){return new l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function De(n,e){return wm(H(n),H(e))&&n.limitType===e.limitType}function Ze(n){return`${Lh(H(n))}|lt:${n.limitType}`}function ot(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Fb(r)).join(", ")}]`),ud(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oh(r)).join(",")),`Target(${t})`}(H(n))}; limitType=${n.limitType})`}function yt(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of k(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const g=g_(i,u,c);return i.inclusive?g<=0:g<0}(t.startAt,k(t),r)||t.endAt&&!function(i,u,c){const g=g_(i,u,c);return i.inclusive?g>=0:g>0}(t.endAt,k(t),r)));var t,r}function zt(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ve(n){return(e,t)=>{let r=!1;for(const i of k(n)){const u=ln(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function ln(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,u,c){const g=u.data.field(i),_=c.data.field(i);return null!==g&&null!==_?ya(g,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}class Mn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ju(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}const ni=new Yn(nt.comparator);function no(){return ni}const Yx=new Yn(nt.comparator);function __(...n){let e=Yx;for(const t of n)e=e.insert(t.key,t);return e}function Qx(n){let e=Yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rc(){return w_()}function Jx(){return w_()}function w_(){return new Mn(n=>n.toString(),(n,e)=>n.isEqual(e))}const PR=new Yn(nt.comparator),RR=new lr(nt.comparator);function pn(...n){let e=RR;for(const t of n)e=e.add(t);return e}const NR=new lr(tn);function wT(){return NR}function Xx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function eM(n){return{integerValue:""+n}}function tM(n,e){return eT(e)?eM(e):Xx(n,e)}class Vb{constructor(){this._=void 0}}function kR(n,e,t){return n instanceof Em?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gp(i)&&(i=mm(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Ep?rM(n,e):n instanceof bp?iM(n,e):function(r,i){const u=nM(r,i),c=sM(u)+sM(r.wt);return vp(u)&&vp(r.wt)?eM(c):Xx(r.serializer,c)}(n,e)}function OR(n,e,t){return n instanceof Ep?rM(n,e):n instanceof bp?iM(n,e):t}function nM(n,e){return n instanceof bm?vp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Em extends Vb{}class Ep extends Vb{constructor(e){super(),this.elements=e}}function rM(n,e){const t=oM(e);for(const r of n.elements)t.some(i=>Xu(i,r))||t.push(r);return{arrayValue:{values:t}}}class bp extends Vb{constructor(e){super(),this.elements=e}}function iM(n,e){let t=oM(e);for(const r of n.elements)t=t.filter(i=>!Xu(i,r));return{arrayValue:{values:t}}}class bm extends Vb{constructor(e,t){super(),this.serializer=e,this.wt=t}}function sM(n){return ti(n.integerValue||n.doubleValue)}function oM(n){return pd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E_{constructor(e,t){this.field=e,this.transform=t}}class LR{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ub(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bb{}function aM(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cm(n.key,Wr.none()):new Im(n.key,n.data,Wr.none());{const t=n.data,r=Hi.empty();let i=new lr(ei.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new md(n.key,r,new ji(i.toArray()),Wr.none())}}function VR(n,e,t){n instanceof Im?function(r,i,u){const c=r.value.clone(),g=cM(r.fieldTransforms,i,u.transformResults);c.setAll(g),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof md?function(r,i,u){if(!Ub(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=cM(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(lM(r)),g.setAll(c),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function b_(n,e,t,r){return n instanceof Im?function(i,u,c,g){if(!Ub(i.precondition,u))return c;const _=i.value.clone(),A=dM(i.fieldTransforms,g,u);return _.setAll(A),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof md?function(i,u,c,g){if(!Ub(i.precondition,u))return c;const _=dM(i.fieldTransforms,g,u),A=u.data;return A.setAll(lM(i)),A.setAll(_),u.convertToFoundDocument(u.version,A).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,Ub(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function UR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=nM(r.transform,i||null);null!=u&&(null===t&&(t=Hi.empty()),t.set(r.field,u))}return t||null}function uM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lp(t,r,(i,u)=>function FR(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ep&&r instanceof Ep||t instanceof bp&&r instanceof bp?lp(t.elements,r.elements,Xu):t instanceof bm&&r instanceof bm?Xu(t.wt,r.wt):t instanceof Em&&r instanceof Em);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Im extends Bb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class md extends Bb{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cM(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,g=e.data.field(u.field);r.set(u.field,OR(c,g,t[i]))}return r}function dM(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,kR(u,c,e))}return r}class Cm extends Bb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ET extends Bb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&VR(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=b_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=b_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Jx();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(i.key)?null:g;const _=aM(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&lp(this.mutations,e.mutations,(t,r)=>uM(t,r))&&lp(this.baseMutations,e.baseMutations,(t,r)=>uM(t,r))}}class IT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=PR;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new IT(e,t,r,i)}}class CT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $R{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ri,Pn;function hM(n){switch(n){default:return mt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function fM(n){if(void 0===n)return Xr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Ri.OK:return pe.OK;case Ri.CANCELLED:return pe.CANCELLED;case Ri.UNKNOWN:return pe.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return pe.INTERNAL;case Ri.UNAVAILABLE:return pe.UNAVAILABLE;case Ri.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ri.NOT_FOUND:return pe.NOT_FOUND;case Ri.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ri.ABORTED:return pe.ABORTED;case Ri.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ri.DATA_LOSS:return pe.DATA_LOSS;default:return mt()}}(Pn=Ri||(Ri={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class DT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $b}static getOrCreateInstance(){return null===$b&&($b=new DT),$b}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let $b=null;function pM(){return new TextEncoder}const jR=new sd([4294967295,4294967295],0);function gM(n){const e=pM().encode(n),t=new Lx;return t.update(e),new Uint8Array(t.digest())}function mM(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sd([t,r],0),new sd([i,u],0)]}class TT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new I_(`Invalid padding: ${t}`);if(r<0)throw new I_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new I_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new I_(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=sd.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(sd.fromNumber(r)));return 1===i.compare(jR)&&(i=new sd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=gM(e),[r,i]=mM(t);for(let u=0;u<this.hashCount;u++){const c=this.Tt(r,i,u);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new TT(u,i,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.yt)return;const t=gM(e),[r,i]=mM(t);for(let u=0;u<this.hashCount;u++){const c=this.Tt(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class I_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class C_{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,D_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new C_(Rt.min(),i,new Yn(tn),no(),pn())}}class D_{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new D_(r,t,pn(),pn(),pn())}}class jb{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class yM{constructor(e,t){this.targetId=e,this.bt=t}}class vM{constructor(e,t,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _M{constructor(){this.Vt=0,this.St=EM(),this.Dt=vi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=pn(),t=pn(),r=pn();return this.St.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new D_(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=EM()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class HR{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=no(),this.jt=wM(),this.zt=new Yn(tn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,u=this.ne(r);if(u){const c=u.target;if(v_(c))if(0===i){const g=new nt(c.path);this.Jt(r,g,hr.newNoDocument(g,Rt.min()))}else xt(1===i);else{const g=this.se(r);if(g!==i){const _=this.ie(e,g);0!==_&&(this.te(r),this.zt=this.zt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=DT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(A,S,U){var W,ne,he,Oe,ze,dt;const Gt={localCacheCount:S,existenceFilterCount:U.count},Nt=U.unchangedNames;return Nt&&(Gt.bloomFilter={applied:0===A,hashCount:null!==(W=Nt?.hashCount)&&void 0!==W?W:0,bitmapLength:null!==(Oe=null===(he=null===(ne=Nt?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===he?void 0:he.length)&&void 0!==Oe?Oe:0,padding:null!==(dt=null===(ze=Nt?.bits)||void 0===ze?void 0:ze.padding)&&void 0!==dt?dt:0}),Gt}(_,g,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:g=0}=r;let _,A;try{_=Xl(u).toUint8Array()}catch(S){if(S instanceof pp)return pa("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{A=new TT(_,c,g)}catch(S){return pa(S instanceof I_?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===A.yt?1:i!==t-this.re(e.targetId,A)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Kt.oe(),g=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.At(g)||(this.Jt(e,u,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((u,c)=>{const g=this.ne(c);if(g){if(u.current&&v_(g.target)){const _=new nt(g.target.path);null!==this.Qt.get(_)||this.ce(c,_)||this.Jt(c,_,hr.newNoDocument(_,e))}u.kt&&(t.set(c,u.Ot()),u.$t())}});let r=pn();this.jt.forEach((u,c)=>{let g=!0;c.forEachWhile(_=>{const A=this.ne(_);return!A||"TargetPurposeLimboResolution"===A.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.Qt.forEach((u,c)=>c.setReadTime(e));const i=new C_(e,t,this.zt,this.Qt,r);return this.Qt=no(),this.jt=wM(),this.zt=new Yn(tn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new _M,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new lr(tn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new _M),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function wM(){return new Yn(nt.comparator)}function EM(){return new Yn(nt.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class WR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AT(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function Dm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(n,e){return Dm(n,e.toTimestamp())}function _i(n){return xt(!!n),Rt.fromTimestamp(function(e){const t=cd(e);return new Nr(t.seconds,t.nanos)}(n))}function ST(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function IM(n){const e=Tn.fromString(n);return xt(RM(e)),e}function T_(n,e){return ST(n.databaseId,e.path)}function ic(n,e){const t=IM(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(DM(t))}function xT(n,e){return ST(n.databaseId,e)}function CM(n){const e=IM(n);return 4===e.length?Tn.emptyPath():DM(e)}function A_(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DM(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function TM(n,e,t){return{name:T_(n,e),fields:t.value.mapValue.fields}}function AM(n,e,t){const r=ic(n,e.name),i=_i(e.updateTime),u=e.createTime?_i(e.createTime):Rt.min(),c=new Hi({mapValue:{fields:e.fields}}),g=hr.newFoundDocument(r,i,u,c);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function S_(n,e){let t;if(e instanceof Im)t={update:TM(n,e.key,e.value)};else if(e instanceof Cm)t={delete:T_(n,e.key)};else if(e instanceof md)t={update:TM(n,e.key,e.data),updateMask:nN(e.fieldMask)};else{if(!(e instanceof ET))return mt();t={verify:T_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Em)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ep)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bm)return{fieldPath:u.field.canonicalString(),increment:c.wt};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ZR(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:mt()),t;var i}function MT(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Wr.updateTime(_i(i.updateTime)):void 0!==i.exists?Wr.exists(i.exists):Wr.none():Wr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let g=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),g=new Em):"appendMissingElements"in c?g=new Ep(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new bp(c.removeAllFromArray.values||[]):"increment"in c?g=new bm(u,c.increment):mt();const _=ei.fromServerFormat(c.fieldPath);return new E_(_,g)}(n,i)):[];var i;if(e.update){const i=ic(n,e.update.name),u=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ji((e.updateMask.fieldPaths||[]).map(A=>ei.fromServerFormat(A)));return new md(i,u,c,t,r)}return new Im(i,u,t,r)}if(e.delete){const i=ic(n,e.delete);return new Cm(i,t)}if(e.verify){const i=ic(n,e.verify);return new ET(i,t)}return mt()}function SM(n,e){return{documents:[xT(n,e.path)]}}function PT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=xT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return PM(On.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(A=>{return{field:Vh((S=A).field),direction:XR(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=AT(n,e.limit);var g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function xM(n){let e=CM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const U=MM(S);return U instanceof On&&wp(U)?U.getFilters():[U]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new gd(Tm((U=S).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let g=null;t.limit&&(g=function(S){let U;return U="object"==typeof S?S.value:S,ud(U)?null:U}(t.limit));let _=null;var S;t.startAt&&(_=new nc((S=t.startAt).values||[],!!S.before));let A=null;return t.endAt&&(A=function(S){return new nc(S.values||[],!S.before)}(t.endAt)),h(e,i,c,u,g,"F",_,A)}function MM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Tm(e.unaryFilter.field);return wn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Tm(e.unaryFilter.field);return wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Tm(e.unaryFilter.field);return wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Tm(e.unaryFilter.field);return wn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?wn.create(Tm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return On.create(e.compositeFilter.filters.map(t=>MM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function XR(n){return zR[n]}function eN(n){return GR[n]}function tN(n){return qR[n]}function Vh(n){return{fieldPath:n.canonicalString()}}function Tm(n){return ei.fromServerFormat(n.fieldPath)}function PM(n){return n instanceof wn?function(e){if("=="===e.op){if(vm(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NAN"}};if(Rb(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vm(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NOT_NAN"}};if(Rb(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vh(e.field),op:eN(e.op),value:e.value}}}(n):n instanceof On?function(e){const t=e.getFilters().map(r=>PM(r));return 1===t.length?t[0]:{compositeFilter:{op:tN(e.op),filters:t}}}(n):mt()}function nN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class yd{constructor(e,t,r,i,u=Rt.min(),c=Rt.min(),g=vi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new yd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NM{constructor(e){this.le=e}}function kM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:T_(i=n.le,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Dm(i,u.version.toTimestamp()),createTime:Dm(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ip(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:Ip(e.version)}}var i,u;return r}function Hb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ip(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cp(n){const e=new Nr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Dp(n,e){const t=(e.baseMutations||[]).map(u=>MT(n.le,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>MT(n.le,u)),i=Nr.fromMillis(e.localWriteTimeMs);return new bT(e.batchId,i,t,r)}function x_(n){const e=Cp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cp(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=H(p(CM(i.documents[0])))):r=H(xM(n.query)),new yd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function OM(n,e){const t=Ip(e.snapshotVersion),r=Ip(e.lastLimboFreeSnapshotVersion);let i;i=v_(e.target)?SM(n.le,e.target):PT(n.le,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lh(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function RT(n){const e=xM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ie(e,e.limit,"L"):e}function NT(n,e){return new CT(e.largestBatchId,MT(n.le,e.overlayMutation))}function FM(n,e){const t=e.path.lastSegment();return[n,sr(e.path.popLast()),t]}function LM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ip(r.readTime),documentKey:sr(r.documentKey.path),largestBatchId:r.largestBatchId}}class iN{getBundleMetadata(e,t){return VM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Cp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return VM(e).put({bundleId:(r=t).id,createTime:Ip(_i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return UM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:RT(i.bundledQuery),readTime:Cp(i.readTime)};var i})}saveNamedQuery(e,t){return UM(e).put({name:(r=t).name,readTime:Ip(_i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function VM(n){return yi(n,"bundles")}function UM(n){return yi(n,"namedQueries")}class zb{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new zb(e,t.uid||"")}getOverlay(e,t){return M_(e).get(FM(this.userId,t)).next(r=>r?NT(this.serializer,r):null)}getOverlays(e,t){const r=rc();return ae.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const g=new CT(t,c);i.push(this.de(e,g))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(sr(c.getCollectionPath())));const u=[];return i.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(M_(e).J("collectionPathOverlayIndex",g))}),ae.waitFor(u)}getOverlaysForCollection(e,t,r){const i=rc(),u=sr(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return M_(e).j("collectionPathOverlayIndex",c).next(g=>{for(const _ of g){const A=NT(this.serializer,_);i.set(A.getKey(),A)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=rc();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return M_(e).X({index:"collectionGroupOverlayIndex",range:g},(_,A,S)=>{const U=NT(this.serializer,A);u.size()<i||U.largestBatchId===c?(u.set(U.getKey(),U),c=U.largestBatchId):S.done()}).next(()=>u)}de(e,t){return M_(e).put(function(r,i,u){const[c,g,_]=FM(i,u.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:S_(r.le,u.mutation)}}(this.serializer,this.userId,t))}}function M_(n){return yi(n,"documentOverlays")}class Tp{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ti(e.integerValue));else if("doubleValue"in e){const r=ti(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),hp(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Xl(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?cT(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):mt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),nt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function sN(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function BM(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=sN(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Tp.be=new Tp;class oN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=BM(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=BM(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aN{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class uN{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class P_{constructor(){this.Qe=new oN,this.je=new aN(this.Qe),this.ze=new uN(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Ap{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ap(this.indexId,this.documentKey,this.arrayValue,r)}}function Uh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$M(n.arrayValue,e.arrayValue),0!==t?t:(t=$M(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function $M(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class lN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){xt(e.collectionGroup===this.collectionId);const t=fm(e);if(void 0!==t&&!this.tn(t))return!1;const r=tu(e);let i=0,u=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[u++],c))return!1;++i}for(;i<r.length;++i)if(u>=this.Je.length||!this.nn(this.Je[u++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jM(n){var e,t;if(xt(n instanceof wn||n instanceof On),n instanceof wn){if(n instanceof vT){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>wn.create(n.field,"==",u)))||[];return On.create(i,"or")}return n}const r=n.filters.map(i=>jM(i));return On.create(r,n.op)}function cN(n){if(0===n.getFilters().length)return[];const e=FT(jM(n));return xt(HM(e)),kT(e)||OT(e)?[e]:e.getFilters()}function kT(n){return n instanceof wn}function OT(n){return n instanceof On&&wp(n)}function HM(n){return kT(n)||OT(n)||function(e){if(e instanceof On&&_m(e)){for(const t of e.getFilters())if(!kT(t)&&!OT(t))return!1;return!0}return!1}(n)}function FT(n){if(xt(n instanceof wn||n instanceof On),n instanceof wn)return n;if(1===n.filters.length)return FT(n.filters[0]);const e=n.filters.map(r=>FT(r));let t=On.create(e,n.op);return t=Gb(t),HM(t)?t:(xt(t instanceof On),xt(_p(t)),xt(t.filters.length>1),t.filters.reduce((r,i)=>LT(r,i)))}function LT(n,e){let t;return xt(n instanceof wn||n instanceof On),xt(e instanceof wn||e instanceof On),t=n instanceof wn?e instanceof wn?On.create([n,e],"and"):zM(n,e):e instanceof wn?zM(e,n):function(r,i){if(xt(r.filters.length>0&&i.filters.length>0),_p(r)&&_p(i))return pT(r,i.getFilters());const u=_m(r)?r:i,c=_m(r)?i:r,g=u.filters.map(_=>LT(_,c));return On.create(g,"or")}(n,e),Gb(t)}function zM(n,e){if(_p(e))return pT(e,n.getFilters());{const t=e.filters.map(r=>LT(n,r));return On.create(t,"or")}}function Gb(n){if(xt(n instanceof wn||n instanceof On),n instanceof wn)return n;const e=n.getFilters();if(1===e.length)return Gb(e[0]);if(Ob(n))return n;const t=e.map(i=>Gb(i)),r=[];return t.forEach(i=>{i instanceof wn?r.push(i):i instanceof On&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:On.create(r,n.op)}class dN{constructor(){this.sn=new VT}addToCollectionParentIndex(e,t){return this.sn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ko.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class VT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lr(Tn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(Tn.comparator)).toArray()}}const qb=new Uint8Array(0);class hN{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new VT,this.on=new Mn(r=>Lh(r),(r,i)=>wm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const u={collectionId:r,parent:sr(i)};return GM(e).put(u)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[JD(t),""],!1,!0);return GM(e).j(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ru(c.parent))}return r})}addFieldIndex(e,t){const r=Wb(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=N_(e);return u.next(g=>{c.put(LM(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Wb(e),i=N_(e),u=R_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=R_(e);let i=!0;const u=new Map;return ae.forEach(this.un(t),c=>this.cn(e,c).next(g=>{i&&(i=!!g),u.set(c,g)})).next(()=>{if(i){let c=pn();const g=[];return ae.forEach(u,(_,A)=>{var S;$e("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Lh(t)}`);const U=function(Nt,fn){const yn=fm(fn);if(void 0===yn)return null;for(const Rn of s(Nt,yn.fieldPath))switch(Rn.op){case"array-contains-any":return Rn.value.arrayValue.values||[];case"array-contains":return[Rn.value]}return null}(A,_),W=function(Nt,fn){const yn=new Map;for(const Rn of tu(fn))for(const so of s(Nt,Rn.fieldPath))switch(so.op){case"==":case"in":yn.set(Rn.fieldPath.canonicalString(),so.value);break;case"not-in":case"!=":return yn.set(Rn.fieldPath.canonicalString(),so.value),Array.from(yn.values())}return null}(A,_),ne=function(Nt,fn){const yn=[];let Rn=!0;for(const so of tu(fn)){const Yh=0===so.kind?o(Nt,so.fieldPath,Nt.startAt):a(Nt,so.fieldPath,Nt.startAt);yn.push(Yh.value),Rn&&(Rn=Yh.inclusive)}return new nc(yn,Rn)}(A,_),he=function(Nt,fn){const yn=[];let Rn=!0;for(const so of tu(fn)){const Yh=0===so.kind?a(Nt,so.fieldPath,Nt.endAt):o(Nt,so.fieldPath,Nt.endAt);yn.push(Yh.value),Rn&&(Rn=Yh.inclusive)}return new nc(yn,Rn)}(A,_),Oe=this.an(_,A,ne),ze=this.an(_,A,he),dt=this.hn(_,A,W),Gt=this.ln(_.indexId,U,Oe,ne.inclusive,ze,he.inclusive,dt);return ae.forEach(Gt,Nt=>r.H(Nt,t.limit).next(fn=>{fn.forEach(yn=>{const Rn=nt.fromSegments(yn.documentKey);c.has(Rn)||(c=c.add(Rn),g.push(Rn))})}))}).next(()=>g)}return ae.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:cN(On.create(e.filters,"and")).map(r=>Lb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,u,c,g){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),A=_/(null!=t?t.length:1),S=[];for(let U=0;U<_;++U){const W=t?this.fn(t[U/A]):qb,ne=this.dn(e,W,r[U%A],i),he=this._n(e,W,u[U%A],c),Oe=g.map(ze=>this.dn(e,W,ze,!0));S.push(...this.createRange(ne,he,Oe))}return S}dn(e,t,r,i){const u=new Ap(e,nt.empty(),t,r);return i?u:u.He()}_n(e,t,r,i){const u=new Ap(e,nt.empty(),t,r);return i?u.He():u}cn(e,t){const r=new lN(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const g of u)r.Ze(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return ae.forEach(i,u=>this.cn(e,u).next(c=>{c?0!==r&&c.fields.length<function(g){let _=new lr(ei.comparator),A=!1;for(const S of g.filters)for(const U of S.getFlattenedFilters())U.field.isKeyField()||("array-contains"===U.op||"array-contains-any"===U.op?A=!0:_=_.add(U.field));for(const S of g.orderBy)S.field.isKeyField()||(_=_.add(S.field));return _.size+(A?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new P_;for(const i of tu(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.We(i.kind);Tp.be._e(u,c)}return r.Ge()}fn(e){const t=new P_;return Tp.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new P_;return Tp.be._e(ec(this.databaseId,t),r.We(function(i){const u=tu(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new P_);let u=0;for(const c of tu(e)){const g=r[u++];for(const _ of i)if(this.gn(t,c.fieldPath)&&pd(g))i=this.yn(i,c,g);else{const A=_.We(c.kind);Tp.be._e(g,A)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const g of i){const _=new P_;_.seed(g.Ge()),Tp.be._e(c,_.We(t.kind)),u.push(_)}return u}gn(e,t){return!!e.filters.find(r=>r instanceof wn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Wb(e),i=N_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const c=[];return ae.forEach(u,g=>i.get([g.indexId,this.uid]).next(_=>{c.push(function(A,S){const U=S?new od(S.sequenceNumber,new ko(Cp(S.readTime),new nt(ru(S.documentKey)),S.largestBatchId)):od.empty(),W=A.fields.map(([ne,he])=>new cp(ei.fromServerFormat(ne),he));return new i_(A.indexId,A.collectionGroup,W,U)}(g,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:tn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Wb(e),u=N_(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ae.forEach(g,_=>u.put(LM(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),ae.forEach(g,_=>this.Tn(e,i,_).next(A=>{const S=this.En(u,_);return A.isEqual(S)?ae.resolve():this.An(e,u,_,A,S)}))))})}Rn(e,t,r,i){return R_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return R_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=R_(e);let u=new lr(Uh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,g)=>{u=u.add(new Ap(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}En(e,t){let r=new lr(Uh);const i=this.wn(t,e);if(null==i)return r;const u=fm(t);if(null!=u){const c=e.data.field(u.fieldPath);if(pd(c))for(const g of c.arrayValue.values||[])r=r.add(new Ap(t.indexId,e.key,this.fn(g),i))}else r=r.add(new Ap(t.indexId,e.key,qb,i));return r}An(e,t,r,i,u){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,_,A,S,U){const W=g.getIterator(),ne=_.getIterator();let he=ld(W),Oe=ld(ne);for(;he||Oe;){let ze=!1,dt=!1;if(he&&Oe){const Gt=A(he,Oe);Gt<0?dt=!0:Gt>0&&(ze=!0)}else null!=he?dt=!0:ze=!0;ze?(S(Oe),Oe=ld(ne)):dt?(U(he),he=ld(W)):(he=ld(W),Oe=ld(ne))}}(i,u,Uh,g=>{c.push(this.Rn(e,t,r,g))},g=>{c.push(this.vn(e,t,r,g))}),ae.waitFor(c)}In(e){let t=1;return N_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>Uh(c,g)).filter((c,g,_)=>!g||0!==Uh(c,_[g-1]));const i=[];i.push(e);for(const c of r){const g=Uh(c,e),_=Uh(c,t);if(0===g)i[0]=e.He();else if(g>0&&_<0)i.push(c),i.push(c.He());else if(_>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,qb,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,qb,[]]))}return u}Pn(e,t){return Uh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qM)}getMinOffset(e,t){return ae.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||mt())).next(qM)}}function GM(n){return yi(n,"collectionParents")}function R_(n){return yi(n,"indexEntries")}function Wb(n){return yi(n,"indexConfiguration")}function N_(n){return yi(n,"indexState")}function qM(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const WM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let g=0;const _=r.X({range:c},(S,U,W)=>(g++,W.delete()));u.push(_.next(()=>{xt(1===g)}));const A=[];for(const S of t.mutations){const U=l_(e,S.key.path,t.batchId);u.push(i.delete(U)),A.push(S.key)}return ae.waitFor(u).next(()=>A)}function Zb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class Kb{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){xt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kb(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).X({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Am(e),c=Bh(e);return c.add({}).next(g=>{xt("number"==typeof g);const _=new bT(g,t,r,i),A=function(W,ne,he){const Oe=he.baseMutations.map(dt=>S_(W.le,dt)),ze=he.mutations.map(dt=>S_(W.le,dt));return{userId:ne,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:Oe,mutations:ze}}(this.serializer,this.userId,_),S=[];let U=new lr((W,ne)=>tn(W.canonicalString(),ne.canonicalString()));for(const W of i){const ne=l_(this.userId,W.key.path,g);U=U.add(W.key.path.popLast()),S.push(c.put(A)),S.push(u.put(ne,vb))}return U.forEach(W=>{S.push(this.indexManager.addToCollectionParentIndex(e,W))}),e.addOnCommittedListener(()=>{this.bn[g]=_.keys()}),ae.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Bh(e).get(t).next(r=>r?(xt(r.userId===this.userId),Dp(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?ae.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Bh(e).X({index:"userMutationsIndex",range:i},(c,g,_)=>{g.userId===this.userId&&(xt(g.batchId>=r),u=Dp(this.serializer,g)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).j("userMutationsIndex",t).next(r=>r.map(i=>Dp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Am(e).X({range:i},(c,g,_)=>{const[A,S,U]=c,W=ru(S);if(A===this.userId&&t.path.isEqual(W))return Bh(e).get(U).next(ne=>{if(!ne)throw mt();xt(ne.userId===this.userId),u.push(Dp(this.serializer,ne))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(tn);const i=[];return t.forEach(u=>{const c=kh(this.userId,u.path),g=IDBKeyRange.lowerBound(c),_=Am(e).X({range:g},(A,S,U)=>{const[W,ne,he]=A,Oe=ru(ne);W===this.userId&&u.path.isEqual(Oe)?r=r.add(he):U.done()});i.push(_)}),ae.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=kh(this.userId,r),c=IDBKeyRange.lowerBound(u);let g=new lr(tn);return Am(e).X({range:c},(_,A,S)=>{const[U,W,ne]=_,he=ru(W);U===this.userId&&r.isPrefixOf(he)?he.length===i&&(g=g.add(ne)):S.done()}).next(()=>this.Sn(e,g))}Sn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Bh(e).get(u).next(c=>{if(null===c)throw mt();xt(c.userId===this.userId),r.push(Dp(this.serializer,c))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ZM(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Am(e).X({range:r},(u,c,g)=>{if(u[0]===this.userId){const _=ru(u[1]);i.push(_)}else g.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return KM(e,this.userId,t)}Cn(e){return YM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KM(n,e,t){const r=kh(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Am(n).X({range:u,Y:!0},(g,_,A)=>{const[S,U,W]=g;S===e&&U===i&&(c=!0),A.done()}).next(()=>c)}function Bh(n){return yi(n,"mutations")}function Am(n){return yi(n,"documentMutations")}function YM(n){return yi(n,"mutationQueues")}class Sp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Sp(0)}static kn(){return new Sp(-1)}}class fN{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Sp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Rt.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sm(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Sm(e).X((c,g)=>{const _=x_(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,u.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Sm(e).X((r,i)=>{const u=x_(i);t(u)})}Mn(e){return QM(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}On(e,t){return QM(e).put("targetGlobalKey",t)}$n(e,t){return Sm(e).put(OM(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Sm(e).X({range:i,index:"queryTargetsIndex"},(c,g,_)=>{const A=x_(g);wm(t,A.target)&&(u=A,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=$h(e);return t.forEach(c=>{const g=sr(c.path);i.push(u.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,c))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=$h(e);return ae.forEach(t,u=>{const c=sr(u.path);return ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=$h(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$h(e);let u=pn();return i.X({range:r,Y:!0},(c,g,_)=>{const A=ru(c[1]),S=new nt(A);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=sr(t.path),i=IDBKeyRange.bound([r],[JD(r)],!1,!0);let u=0;return $h(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,g],_,A)=>{0!==c&&(u++,A.done())}).next(()=>u>0)}he(e,t){return Sm(e).get(t).next(r=>r?x_(r):null)}}function Sm(n){return yi(n,"targets")}function QM(n){return yi(n,"targetGlobal")}function $h(n){return yi(n,"targetDocuments")}function JM([n,e],[t,r]){const i=tn(n,t);return 0===i?tn(e,r):i}class pN{constructor(e){this.Bn=e,this.buffer=new lr(JM),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();JM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ql(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ga(r)}yield t.Gn(3e5)}))}}class gN{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(to.ct);const r=new pN(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(WM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WM):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,u,c,g,_,A;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),i=this.params.maximumSequenceNumbersToCollect):i=U,c=Date.now(),this.nthSequenceNumber(e,i))).next(U=>(r=U,g=Date.now(),this.removeTargets(e,r,t))).next(U=>(u=U,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(A=Date.now(),dm()<=$u.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(g-c)+`ms\n\tRemoved ${u} targets in `+(_-g)+`ms\n\tRemoved ${U} documents in `+(A-_)+`ms\nTotal Duration: ${A-S}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:U})))}}class mN{constructor(e,t){this.db=e,this.garbageCollector=function e1(n,e){return new gN(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return Yb(e,r)}removeReference(e,t,r){return Yb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yb(e,t)}Yn(e,t){return function(r,i){let u=!1;return YM(r).Z(c=>KM(r,c,i).next(g=>(g&&(u=!0),ae.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Jn(e,(c,g)=>{if(g<=t){const _=this.Yn(e,c).next(A=>{if(!A)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Rt.min()),$h(e).delete([0,sr(c.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yb(e,t)}Jn(e,t){const r=$h(e);let i,u=to.ct;return r.X({index:"documentTargetsIndex"},([c,g],{path:_,sequenceNumber:A})=>{0===c?(u!==to.ct&&t(new nt(ru(i)),u),u=A,i=_):u=to.ct}).next(()=>{u!==to.ct&&t(new nt(ru(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yb(n,e){return $h(n).put((r=n.currentSequenceNumber,{targetId:0,path:sr(e.path),sequenceNumber:r}));var r}class t1{constructor(){this.changes=new Mn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yN{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xp(e).put(r)}removeEntry(e,t,r){return xp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Hb(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=hr.newInvalidDocument(t);return xp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(k_(t))},(i,u)=>{r=this.Zn(t,u)}).next(()=>r)}ts(e,t){let r={size:0,document:hr.newInvalidDocument(t)};return xp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(k_(t))},(i,u)=>{r={document:this.Zn(t,u),size:Zb(u)}}).next(()=>r)}getEntries(e,t){let r=no();return this.es(e,t,(i,u)=>{const c=this.Zn(i,u);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=no(),i=new Yn(nt.comparator);return this.es(e,t,(u,c)=>{const g=this.Zn(u,c);r=r.insert(u,g),i=i.insert(u,Zb(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return ae.resolve();let i=new lr(s1);t.forEach(_=>i=i.add(_));const u=IDBKeyRange.bound(k_(i.first()),k_(i.last())),c=i.getIterator();let g=c.getNext();return xp(e).X({index:"documentKeyIndex",range:u},(_,A,S)=>{const U=nt.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;g&&s1(g,U)<0;)r(g,null),g=c.getNext();g&&g.isEqual(U)&&(r(g,A),g=c.hasNext()?c.getNext():null),g?S.G(k_(g)):S.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),Hb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xp(e).j(IDBKeyRange.bound(c,g,!0)).next(_=>{let A=no();for(const S of _){const U=this.Zn(nt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);U.isFoundDocument()&&(yt(t,U)||i.has(U.key))&&(A=A.insert(U.key,U))}return A})}getAllFromCollectionGroup(e,t,r,i){let u=no();const c=i1(t,r),g=i1(t,ko.max());return xp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(_,A,S)=>{const U=this.Zn(nt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);u=u.insert(U.key,U),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new vN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return r1(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Xn(e,t){return r1(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function rN(n,e){let t;if(e.document)t=AM(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),i=Cp(e.noDocument.readTime);t=hr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=nt.fromSegments(e.unknownDocument.path),i=Cp(e.unknownDocument.version);t=hr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Nr(r[0],r[1]);return Rt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return hr.newInvalidDocument(e)}}function n1(n){return new yN(n)}class vN extends t1{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Mn(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lr((u,c)=>tn(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const g=this.os.get(u);if(t.push(this.rs.removeEntry(e,u,g.readTime)),c.isValidDocument()){const _=kM(this.rs.serializer,c);i=i.add(u.path.popLast());const A=Zb(_);r+=A-g.size,t.push(this.rs.addEntry(e,u,_))}else if(r-=g.size,this.trackRemovals){const _=kM(this.rs.serializer,c.convertToNoDocument(Rt.min()));t.push(this.rs.addEntry(e,u,_))}}),i.forEach(u=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.rs.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((u,c)=>{this.os.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function r1(n){return yi(n,"remoteDocumentGlobal")}function xp(n){return yi(n,"remoteDocumentsV14")}function k_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function i1(n,e){const t=e.documentKey.path.toArray();return[n,Hb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function s1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=tn(t[u],r[u]),i)return i;return i=tn(t.length,r.length),i||(i=tn(t[t.length-2],r[r.length-2]),i||tn(t[t.length-1],r[r.length-1]))}class _N{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class o1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&b_(r.mutation,i,ji.empty(),Nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=rc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=__();return u.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=rc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let u=no();const c=w_(),g=w_();return t.forEach((_,A)=>{const S=r.get(A.key);i.has(A.key)&&(void 0===S||S.mutation instanceof md)?u=u.insert(A.key,A):void 0!==S?(c.set(A.key,S.mutation.getFieldMask()),b_(S.mutation,A,S.mutation.getFieldMask(),Nr.now())):c.set(A.key,ji.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((A,S)=>c.set(A,S)),t.forEach((A,S)=>{var U;return g.set(A,new _N(S,null!==(U=c.get(A))&&void 0!==U?U:null))}),g))}recalculateAndSaveOverlays(e,t){const r=w_();let i=new Yn((c,g)=>c-g),u=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const A=t.get(_);if(null===A)return;let S=r.get(_)||ji.empty();S=g.applyToLocalView(A,S),r.set(_,S);const U=(i.get(g.batchId)||pn()).add(_);i=i.insert(g.batchId,U)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),A=_.key,S=_.value,U=Jx();S.forEach(W=>{if(!u.has(W)){const ne=aM(t.get(W),r.get(W));null!==ne&&U.set(W,ne),u=u.add(W)}}),c.push(this.documentOverlayCache.saveOverlays(e,A,U))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):x(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ae.resolve(rc());let g=-1,_=u;return c.next(A=>ae.forEach(A,(S,U)=>(g<U.largestBatchId&&(g=U.largestBatchId),u.get(S)?ae.resolve():this.remoteDocumentCache.getEntry(e,S).next(W=>{_=_.insert(S,W)}))).next(()=>this.populateOverlays(e,A,u)).next(()=>this.computeViews(e,_,A,pn())).next(S=>({batchId:g,changes:Qx(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let i=__();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=__();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,g=>{const _=(A=t,S=g.child(i),new l(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(A=>{A.forEach((S,U)=>{u=u.insert(S,U)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((g,_)=>{const A=_.getKey();null===u.get(A)&&(u=u.insert(A,hr.newInvalidDocument(A)))});let c=__();return u.forEach((g,_)=>{const A=i.get(g);void 0!==A&&b_(A.mutation,_,ji.empty(),Nr.now()),yt(t,_)&&(c=c.insert(g,_))}),c})}}class wN{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ae.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:_i(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:RT(r.bundledQuery),readTime:_i(r.readTime)}),ae.resolve();var r}}class EN{constructor(){this.overlays=new Yn(nt.comparator),this.hs=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=rc();return ae.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.de(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.hs.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=rc(),u=t.length+1,c=new nt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,A=_.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Yn((A,S)=>A-S);const c=this.overlays.getIterator();for(;c.hasNext();){const A=c.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let S=u.get(A.largestBatchId);null===S&&(S=rc(),u=u.insert(A.largestBatchId,S)),S.set(A.getKey(),A)}}const g=rc(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((A,S)=>g.set(A,S)),!(g.size()>=i)););return ae.resolve(g)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new CT(t,r));let u=this.hs.get(t);void 0===u&&(u=pn(),this.hs.set(t,u)),this.hs.set(t,u.add(r.key))}}class UT{constructor(){this.ls=new lr(ns.fs),this.ds=new lr(ns._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new ns(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new ns(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new nt(new Tn([])),r=new ns(t,e),i=new ns(t,e+1),u=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),u.push(c.key)}),u}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new nt(new Tn([])),r=new ns(t,e),i=new ns(t,e+1);let u=pn();return this.ds.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new ns(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ns{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return nt.comparator(e.key,t.key)||tn(e.Es,t.Es)}static _s(e,t){return tn(e.Es,t.Es)||nt.comparator(e.key,t.key)}}class bN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new lr(ns.fs)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.As;this.As++;const c=new bT(u,t,r,i);this.mutationQueue.push(c);for(const g of i)this.Rs=this.Rs.add(new ns(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),u=i<0?0:i;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ns(t,0),i=new ns(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const g=this.vs(c.Es);u.push(g)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(tn);return t.forEach(i=>{const u=new ns(i,0),c=new ns(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],g=>{r=r.add(g.Es)})}),ae.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;nt.isDocumentKey(u)||(u=u.child(""));const c=new ns(new nt(u),0);let g=new lr(tn);return this.Rs.forEachWhile(_=>{const A=_.key.path;return!!r.isPrefixOf(A)&&(A.length===i&&(g=g.add(_.Es)),!0)},c),ae.resolve(this.bs(g))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const u=new ns(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new ns(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IN{constructor(e){this.Ss=e,this.docs=new Yn(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=no();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():hr.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=no();const c=t.path,g=new nt(c.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:A,value:{document:S}}=_.getNext();if(!c.isPrefixOf(A.path))break;A.path.length>c.length+1||pb(fb(S),r)<=0||(i.has(S.key)||yt(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,t,r,i){mt()}Ds(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CN(this)}getSize(e){return ae.resolve(this.size)}}class CN extends t1{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class DN{constructor(e){this.persistence=e,this.Cs=new Mn(t=>Lh(t),wm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new UT,this.targetCount=0,this.ks=Sp.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),ae.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Sp(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.$n(t),ae.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Cs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Cs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),ae.waitFor(u).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ns.containsKey(t))}}class BT{constructor(e,t){this.Ms={},this.overlays={},this.Os=new to(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new DN(this),this.indexManager=new dN,this.remoteDocumentCache=new IN(r=>this.referenceDelegate.Bs(r)),this.serializer=new NM(t),this.Ls=new wN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new bN(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new TN(this.Os.next());return this.referenceDelegate.qs(),r(i).next(u=>this.referenceDelegate.Us(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ks(e,t){return ae.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class TN extends mb{constructor(e){super(),this.currentSequenceNumber=e}}class Qb{constructor(e){this.persistence=e,this.Gs=new UT,this.Qs=null}static js(e){return new Qb(e)}get zs(){if(this.Qs)return this.Qs;throw mt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.zs,r=>{const i=nt.fromPath(r);return this.Ws(e,i).next(u=>{u||t.removeEntry(i,Rt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ae.or([()=>ae.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class AN{constructor(e){this.serializer=e}$(e,t,r,i){const u=new a_("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yb,{unique:!0}),g.createObjectStore("documentMutations"),a1(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),a1(e)),c=c.next(()=>function(g){const _=g.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",A)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(g,_){return _.store("mutations").j().next(A=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yb,{unique:!0});const S=_.store("mutations"),U=A.map(W=>S.put(W));return ae.waitFor(U)})}(e,u))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(u))),r<6&&i>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(u)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(u))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(u))),r<11&&i>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:Ib});_.createIndex("collectionPathOverlayIndex",sT,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Hx,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:nT});_.createIndex("documentKeyIndex",_b),_.createIndex("collectionGroupIndex",wb)}(e)).next(()=>this.ei(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,u))),r<15&&i>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Qu}).createIndex("sequenceNumberIndex",Jl,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:bb}).createIndex("documentKeyIndex",d_,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Zb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ae.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(g=>ae.forEach(g,_=>{xt(_.userId===u.userId);const A=Dp(this.serializer,_);return ZM(e,u.userId,A).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.X((c,g)=>{const _=new Tn(c),A=[0,sr(_)];u.push(t.get(A).next(S=>S?ae.resolve():t.put({targetId:0,path:sr(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(u))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:c_});const r=t.store("collectionParents"),i=new VT,u=c=>{if(i.add(c)){const g=c.lastSegment(),_=c.popLast();return r.put({collectionId:g,parent:sr(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,g)=>{const _=new Tn(c);return u(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,g,_],A)=>{const S=ru(g);return u(S.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const u=x_(i),c=OM(this.serializer,u);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((u,c)=>{const g=t.store("remoteDocumentsV14"),_=(A=c,A.document?new nt(Tn.fromString(A.document.name).popFirst(5)):A.noDocument?nt.fromSegments(A.noDocument.path):A.unknownDocument?nt.fromSegments(A.unknownDocument.path):mt()).path.toArray();var A;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(g.put(S))}).next(()=>ae.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=n1(this.serializer),u=new BT(Qb.js,this.serializer.le);return r.j().next(c=>{const g=new Map;return c.forEach(_=>{var A;let S=null!==(A=g.get(_.userId))&&void 0!==A?A:pn();Dp(this.serializer,_).keys().forEach(U=>S=S.add(U)),g.set(_.userId,S)}),ae.forEach(g,(_,A)=>{const S=new mi(A),U=zb.fe(this.serializer,S),W=u.getIndexManager(S),ne=Kb.fe(S,this.serializer,W,u.referenceDelegate);return new o1(i,ne,U,W).recalculateAndSaveOverlaysForDocumentKeys(new Sb(t,to.ct),_).next()})})}}function a1(n){n.createObjectStore("targetDocuments",{keyPath:Eb}).createIndex("documentTargetsIndex",iT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rT,{unique:!0}),n.createObjectStore("targetGlobal")}const $T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jT{constructor(e,t,r,i,u,c,g,_,A,S,U=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=u,this.window=c,this.document=g,this.ii=A,this.ri=S,this.oi=U,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=W=>Promise.resolve(),!jT.D())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mN(this,i),this.fi=t+"main",this.serializer=new NM(_),this.di=new nu(this.fi,this.oi,new AN(this.serializer)),this.Fs=new fN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=n1(this.serializer),this.Ls=new iN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,$T);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new to(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,Ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Ql(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return O_(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}vi(e){return Xb(e).delete(this.clientId)}Pi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yi(r,"clientMetadata");return i.j().next(u=>{const c=e.Vi(u,18e5),g=u.filter(_=>-1===c.indexOf(_));return ae.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ae.resolve(!0):O_(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,$T);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xb(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Sb(t,to.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>Xb(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Kb.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hN(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return zb.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.oi)?Ab:14===c?Tb:13===c?Db:12===c?oT:11===c?Cb:void mt();var c;let g;return this.di.runTransaction(e,i,u,_=>(g=new Sb(_,this.Os?this.Os.next():to.ct),"readwrite-primary"===t?this.Ii(g).next(A=>!!A||this.Ti(g)).next(A=>{if(!A)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Fe(pe.FAILED_PRECONDITION,gb);return r(g)}).next(A=>this.Ai(g).next(()=>A)):this.Oi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Oi(e){return O_(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,$T)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return O_(e).put("owner",t)}static D(){return nu.D()}Ei(e){const t=O_(e);return t.get("owner").next(r=>this.Ri(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,In.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function O_(n){return yi(n,"owner")}function Xb(n){return yi(n,"clientMetadata")}function HT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=pn(),i=pn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new zT(e,t.fromCache,r,i)}}class u1{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(u=>u||this.Ki(e,t,i,r)).next(u=>u||this.Gi(e,t))}Ui(e,t){if(y(t))return ae.resolve(null);let r=H(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ie(t,null,"F"),r=H(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=pn(...u);return this.qi.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const A=this.Qi(t,g);return this.ji(t,A,c,_.readTime)?this.Ui(e,ie(t,null,"F")):this.zi(e,A,t,_)}))})))}Ki(e,t,r,i){return y(t)||i.isEqual(Rt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(u=>{const c=this.Qi(t,u);return this.ji(t,c,r,i)?this.Gi(e,t):(dm()<=$u.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ot(t)),this.zi(e,c,t,s_(i,-1)))})}Qi(e,t){let r=new lr(Ve(e));return t.forEach((i,u)=>{yt(e,u)&&(r=r.add(u))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Gi(e,t){return dm()<=$u.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",ot(t)),this.qi.getDocumentsMatchingQuery(e,t,ko.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class SN{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new Yn(tn),this.Ji=new Mn(u=>Lh(u),wm),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o1(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function l1(n,e,t,r){return new SN(n,e,t,r)}function c1(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,Ae.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let _=pn();for(const A of i){c.push(A.batchId);for(const S of A.mutations)_=_.add(S.key)}for(const A of u){g.push(A.batchId);for(const S of A.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(A=>({tr:A,removedBatchIds:c,addedBatchIds:g}))})})}),GT.apply(this,arguments)}function d1(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function h1(n,e,t){let r=pn(),i=pn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=no();return t.forEach((g,_)=>{const A=u.get(g);_.isFoundDocument()!==A.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Rt.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!A.isValidDocument()||_.version.compareTo(A.version)>0||0===_.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):$e("LocalStore","Ignoring outdated watch update for ",g,". Current version:",A.version," Watch version:",_.version)}),{er:c,nr:i}})}function PN(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xm(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(u=>u?(i=u,ae.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new yd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Mm(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,Ae.Z)(function*(n,e,t){const r=at(n),i=r.Hi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ql(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),qT.apply(this,arguments)}function eI(n,e,t){const r=at(n);let i=Rt.min(),u=pn();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,A){const S=at(g),U=S.Ji.get(A);return void 0!==U?ae.resolve(S.Hi.get(U)):S.Fs.getTargetData(_,A)}(r,c,H(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{u=_})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:Rt.min(),t?u:pn())).next(g=>(g1(r,zt(e),g),{documents:g,sr:u})))}function f1(n,e){const t=at(n),r=at(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.he(u,e).next(c=>c?c.target:null))}function p1(n,e){const t=at(n),r=t.Yi.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,s_(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(g1(t,e,i),i))}function g1(n,e,t){let r=n.Yi.get(e)||Rt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Yi.set(e,r)}function WT(){return WT=(0,Ae.Z)(function*(n,e,t,r){const i=at(n);let u=pn(),c=no();for(const A of t){const S=e.ir(A.metadata.name);A.document&&(u=u.add(S));const U=e.rr(A);U.setReadTime(e.ur(A.metadata.readTime)),c=c.insert(S,U)}const g=i.Xi.newChangeBuffer({trackRemovals:!0}),_=yield xm(i,(A=r,H(p(Tn.fromString(`__bundle__/docs/${A}`)))));var A;return i.persistence.runTransaction("Apply bundle documents","readwrite",A=>h1(A,g,c).next(S=>(g.apply(A),S)).next(S=>i.Fs.removeMatchingKeysForTargetId(A,_.targetId).next(()=>i.Fs.addMatchingKeys(A,u,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(A,S.er,S.nr)).next(()=>S.er)))}),WT.apply(this,arguments)}function NN(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ae.Z)(function*(n,e,t=pn()){const r=yield xm(n,H(RT(e.bundledQuery))),i=at(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=_i(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(u,e);const g=r.withResumeToken(vi.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(g.targetId,g),i.Fs.updateTargetData(u,g).next(()=>i.Fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Fs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(u,e))})}),ZT.apply(this,arguments)}function m1(n,e){return`firestore_clients_${n}_${e}`}function y1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function KT(n,e){return`firestore_targets_${n}_${e}`}class tI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Fe(i.error.code,i.error.message))),c?new tI(e,t,i.state,u):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class F_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Fe(r.error.code,r.error.message))),u?new F_(e,r.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=wT();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=eT(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new nI(e,u):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class YT{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new YT(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class QT{constructor(){this.activeTargetIds=wT()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JT{constructor(e,t,r,i,u){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Yn(tn),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.yr=m1(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new QT),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const u=e.getItem(m1(e.persistenceKey,i));if(u){const c=nI.cr(i,u);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(KT(this.persistenceKey,e));if(r){const i=F_.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(KT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(u){let c=to.ct;if(null!=u)try{const g=JSON.parse(u);xt("number"==typeof g),c=g}catch(g){Xr("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);i!==to.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Gr(u)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new tI(this.currentUser,e,t,r),u=y1(this.persistenceKey,this.currentUser,e);this.setItem(u,i.ar())}Dr(e){const t=y1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=KT(this.persistenceKey,e),u=new F_(e,t,r);this.setItem(i,u.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return nI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return tI.cr(new mi(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return F_.cr(i,t)}Pr(e){return YT.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),u=this.Vr(r),c=[],g=[];return u.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{u.has(_)||g.push(_)}),this.syncEngine.zr(c,g).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=wT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class v1{constructor(){this.Wr=new QT,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new QT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kN{Jr(e){}shutdown(){}}class _1{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rI=null;function XT(){return null===rI?rI=268435456+Math.round(2147483648*Math.random()):rI++,"0x"+rI.toString(16)}const ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FN{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Os="WebChannelConnection";class LN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,u){const c=XT(),g=this.Io(e,t);$e("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const _={};return this.To(_,i,u),this.Eo(e,g,_,r).then(A=>($e("RestConnection",`Received RPC '${e}' ${c}: `,A),A),A=>{throw pa("RestConnection",`RPC '${e}' ${c} failed with error: `,A,"url: ",g,"request:",r),A})}Ao(e,t,r,i,u,c){return this.po(e,t,r,i,u)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}Io(e,t){return`${this.wo}/v1/${t}:${ON[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const u=XT();return new Promise((c,g)=>{const _=new e_;_.setWithCredentials(!0),_.listenOnce(WD.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Qv.NO_ERROR:const S=_.getResponseJson();$e(Os,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),c(S);break;case Qv.TIMEOUT:$e(Os,`RPC '${e}' ${u} timed out`),g(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Qv.HTTP_ERROR:const U=_.getStatus();if($e(Os,`RPC '${e}' ${u} failed with status:`,U,"response text:",_.getResponseText()),U>0){let W=_.getResponseJson();Array.isArray(W)&&(W=W[0]);const ne=W?.error;if(ne&&ne.status&&ne.message){const he=function(Oe){const ze=Oe.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ze)>=0?ze:pe.UNKNOWN}(ne.status);g(new Fe(he,ne.message))}else g(new Fe(pe.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{$e(Os,`RPC '${e}' ${u} completed.`)}});const A=JSON.stringify(i);$e(Os,`RPC '${e}' ${u} sending request:`,i),_.send(t,"POST",A,r,15)})}Ro(e,t,r){const i=XT(),u=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rb(),g=qD(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new ib({})),this.To(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const A=u.join("");$e(Os,`Creating RPC '${e}' stream ${i}: ${A}`,_);const S=c.createWebChannel(A,_);let U=!1,W=!1;const ne=new FN({io:Oe=>{W?$e(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,Oe):(U||($e(Os,`Opening RPC '${e}' stream ${i} transport.`),S.open(),U=!0),$e(Os,`RPC '${e}' stream ${i} sending:`,Oe),S.send(Oe))},ro:()=>S.close()}),he=(Oe,ze,dt)=>{Oe.listen(ze,Gt=>{try{dt(Gt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return he(S,id.EventType.OPEN,()=>{W||$e(Os,`RPC '${e}' stream ${i} transport opened.`)}),he(S,id.EventType.CLOSE,()=>{W||(W=!0,$e(Os,`RPC '${e}' stream ${i} transport closed`),ne.fo())}),he(S,id.EventType.ERROR,Oe=>{W||(W=!0,pa(Os,`RPC '${e}' stream ${i} transport errored:`,Oe),ne.fo(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),he(S,id.EventType.MESSAGE,Oe=>{var ze;if(!W){const dt=Oe.data[0];xt(!!dt);const Nt=dt.error||(null===(ze=dt[0])||void 0===ze?void 0:ze.error);if(Nt){$e(Os,`RPC '${e}' stream ${i} received error:`,Nt);const fn=Nt.status;let yn=function(so){const Yh=Ri[so];if(void 0!==Yh)return fM(Yh)}(fn),Rn=Nt.message;void 0===yn&&(yn=pe.INTERNAL,Rn="Unknown error status: "+fn+" with message "+Nt.message),W=!0,ne.fo(new Fe(yn,Rn)),S.close()}else $e(Os,`RPC '${e}' stream ${i} received:`,dt),ne._o(dt)}}),he(g,Jv.STAT_EVENT,Oe=>{Oe.stat===Xv.PROXY?$e(Os,`RPC '${e}' stream ${i} detected buffering proxy`):Oe.stat===Xv.NOPROXY&&$e(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ne.lo()},0),ne}}function w1(){return typeof window<"u"?window:null}function iI(){return typeof document<"u"?document:null}function L_(n){return new WR(n,!0)}class eA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class E1{constructor(e,t,r,i,u,c,g,_){this.si=e,this.Mo=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new eA(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,Ae.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,Ae.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,Ae.Z)(function*(){e.state=0,e.start()}))}Zo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends E1{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function YR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),i=e.targetChange.targetIds||[],u=function(_,A){return _.useProto3Json?(xt(void 0===A||"string"==typeof A),vi.fromBase64String(A||"")):(xt(void 0===A||A instanceof Uint8Array),vi.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const A=void 0===_.code?pe.UNKNOWN:fM(_.code);return new Fe(A,_.message||"")}(c);t=new vM(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=ic(n,r.document.name),u=_i(r.document.updateTime),c=r.document.createTime?_i(r.document.createTime):Rt.min(),g=new Hi({mapValue:{fields:r.document.fields}}),_=hr.newFoundDocument(i,u,c,g);t=new jb(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=ic(n,r.document),u=r.readTime?_i(r.readTime):Rt.min(),c=hr.newNoDocument(i,u);t=new jb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ic(n,r.document);t=new jb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return mt();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new $R(i,u);t=new yM(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Rt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?_i(u.readTime):Rt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=A_(this.serializer),t.addTarget=function(i,u){let c;const g=u.target;if(c=v_(g)?{documents:SM(i,g)}:{query:PT(i,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=bM(i,u.resumeToken);const _=AT(i,u.expectedCount);null!==_&&(c.expectedCount=_)}else if(u.snapshotVersion.compareTo(Rt.min())>0){c.readTime=Dm(i,u.snapshotVersion.toTimestamp());const _=AT(i,u.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function JR(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=A_(this.serializer),t.removeTarget=e,this.zo(t)}}class UN extends E1{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function QR(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let u=_i(r.updateTime?r.updateTime:i);return u.isEqual(Rt.min())&&(u=_i(i)),new LR(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.uu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=A_(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>S_(this.serializer,r))};this.zo(t)}}class BN extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.po(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Ao(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(pe.UNKNOWN,u.toString())})}terminate(){this.hu=!0}}class jN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Xr(t),this.wu=!1):$e("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HN{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=u,this.vu.Jr(g=>{r.enqueueAndForget((0,Ae.Z)(function*(){var _;jh(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ae.Z)(function*(A){const S=at(A);S.Au.add(4),yield Pm(S),S.Pu.set("Unknown"),S.Au.delete(4),yield V_(S)}),function(A){return _.apply(this,arguments)})(c))}))}),this.Pu=new jN(r,i)}}function V_(n){return nA.apply(this,arguments)}function nA(){return nA=(0,Ae.Z)(function*(n){if(jh(n))for(const e of n.Ru)yield e(!0)}),nA.apply(this,arguments)}function Pm(n){return rA.apply(this,arguments)}function rA(){return rA=(0,Ae.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),rA.apply(this,arguments)}function sI(n,e){const t=at(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),oA(t)?sA(t):Nm(t).Uo()&&iA(t,e))}function U_(n,e){const t=at(n),r=Nm(t);t.Eu.delete(e),r.Uo()&&b1(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():jh(t)&&t.Pu.set("Unknown"))}function iA(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nm(n).nu(e)}function b1(n,e){n.bu.Lt(e),Nm(n).su(e)}function sA(n){n.bu=new HR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Nm(n).start(),n.Pu.mu()}function oA(n){return jh(n)&&!Nm(n).qo()&&n.Eu.size>0}function jh(n){return 0===at(n).Au.size}function I1(n){n.bu=void 0}function zN(n){return aA.apply(this,arguments)}function aA(){return aA=(0,Ae.Z)(function*(n){n.Eu.forEach((e,t)=>{iA(n,e)})}),aA.apply(this,arguments)}function GN(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,Ae.Z)(function*(n,e){I1(n),oA(n)?(n.Pu.pu(e),sA(n)):n.Pu.set("Unknown")}),uA.apply(this,arguments)}function qN(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Ae.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof vM&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(i,u){const c=u.cause;for(const g of u.targetIds)i.Eu.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.Eu.delete(g),i.bu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oI(n,r)}else if(e instanceof jb?n.bu.Wt(e):e instanceof yM?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Rt.min()))try{const r=yield d1(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.bu.ue(u);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=i.Eu.get(_);A&&i.Eu.set(_,A.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach((g,_)=>{const A=i.Eu.get(g);if(!A)return;i.Eu.set(g,A.withResumeToken(vi.EMPTY_BYTE_STRING,A.snapshotVersion)),b1(i,g);const S=new yd(A.target,g,_,A.sequenceNumber);iA(i,S)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield oI(n,r)}var r}),lA.apply(this,arguments)}function oI(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,Ae.Z)(function*(n,e,t){if(!Ql(e))throw e;n.Au.add(1),yield Pm(n),n.Pu.set("Offline"),t||(t=()=>d1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield V_(n)}))}),cA.apply(this,arguments)}function C1(n,e){return e().catch(t=>oI(n,t,e))}function Rm(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Ae.Z)(function*(n){const e=at(n),t=Hh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;WN(e);)try{const i=yield PN(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,ZN(e,i)}catch(i){yield oI(e,i)}D1(e)&&T1(e)}),dA.apply(this,arguments)}function WN(n){return jh(n)&&n.Tu.length<10}function ZN(n,e){n.Tu.push(e);const t=Hh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function D1(n){return jh(n)&&!Hh(n).qo()&&n.Tu.length>0}function T1(n){Hh(n).start()}function KN(n){return hA.apply(this,arguments)}function hA(){return hA=(0,Ae.Z)(function*(n){Hh(n).au()}),hA.apply(this,arguments)}function YN(n){return fA.apply(this,arguments)}function fA(){return fA=(0,Ae.Z)(function*(n){const e=Hh(n);for(const t of n.Tu)e.ou(t.mutations)}),fA.apply(this,arguments)}function QN(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,Ae.Z)(function*(n,e,t){const r=n.Tu.shift(),i=IT.from(r,e,t);yield C1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Rm(n)}),pA.apply(this,arguments)}function JN(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,Ae.Z)(function*(n,e){var t;e&&Hh(n).ru&&(yield(t=(0,Ae.Z)(function*(r,i){if(hM(u=i.code)&&u!==pe.ABORTED){const c=r.Tu.shift();Hh(r).Go(),yield C1(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Rm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),D1(n)&&T1(n)}),gA.apply(this,arguments)}function A1(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,Ae.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=jh(t);t.Au.add(3),yield Pm(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield V_(t)}),mA.apply(this,arguments)}function yA(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Ae.Z)(function*(n,e){const t=at(n);e?(t.Au.delete(2),yield V_(t)):e||(t.Au.add(2),yield Pm(t),t.Pu.set("Unknown"))}),vA.apply(this,arguments)}function Nm(n){return n.Vu||(n.Vu=function(e,t,r){const i=at(e);return i.lu(),new VN(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:zN.bind(null,n),co:GN.bind(null,n),eu:qN.bind(null,n)}),n.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Vu.Go(),oA(n)?sA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),I1(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Hh(n){return n.Su||(n.Su=function(e,t,r){const i=at(e);return i.lu(),new UN(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:KN.bind(null,n),co:JN.bind(null,n),cu:YN.bind(null,n),uu:QN.bind(null,n)}),n.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Su.Go(),yield Rm(n)):(yield n.Su.stop(),n.Tu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class _A{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,g=new _A(e,t,c,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),Ql(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class Om{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=__(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Om(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Om)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Om;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class S1{constructor(){this.Du=new Yn(nt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):mt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fm{constructor(e,t,r,i,u,c,g,_,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=A}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new Fm(e,t,Om.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&De(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class XN{constructor(){this.xu=void 0,this.listeners=[]}}class ek{constructor(){this.queries=new Mn(e=>Ze(e),De),this.onlineState="Unknown",this.Nu=new Set}}function wA(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,Ae.Z)(function*(n,e){const t=at(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new XN),i)try{u.xu=yield t.onListen(r)}catch(c){const g=km(c,`Initialization of query '${ot(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.ku(t.onlineState),u.xu&&e.Mu(u.xu)&&CA(t)}),EA.apply(this,arguments)}function bA(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,Ae.Z)(function*(n,e){const t=at(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),IA.apply(this,arguments)}function tk(n,e){const t=at(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.Mu(i)&&(r=!0);c.xu=i}}r&&CA(t)}function nk(n,e,t){const r=at(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function CA(n){n.Nu.forEach(e=>{e.next()})}class DA{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Fm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class rk{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class x1{constructor(e){this.serializer=e}ir(e){return ic(this.serializer,e)}rr(e){return e.metadata.exists?AM(this.serializer,e.document,!1):hr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return _i(e)}}class ik{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=M1(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=Tn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new x1(this.serializer);for(const i of e)if(i.metadata.queries){const u=r.ir(i.metadata.name);for(const c of i.metadata.queries){const g=(t.get(c)||pn()).add(u);t.set(c,g)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function RN(n,e,t,r){return WT.apply(this,arguments)}(e.localStore,new x1(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield NN(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function M1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class P1{constructor(e){this.key=e}}class R1{constructor(e){this.key=e}}class N1{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=pn(),this.mutatedKeys=pn(),this.Zu=Ve(e),this.tc=new Om(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new S1,i=t?t.tc:this.tc;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,A="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,U)=>{const W=i.get(S),ne=yt(this.query,U)?U:null,he=!!W&&this.mutatedKeys.has(W.key),Oe=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let ze=!1;W&&ne?W.data.isEqual(ne.data)?he!==Oe&&(r.track({type:3,doc:ne}),ze=!0):this.ic(W,ne)||(r.track({type:2,doc:ne}),ze=!0,(_&&this.Zu(ne,_)>0||A&&this.Zu(ne,A)<0)&&(g=!0)):!W&&ne?(r.track({type:0,doc:ne}),ze=!0):W&&!ne&&(r.track({type:1,doc:W}),ze=!0,(_||A)&&(g=!0)),ze&&(ne?(c=c.add(ne),u=Oe?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tc:c,sc:r,ji:g,mutatedKeys:u}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const u=e.sc.Cu();u.sort((A,S)=>function(U,W){const ne=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return ne(U)-ne(W)}(A.type,S.type)||this.Zu(A.doc,S.doc)),this.rc(r);const c=t?this.oc():[],g=0===this.Xu.size&&this.current?1:0,_=g!==this.Yu;return this.Yu=g,0!==u.length||_?{snapshot:new Fm(this.query,e.tc,i,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new S1,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=pn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new R1(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new P1(r))}),t}ac(e){this.Ju=e.sr,this.Xu=pn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Fm.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class sk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ok{constructor(e){this.key=e,this.lc=!1}}class ak{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new Mn(g=>Ze(g),De),this._c=new Map,this.wc=new Set,this.mc=new Yn(nt.comparator),this.gc=new Map,this.yc=new UT,this.Ic={},this.Tc=new Map,this.Ec=Sp.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function uk(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Ae.Z)(function*(n,e){const t=KA(n);let r,i;const u=t.dc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.hc();else{const c=yield xm(t.localStore,H(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield AA(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&sI(t.remoteStore,c)}return i}),TA.apply(this,arguments)}function AA(n,e,t,r,i){return SA.apply(this,arguments)}function SA(){return SA=(0,Ae.Z)(function*(n,e,t,r,i){n.Rc=(U,W,ne)=>{return(he=(0,Ae.Z)(function*(Oe,ze,dt,Gt){let Nt=ze.view.nc(dt);Nt.ji&&(Nt=yield eI(Oe.localStore,ze.query,!1).then(({documents:Rn})=>ze.view.nc(Rn,Nt)));const fn=Gt&&Gt.targetChanges.get(ze.targetId),yn=ze.view.applyChanges(Nt,Oe.isPrimaryClient,fn);return VA(Oe,ze.targetId,yn.uc),yn.snapshot}),function(Oe,ze,dt,Gt){return he.apply(this,arguments)})(n,U,W,ne);var he};const u=yield eI(n.localStore,e,!0),c=new N1(e,u.sr),g=c.nc(u.documents),_=D_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),A=c.applyChanges(g,n.isPrimaryClient,_);VA(n,t,A.uc);const S=new sk(e,t,c);return n.dc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),A.snapshot}),SA.apply(this,arguments)}function lk(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,Ae.Z)(function*(n,e){const t=at(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!De(u,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),U_(t.remoteStore,r.targetId),Lm(t,r.targetId)}).catch(ga))):(Lm(t,r.targetId),yield Mm(t.localStore,r.targetId,!0))}),xA.apply(this,arguments)}function MA(){return MA=(0,Ae.Z)(function*(n,e,t){const r=YA(n);try{const i=yield function(u,c){const g=at(u),_=Nr.now(),A=c.reduce((W,ne)=>W.add(ne.key),pn());let S,U;return g.persistence.runTransaction("Locally write mutations","readwrite",W=>{let ne=no(),he=pn();return g.Xi.getEntries(W,A).next(Oe=>{ne=Oe,ne.forEach((ze,dt)=>{dt.isValidDocument()||(he=he.add(ze))})}).next(()=>g.localDocuments.getOverlayedDocuments(W,ne)).next(Oe=>{S=Oe;const ze=[];for(const dt of c){const Gt=UR(dt,S.get(dt.key).overlayedDocument);null!=Gt&&ze.push(new md(dt.key,Gt,Nb(Gt.value.mapValue),Wr.exists(!0)))}return g.mutationQueue.addMutationBatch(W,_,ze,c)}).next(Oe=>{U=Oe;const ze=Oe.applyToLocalDocumentSet(S,he);return g.documentOverlayCache.saveOverlays(W,Oe.batchId,ze)})}).then(()=>({batchId:U.batchId,changes:Qx(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,g){let _=u.Ic[u.currentUser.toKey()];_||(_=new Yn(tn)),_=_.insert(c,g),u.Ic[u.currentUser.toKey()]=_}(r,i.batchId,t),yield vd(r,i.changes),yield Rm(r.remoteStore)}catch(i){const u=km(i,"Failed to persist write");t.reject(u)}}),MA.apply(this,arguments)}function k1(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Ae.Z)(function*(n,e){const t=at(n);try{const r=yield function MN(n,e){const t=at(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const g=[];e.targetChanges.forEach((S,U)=>{const W=i.get(U);if(!W)return;g.push(t.Fs.removeMatchingKeys(u,S.removedDocuments,U).next(()=>t.Fs.addMatchingKeys(u,S.addedDocuments,U)));let ne=W.withSequenceNumber(u.currentSequenceNumber);var he,Oe,ze;null!==e.targetMismatches.get(U)?ne=ne.withResumeToken(vi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):S.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(S.resumeToken,r)),i=i.insert(U,ne),Oe=ne,ze=S,(0===(he=W).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0)&&g.push(t.Fs.updateTargetData(u,ne))});let _=no(),A=pn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(h1(u,c,e.documentUpdates).next(S=>{_=S.er,A=S.nr})),!r.isEqual(Rt.min())){const S=t.Fs.getLastRemoteSnapshotVersion(u).next(U=>t.Fs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return ae.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,A)).next(()=>_)}).then(u=>(t.Hi=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.gc.get(u);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?xt(c.lc):i.removedDocuments.size>0&&(xt(c.lc),c.lc=!1))}),yield vd(t,r,e)}catch(r){yield ga(r)}}),PA.apply(this,arguments)}function O1(n,e,t){const r=at(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((u,c)=>{const g=c.view.ku(e);g.snapshot&&i.push(g.snapshot)}),function(u,c){const g=at(u);g.onlineState=c;let _=!1;g.queries.forEach((A,S)=>{for(const U of S.listeners)U.ku(c)&&(_=!0)}),_&&CA(g)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dk(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,Ae.Z)(function*(n,e,t){const r=at(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),u=i&&i.key;if(u){let c=new Yn(nt.comparator);c=c.insert(u,hr.newNoDocument(u,Rt.min()));const g=pn().add(u),_=new C_(Rt.min(),new Map,new Yn(tn),c,g);yield k1(r,_),r.mc=r.mc.remove(u),r.gc.delete(e),UA(r)}else yield Mm(r.localStore,e,!1).then(()=>Lm(r,e,t)).catch(ga)}),RA.apply(this,arguments)}function hk(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ae.Z)(function*(n,e){const t=at(n),r=e.batch.batchId;try{const i=yield function xN(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,A){const S=_.batch,U=S.keys();let W=ae.resolve();return U.forEach(ne=>{W=W.next(()=>A.getEntry(g,ne)).next(he=>{const Oe=_.docVersions.get(ne);xt(null!==Oe),he.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(he,_),he.isValidDocument()&&(he.setReadTime(_.commitVersion),A.addEntry(he)))})}),W.next(()=>c.mutationQueue.removeMutationBatch(g,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=pn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);LA(t,r,null),FA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vd(t,i)}catch(i){yield ga(i)}}),NA.apply(this,arguments)}function fk(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,Ae.Z)(function*(n,e,t){const r=at(n);try{const i=yield function(u,c){const g=at(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return g.mutationQueue.lookupMutationBatch(_,c).next(S=>(xt(null!==S),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>g.localDocuments.getDocuments(_,A))})}(r.localStore,e);LA(r,e,t),FA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vd(r,i)}catch(i){yield ga(i)}}),kA.apply(this,arguments)}function OA(){return OA=(0,Ae.Z)(function*(n,e){const t=at(n);jh(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=at(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=km(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),OA.apply(this,arguments)}function FA(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function LA(n,e,t){const r=at(n);let i=r.Ic[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Lm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||F1(n,r)})}function F1(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(U_(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),UA(n))}function VA(n,e,t){for(const r of t)r instanceof P1?(n.yc.addReference(r.key,e),gk(n,r)):r instanceof R1?($e("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||F1(n,r.key)):mt()}function gk(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||($e("SyncEngine","New document in limbo: "+t),n.wc.add(r),UA(n))}function UA(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new nt(Tn.fromString(e)),r=n.Ec.next();n.gc.set(r,new ok(t)),n.mc=n.mc.insert(t,r),sI(n.remoteStore,new yd(H(p(t.path)),r,"TargetPurposeLimboResolution",to.ct))}}function vd(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,Ae.Z)(function*(n,e,t){const r=at(n),i=[],u=[],c=[];var g;r.dc.isEmpty()||(r.dc.forEach((g,_)=>{c.push(r.Rc(_,e,t).then(A=>{if((A||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,A?.fromCache?"not-current":"current"),A){i.push(A);const S=zT.Bi(_.targetId,A);u.push(S)}}))}),yield Promise.all(c),r.fc.eu(i),yield(g=(0,Ae.Z)(function*(_,A){const S=at(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>ae.forEach(A,W=>ae.forEach(W.$i,ne=>S.persistence.referenceDelegate.addReference(U,W.targetId,ne)).next(()=>ae.forEach(W.Fi,ne=>S.persistence.referenceDelegate.removeReference(U,W.targetId,ne)))))}catch(U){if(!Ql(U))throw U;$e("LocalStore","Failed to update sequence numbers: "+U)}for(const U of A){const W=U.targetId;if(!U.fromCache){const ne=S.Hi.get(W),Oe=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);S.Hi=S.Hi.insert(W,Oe)}}}),function(_,A){return g.apply(this,arguments)})(r.localStore,u))}),BA.apply(this,arguments)}function mk(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Ae.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield c1(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(g=>{g.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vd(t,r.tr)}var i}),$A.apply(this,arguments)}function yk(n,e){const t=at(n),r=t.gc.get(e);if(r&&r.lc)return pn().add(r.key);{let i=pn();const u=t._c.get(e);if(!u)return i;for(const c of u){const g=t.dc.get(c);i=i.unionWith(g.view.ec)}return i}}function vk(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ae.Z)(function*(n,e){const t=at(n),r=yield eI(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&VA(t,e.targetId,i.uc),i}),jA.apply(this,arguments)}function _k(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Ae.Z)(function*(n,e){const t=at(n);return p1(t.localStore,e).then(r=>vd(t,r))}),HA.apply(this,arguments)}function wk(n,e,t,r){return zA.apply(this,arguments)}function zA(){return zA=(0,Ae.Z)(function*(n,e,t,r){const i=at(n),u=yield function(c,g){const _=at(c),A=at(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>A.Vn(S,g).next(U=>U?_.localDocuments.getDocuments(S,U):ae.resolve(null)))}(i.localStore,e);var g;null!==u?("pending"===t?yield Rm(i.remoteStore):"acknowledged"===t||"rejected"===t?(LA(i,e,r||null),FA(i,e),g=e,at(at(i.localStore).mutationQueue).Dn(g)):mt(),yield vd(i,u)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),zA.apply(this,arguments)}function GA(){return GA=(0,Ae.Z)(function*(n,e){const t=at(n);if(KA(t),YA(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield L1(t,r.toArray());t.Ac=!0,yield yA(t.remoteStore,!0);for(const u of i)sI(t.remoteStore,u)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Lm(t,c),Mm(t.localStore,c,!0))),U_(t.remoteStore,c)}),yield i,yield L1(t,r),function(u){const c=at(u);c.gc.forEach((g,_)=>{U_(c.remoteStore,_)}),c.yc.Is(),c.gc=new Map,c.mc=new Yn(nt.comparator)}(t),t.Ac=!1,yield yA(t.remoteStore,!1)}}),GA.apply(this,arguments)}function L1(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Ae.Z)(function*(n,e,t){const r=at(n),i=[],u=[];for(const c of e){let g;const _=r._c.get(c);if(_&&0!==_.length){g=yield xm(r.localStore,H(_[0]));for(const A of _){const S=r.dc.get(A),U=yield vk(r,S);U.snapshot&&u.push(U.snapshot)}}else{const A=yield f1(r.localStore,c);g=yield xm(r.localStore,A),yield AA(r,V1(A),c,!1,g.resumeToken)}i.push(g)}return r.fc.eu(u),i}),qA.apply(this,arguments)}function V1(n){return h(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bk(n){const e=at(n);return at(at(e.localStore).persistence).Mi()}function Ik(n,e,t,r){return WA.apply(this,arguments)}function WA(){return WA=(0,Ae.Z)(function*(n,e,t,r){const i=at(n);if(i.Ac)return void $e("SyncEngine","Ignoring unexpected query state notification.");const u=i._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield p1(i.localStore,zt(u[0])),g=C_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vi.EMPTY_BYTE_STRING);yield vd(i,c,g);break}case"rejected":yield Mm(i.localStore,e,!0),Lm(i,e,r);break;default:mt()}}),WA.apply(this,arguments)}function Ck(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ae.Z)(function*(n,e,t){const r=KA(n);if(r.Ac){for(const i of e){if(r._c.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const u=yield f1(r.localStore,i),c=yield xm(r.localStore,u);yield AA(r,V1(u),c.targetId,!1,c.resumeToken),sI(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield Mm(r.localStore,i,!1).then(()=>{U_(r.remoteStore,i),Lm(r,i)}).catch(ga))}}),ZA.apply(this,arguments)}function KA(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dk.bind(null,e),e.fc.eu=tk.bind(null,e.eventManager),e.fc.vc=nk.bind(null,e.eventManager),e}function YA(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,e),e}class B_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=L_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return l1(this.persistence,new u1,e.initialUser,this.serializer)}createPersistence(e){return new BT(Qb.js,this.serializer)}createSharedClientState(e){return new v1}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QA extends B_{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield YA(r.bc.syncEngine),yield Rm(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return l1(this.persistence,new u1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new XM(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new ma(t,this.persistence);return new jx(e.asyncQueue,r)}createPersistence(e){const t=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new jT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,w1(),iI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new v1}}class U1 extends QA{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof JT&&(r.sharedClientState.syncEngine={Qr:wk.bind(null,i),jr:Ik.bind(null,i),zr:Ck.bind(null,i),Mi:bk.bind(null,i),Gr:_k.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var u=(0,Ae.Z)(function*(c){yield function Ek(n,e){return GA.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=w1();if(!JT.D(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Vm{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>O1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mk.bind(null,r.syncEngine),yield yA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ek}createDatastore(e){const t=L_(e.databaseInfo.databaseId),r=new LN(e.databaseInfo);return new BN(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>O1(this.syncEngine,g,0),c=_1.D()?new _1:new kN,new HN(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,g,_,A){const S=new ak(r,i,u,c,g,_);return A&&(S.Ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=at(t);$e("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Pm(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function B1(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ak{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ci,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const u=yield e.Mc(i);return new rk(JSON.parse(u),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,Ae.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Sk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ae.Z)(function*(u,c){const g=at(u),_=A_(g.serializer)+"/documents",A={documents:c.map(ne=>T_(g.serializer,ne))},S=yield g.Ao("BatchGetDocuments",_,A,c.length),U=new Map;S.forEach(ne=>{const he=function KR(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=ic(t,r.found.name),u=_i(r.found.updateTime),c=r.found.createTime?_i(r.found.createTime):Rt.min(),g=new Hi({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,u,c,g)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=ic(t,r.missing),u=_i(r.readTime);return hr.newNoDocument(i,u)}(n,e):mt()}(g.serializer,ne);U.set(he.key.toString(),he)});const W=[];return c.forEach(ne=>{const he=U.get(ne.toString());xt(!!he),W.push(he)}),W}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=nt.fromPath(i);e.mutations.push(new ET(u,e.precondition(u)))}),yield(r=(0,Ae.Z)(function*(i,u){const c=at(i),g=A_(c.serializer)+"/documents",_={writes:u.map(A=>S_(c.serializer,A))};yield c.po("Commit",g,_)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?Wr.exists(!1):Wr.updateTime(t):Wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wr.updateTime(t)}return Wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xk{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Fc=r.maxAttempts,this.Lo=new eA(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,Ae.Z)(function*(){const t=new Sk(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.qc(u)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hM(t)}return!1}}class Mk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mi.UNAUTHENTICATED,this.clientId=QD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ae.Z)(function*(g){$e("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=km(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uI(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(u){r.isEqual(u)||(yield c1(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JA.apply(this,arguments)}function XA(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tS(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>A1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>A1(e.remoteStore,u)),n._onlineComponents=e}),eS.apply(this,arguments)}function $1(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function tS(n){return nS.apply(this,arguments)}function nS(){return nS=(0,Ae.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!$1(t))throw t;pa("Error using user provided cache. Falling back to memory cache: "+t),yield uI(n,new B_)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield uI(n,new B_);return n._offlineComponents}),nS.apply(this,arguments)}function lI(n){return rS.apply(this,arguments)}function rS(){return rS=(0,Ae.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield XA(n,n._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield XA(n,new Vm))),n._onlineComponents}),rS.apply(this,arguments)}function j1(n){return tS(n).then(e=>e.persistence)}function cI(n){return tS(n).then(e=>e.localStore)}function H1(n){return lI(n).then(e=>e.remoteStore)}function iS(n){return lI(n).then(e=>e.syncEngine)}function Um(n){return sS.apply(this,arguments)}function sS(){return sS=(0,Ae.Z)(function*(n){const e=yield lI(n),t=e.eventManager;return t.onListen=uk.bind(null,e.syncEngine),t.onUnlisten=lk.bind(null,e.syncEngine),t}),sS.apply(this,arguments)}function G1(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,u,c,g,_){const A=new aI({next:U=>{u.enqueueAndForget(()=>bA(i,S));const W=U.docs.has(c);!W&&U.fromCache?_.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&U.fromCache&&g&&"server"===g.source?_.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(U)},error:U=>_.reject(U)}),S=new DA(p(c.path),A,{includeMetadataChanges:!0,Uu:!0});return wA(i,S)}(yield Um(n),n.asyncQueue,e,t,r)})),r.promise}function q1(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,u,c,g,_){const A=new aI({next:U=>{u.enqueueAndForget(()=>bA(i,S)),U.fromCache&&"server"===g.source?_.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),S=new DA(c,A,{includeMetadataChanges:!0,Uu:!0});return wA(i,S)}(yield Um(n),n.asyncQueue,e,t,r)})),r.promise}const W1=new Map;function oS(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z1(n,e,t,r){if(!0===e&&!0===r)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K1(n){if(!nt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Y1(n){if(nt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dI(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Q1(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class J1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZD;switch(t.type){case"firstParty":return new cb(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=W1.get(e);t&&($e("ComponentProvider","Removing Datastore"),W1.delete(e),t.terminate())}(this),Promise.resolve()}}function X1(n,e,t,r={}){var i;const u=(n=Cn(n,$_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=mi.MOCK_USER;else{c=(0,In.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mi(_)}n._authCredentials=new ub(new ab(c,g))}}class kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class vs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class sc extends vs{constructor(e,t,r){super(e,t,p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new nt(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function eP(n,e,...t){if(n=(0,In.m9)(n),oS("collection","path",e),n instanceof $_){const r=Tn.fromString(e,...t);return Y1(r),new sc(n,null,r)}{if(!(n instanceof kr||n instanceof sc))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return Y1(r),new sc(n.firestore,null,r)}}function hI(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=QD.A()),oS("doc","path",e),n instanceof $_){const r=Tn.fromString(e,...t);return K1(r),new kr(n,null,new nt(r))}{if(!(n instanceof kr||n instanceof sc))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return K1(r),new kr(n.firestore,n instanceof sc?n.converter:null,new nt(r))}}function tP(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof kr||n instanceof sc)&&(e instanceof kr||e instanceof sc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aS(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&De(n._query,e._query)&&n.converter===e.converter}class Bk{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new eA(this,"async_queue_retry"),this.Yc=()=>{const t=iI();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=iI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=iI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ci;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Ql(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=_A.createAndSchedule(this,e,t,r,u=>this.ea(u));return this.jc.push(i),i}Xc(){this.zc&&mt()}verifyOperationInProgress(){}na(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function uS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class $k{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Or extends $_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bk,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nP(this),this._firestoreClient.terminate()}}function Hk(n,e){const t="object"==typeof n?n:(0,Ja.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ja._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,In.P0)("firestore");u&&X1(i,...u)}return i}function wi(n){return n._firestoreClient||nP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nP(n){var e,t,r;const i=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lT(n._databaseId,g,n._persistenceKey,(A=i).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var g,A;n._firestoreClient=new Mk(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function rP(n,e,t){const r=new ci;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield uI(n,t),yield XA(n,e),r.resolve()}catch(i){const u=i;if(!$1(u))throw u;pa("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function iP(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(vi.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oc(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mp{constructor(e){this._methodName=e}}class fI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const Xk=/^__.*__$/;class eO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new md(e,this.data,this.fieldMask,t,this.fieldTransforms):new Im(e,this.data,t,this.fieldTransforms)}}class sP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class pI{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.oa(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new pI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return yI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oP(this.ua)&&Xk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||L_(e)}ga(e,t,r,i=!1){return new pI({ua:e,methodName:t,ma:r,path:ei.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(n){const e=n._freezeSettings(),t=L_(n._databaseId);return new tO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gI(n,e,t,r,i,u={}){const c=n.ga(u.merge||u.mergeFields?2:0,e,t,i);hS("Data must be an object, but it was:",c,r);const g=lP(r,c);let _,A;if(u.merge)_=new ji(c.fieldMask),A=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const U of u.mergeFields){const W=z_(e,U,t);if(!c.contains(W))throw new Fe(pe.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);dP(S,W)||S.push(W)}_=new ji(S),A=c.fieldTransforms.filter(U=>_.covers(U.field))}else _=null,A=c.fieldTransforms;return new eO(new Hi(g),_,A)}class H_ extends Mp{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H_}}function aP(n,e,t){return new pI({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lS extends Mp{_toFieldTransform(e){return new E_(e.path,new Em)}isEqual(e){return e instanceof lS}}class nO extends Mp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=aP(this,e,!0),r=this.ya.map(u=>Rp(u,t)),i=new Ep(r);return new E_(e.path,i)}isEqual(e){return this===e}}class rO extends Mp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=aP(this,e,!0),r=this.ya.map(u=>Rp(u,t)),i=new bp(r);return new E_(e.path,i)}isEqual(e){return this===e}}class iO extends Mp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new bm(e.serializer,tM(e.serializer,this.pa));return new E_(e.path,t)}isEqual(e){return this===e}}function cS(n,e,t,r){const i=n.ga(1,e,t);hS("Data must be an object, but it was:",i,r);const u=[],c=Hi.empty();Ju(r,(_,A)=>{const S=mI(e,_,t);A=(0,In.m9)(A);const U=i.fa(S);if(A instanceof H_)u.push(S);else{const W=Rp(A,U);null!=W&&(u.push(S),c.set(S,W))}});const g=new ji(u);return new sP(c,g,i.fieldTransforms)}function dS(n,e,t,r,i,u){const c=n.ga(1,e,t),g=[z_(e,r,t)],_=[i];if(u.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<u.length;W+=2)g.push(z_(e,u[W])),_.push(u[W+1]);const A=[],S=Hi.empty();for(let W=g.length-1;W>=0;--W)if(!dP(A,g[W])){const ne=g[W];let he=_[W];he=(0,In.m9)(he);const Oe=c.fa(ne);if(he instanceof H_)A.push(ne);else{const ze=Rp(he,Oe);null!=ze&&(A.push(ne),S.set(ne,ze))}}const U=new ji(A);return new sP(S,U,c.fieldTransforms)}function uP(n,e,t,r=!1){return Rp(t,n.ga(r?4:3,e))}function Rp(n,e){if(cP(n=(0,In.m9)(n)))return hS("Unsupported field value:",e,n),lP(n,e);if(n instanceof Mp)return function(t,r){if(!oP(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let g=Rp(c,r.da(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,In.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tM(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Nr.fromDate(t);return{timestampValue:Dm(r.serializer,i)}}if(t instanceof Nr){const i=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dm(r.serializer,i)}}if(t instanceof fI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oc)return{bytesValue:bM(r.serializer,t._byteString)};if(t instanceof kr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ST(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dI(t)}`)}(n,e)}function lP(n,e){const t={};return aT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ju(n,(r,i)=>{const u=Rp(i,e.aa(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function cP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof fI||n instanceof oc||n instanceof kr||n instanceof Mp)}function hS(n,e,t){if(!cP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function z_(n,e,t){if((e=(0,In.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return mI(n,e);throw yI("Field path arguments must be of type string or ",n,!1,void 0,t)}const sO=new RegExp("[~\\*/\\[\\]]");function mI(n,e,t){if(e.search(sO)>=0)throw yI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch{throw yI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yI(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Fe(pe.INVALID_ARGUMENT,g+n+_)}function dP(n,e){return n.some(t=>t.isEqual(e))}class G_{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oO extends G_{data(){return super.data()}}function vI(n,e){return"string"==typeof e?mI(n,e):e instanceof _d?e._internalPath:e._delegate._internalPath}function hP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fS{}class q_ extends fS{}function zh(n,e,...t){let r=[];e instanceof fS&&r.push(e),r=r.concat(t),function(i){const u=i.filter(g=>g instanceof Bm).length,c=i.filter(g=>g instanceof W_).length;if(u>1||u>0&&c>0)throw new Fe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class W_ extends q_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new W_(e,t,r)}_apply(e){const t=this._parse(e);return mP(e._query,t),new vs(e.firestore,e.converter,J(e._query,t))}_parse(e){const t=Pp(e.firestore);return function(i,u,c,g,_,A,S){let U;if(_.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){gP(S,A);const W=[];for(const ne of S)W.push(pP(g,i,ne));U={arrayValue:{values:W}}}else U=pP(g,i,S)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||gP(S,A),U=uP(c,"where",S,"in"===A||"not-in"===A);return wn.create(_,A,U)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Bm extends fS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const c=i.getFlattenedFilters();for(const g of c)mP(u,g),u=J(u,g)}(e._query,t),new vs(e.firestore,e.converter,J(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pS extends q_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pS(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new gd(i,u);return function(g,_){if(null===b(g)){const A=T(g);null!==A&&yP(0,A,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new l(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _I extends q_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _I(e,t,r)}_apply(e){return new vs(e.firestore,e.converter,ie(e._query,this._limit,this._limitType))}}class wI extends q_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wI(e,t,r)}_apply(e){const t=fP(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class EI extends q_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new EI(e,t,r)}_apply(e){const t=fP(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function fP(n,e,t,r){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof G_)return function(i,u,c,g,_){if(!g)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const A=[];for(const S of k(i))if(S.field.isKeyField())A.push(ec(u,g.key));else{const U=g.data.field(S.field);if(gp(U))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const W=S.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}A.push(U)}return new nc(A,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Pp(n.firestore);return function(u,c,g,_,A,S){const U=u.explicitOrderBy;if(A.length>U.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let ne=0;ne<A.length;ne++){const he=A[ne];if(U[ne].field.isKeyField()){if("string"!=typeof he)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof he}`);if(!x(u)&&-1!==he.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${he}' contains a slash.`);const Oe=u.path.child(Tn.fromString(he));if(!nt.isDocumentKey(Oe))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const ze=new nt(Oe);W.push(ec(c,ze))}else{const Oe=uP(g,_,he);W.push(Oe)}}return new nc(W,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function pP(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!nt.isDocumentKey(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ec(n,new nt(r))}if(t instanceof kr)return ec(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dI(t)}.`)}function gP(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mP(n,e){if(e.isInequality()){const r=T(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=b(n);null!==u&&yP(0,i,u)}const t=function(r,i){for(const u of r)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yP(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gS{convertValue(e,t="none"){switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ju(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new fI(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}convertTimestamp(e){const t=cd(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);xt(RM(r));const i=new dd(r.get(1),r.get(3)),u=new nt(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function bI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gO extends gS{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wd extends G_{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Z_ extends wd{data(e={}){return super.data(e)}}class Gh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Z_(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Z_(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new Z_(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,A=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),A=u.indexOf(c.doc.key)),{type:yO(c.type),doc:g,oldIndex:_,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function _P(n,e){return n instanceof wd&&e instanceof wd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gh&&e instanceof Gh&&n._firestore===e._firestore&&aS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qh extends gS{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}function wP(n,e,t){n=Cn(n,kr);const r=Cn(n.firestore,Or),i=bI(n.converter,e,t);return $m(r,[gI(Pp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Wr.none())])}function EP(n,e,t,...r){n=Cn(n,kr);const i=Cn(n.firestore,Or),u=Pp(i);let c;return c="string"==typeof(e=(0,In.m9)(e))||e instanceof _d?dS(u,"updateDoc",n._key,e,t,r):cS(u,"updateDoc",n._key,e),$m(i,[c.toMutation(n._key,Wr.exists(!0))])}function bP(n,...e){var t,r,i;n=(0,In.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||uS(e[c])||(u=e[c],c++);const g={includeMetadataChanges:u.includeMetadataChanges};if(uS(e[c])){const U=e[c];e[c]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[c+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[c+2]=null===(i=U.complete)||void 0===i?void 0:i.bind(U)}let _,A,S;if(n instanceof kr)A=Cn(n.firestore,Or),S=p(n._key.path),_={next:U=>{e[c]&&e[c](mS(A,n,U))},error:e[c+1],complete:e[c+2]};else{const U=Cn(n,vs);A=Cn(U.firestore,Or),S=U._query;const W=new qh(A);_={next:ne=>{e[c]&&e[c](new Gh(A,W,U,ne))},error:e[c+1],complete:e[c+2]},hP(n._query)}return function(U,W,ne,he){const Oe=new aI(he),ze=new DA(W,Oe,ne);return U.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return wA(yield Um(U),ze)})),()=>{Oe.Sc(),U.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return bA(yield Um(U),ze)}))}}(wi(A),S,g,_)}function $m(n,e){return function(t,r){const i=new ci;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function ck(n,e,t){return MA.apply(this,arguments)}(yield iS(t),r,i)})),i.promise}(wi(n),e)}function mS(n,e,t){const r=t.docs.get(e._key),i=new qh(n);return new wd(n,i,e._key,r,new Np(t.hasPendingWrites,t.fromCache),e.converter)}const OO={maxAttempts:5};class IP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pp(e)}set(e,t,r){this._verifyNotCommitted();const i=Wh(e,this._firestore),u=bI(i.converter,t,r),c=gI(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Wr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Wh(e,this._firestore);let c;return c="string"==typeof(t=(0,In.m9)(t))||t instanceof _d?dS(this._dataReader,"WriteBatch.update",u._key,t,r,i):cS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wh(e,this._firestore);return this._mutations=this._mutations.concat(new Cm(t._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wh(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class FO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pp(e)}get(e){const t=Wh(e,this._firestore),r=new gO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return mt();const u=i[0];if(u.isFoundDocument())return new G_(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new G_(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const i=Wh(e,this._firestore),u=bI(i.converter,t,r),c=gI(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Wh(e,this._firestore);let c;return c="string"==typeof(t=(0,In.m9)(t))||t instanceof _d?dS(this._dataReader,"Transaction.update",u._key,t,r,i):cS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Wh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wh(e,this._firestore),r=new qh(this._firestore);return super.get(e).then(i=>new wd(this._firestore,r,t._key,i._document,new Np(!1,!1),t.converter))}}!function(n,e=!0){fa=Ja.SDK_VERSION,(0,Ja._registerComponent)(new Hf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new Or(new KD(t.getProvider("auth-internal")),new db(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(g.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Ja.registerVersion)(sb,"3.11.0",n),(0,Ja.registerVersion)(sb,"3.11.0","esm2017")}();function yS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function DP(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function TP(){if(!function Mb(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class K_{constructor(e){this._delegate=e}static fromBase64String(e){return TP(),new K_(oc.fromBase64String(e))}static fromUint8Array(e){return DP(),new K_(oc.fromUint8Array(e))}toBase64(){return TP(),this._delegate.toBase64()}toUint8Array(){return DP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vS(n){return function GO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class qO{enableIndexedDbPersistence(e,t){return function zk(n,e){iP(n=Cn(n,Or));const t=wi(n);if(t._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");pa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Vm;return rP(t,i,new QA(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Gk(n){iP(n=Cn(n,Or));const e=wi(n);if(e._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");pa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Vm;return rP(e,r,new U1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function qk(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!nu.D())return Promise.resolve();const i=r+"main";yield nu.delete(i)}),function(r){return t.apply(this,arguments)})(HT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class AP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof dd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){X1(this._delegate,e,t,r)}enableNetwork(){return function Zk(n){return function Pk(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!0),function(r){const i=at(r);return i.Au.delete(0),V_(i)}(t)}))}(wi(n=Cn(n,Or)))}(this._delegate)}disableNetwork(){return function Kk(n){return function Rk(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(i){const u=at(i);u.Au.add(0),yield Pm(u),u.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(wi(n=Cn(n,Or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Z1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Wk(n){return function(e){const t=new ci;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function pk(n,e){return OA.apply(this,arguments)}(yield iS(e),t)})),t.promise}(wi(n=Cn(n,Or)))}(this._delegate)}onSnapshotsInSync(e){return function TO(n,e){return function Ok(n,e){const t=new aI(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Um(n),i=t,at(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Um(n),i=t,void at(r).Nu.delete(i);var r,i}))}}(wi(n=Cn(n,Or)),uS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jm(this,eP(this._delegate,e))}catch(t){throw ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new su(this,hI(this._delegate,e))}catch(t){throw ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function Uk(n,e){if(n=Cn(n,$_),oS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new l(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function LO(n,e,t){n=Cn(n,Or);const r=Object.assign(Object.assign({},OO),t);return function(i){if(i.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,c){const g=new ci;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const _=yield function z1(n){return lI(n).then(e=>e.datastore)}(i);new xk(i.asyncQueue,_,c,u,g).run()})),g.promise}(wi(n),i=>e(new FO(n,i)),r)}(this._delegate,t=>e(new SP(this,t)))}batch(){return wi(this._delegate),new xP(new IP(this._delegate,e=>$m(this._delegate,e)))}loadBundle(e){return function Yk(n,e){const t=wi(n=Cn(n,Or)),r=new $k;return function Fk(n,e,t,r){const i=function(u,c){let g;return g="string"==typeof u?pM().encode(u):u,_=function(_,A){if(_ instanceof Uint8Array)return B1(_,A);if(_ instanceof ArrayBuffer)return B1(new Uint8Array(_),A);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new Ak(_,c);var _}(t,L_(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function Dk(n,e,t){const r=at(n);var i;(i=(0,Ae.Z)(function*(u,c,g){try{const _=yield c.getMetadata();if(yield function(W,ne){const he=at(W),Oe=_i(ne.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",ze=>he.Ls.getBundleMetadata(ze,ne.id)).then(ze=>!!ze&&ze.createTime.compareTo(Oe)>=0)}(u.localStore,_))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(W=_).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);g._updateProgress(M1(_));const A=new ik(_,u.localStore,c.serializer);let S=yield c.Pc();for(;S;){const W=yield A.ju(S);W&&g._updateProgress(W),S=yield c.Pc()}const U=yield A.complete();return yield vd(u,U.Hu,void 0),yield function(W,ne){const he=at(W);return he.persistence.runTransaction("Save bundle","readwrite",Oe=>he.Ls.saveBundleMetadata(Oe,ne))}(u.localStore,_),g._completeWith(U.progress),Promise.resolve(U.Wu)}catch(_){return pa("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var W}),function(u,c,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield iS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Qk(n,e){return function Lk(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const i=at(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ls.getNamedQuery(u,r))}(yield cI(n),e)}))}(wi(n=Cn(n,Or)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class II extends gS{constructor(e){super(),this.firestore=e}convertBytes(e){return new K_(new oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return su.forKey(t,this.firestore,null)}}class SP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new II(e)}get(e){const t=Op(e);return this._delegate.get(t).then(r=>new Y_(this._firestore,new wd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Op(e);return r?(yS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Op(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Op(e);return this._delegate.delete(t),this}}class xP{constructor(e){this._delegate=e}set(e,t,r){const i=Op(e);return r?(yS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Op(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Op(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Z_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Q_(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kp(e,new II(e),t),i.set(t,u)),u}}kp.INSTANCES=new WeakMap;class su{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new su(t,new kr(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new su(t,new kr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jm(this.firestore,eP(this._delegate,e))}catch(t){throw ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof kr&&tP(this._delegate,e)}set(e,t){t=yS("DocumentReference.set",t);try{return t?wP(this._delegate,e,t):wP(this._delegate,e)}catch(r){throw ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?EP(this._delegate,e):EP(this._delegate,e,t,...r)}catch(i){throw ro(i,"updateDoc()","DocumentReference.update()")}}delete(){return function CO(n){return $m(Cn(n.firestore,Or),[new Cm(n._key,Wr.none())])}(this._delegate)}onSnapshot(...e){const t=MP(e),r=PP(e,i=>new Y_(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function _O(n){n=Cn(n,kr);const e=Cn(n.firestore,Or),t=wi(e),r=new qh(e);return function Nk(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,u,c){try{const g=yield function(_,A){const S=at(_);return S.persistence.runTransaction("read document","readonly",U=>S.localDocuments.getDocument(U,A))}(i,u);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=km(g,`Failed to get document '${u} from cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield cI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wd(e,r,n._key,i,new Np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function wO(n){n=Cn(n,kr);const e=Cn(n.firestore,Or);return G1(wi(e),n._key,{source:"server"}).then(t=>mS(e,n,t))}(this._delegate):function vO(n){n=Cn(n,kr);const e=Cn(n.firestore,Or);return G1(wi(e),n._key).then(t=>mS(e,n,t))}(this._delegate),t.then(r=>new Y_(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new su(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function ro(n,e,t){return n.message=n.message.replace(e,t),n}function MP(n){for(const e of n)if("object"==typeof e&&!vS(e))return e;return{}}function PP(n,e){var t,r;let i;return i=vS(n[0])?n[0]:vS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Y_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new su(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _P(this._delegate,e._delegate)}}class Q_ extends Y_{data(e){const t=this._delegate.data(e);return function ob(n,e){n||mt()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}where(e,t,r){try{return new io(this.firestore,zh(this._delegate,function aO(n,e,t){const r=e,i=vI("where",n);return W_._create(i,r,t)}(e,t,r)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,zh(this._delegate,function uO(n,e="asc"){const t=e,r=vI("orderBy",n);return pS._create(r,t)}(e,t)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,zh(this._delegate,function lO(n){return Q1("limit",n),_I._create("limit",n,"F")}(e)))}catch(t){throw ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,zh(this._delegate,function cO(n){return Q1("limitToLast",n),_I._create("limitToLast",n,"L")}(e)))}catch(t){throw ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,zh(this._delegate,function dO(...n){return wI._create("startAt",n,!0)}(...e)))}catch(t){throw ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,zh(this._delegate,function hO(...n){return wI._create("startAfter",n,!1)}(...e)))}catch(t){throw ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,zh(this._delegate,function fO(...n){return EI._create("endBefore",n,!1)}(...e)))}catch(t){throw ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,zh(this._delegate,function pO(...n){return EI._create("endAt",n,!0)}(...e)))}catch(t){throw ro(t,"endAt()","Query.endAt()")}}isEqual(e){return aS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function bO(n){n=Cn(n,vs);const e=Cn(n.firestore,Or),t=wi(e),r=new qh(e);return function kk(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,u,c){try{const g=yield eI(i,u,!0),_=new N1(u,g.sr),A=_.nc(g.documents),S=_.applyChanges(A,!1);c.resolve(S.snapshot)}catch(g){const _=km(g,`Failed to execute query '${u} against cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield cI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Gh(e,r,n,i))}(this._delegate):"server"===e?.source?function IO(n){n=Cn(n,vs);const e=Cn(n.firestore,Or),t=wi(e),r=new qh(e);return q1(t,n._query,{source:"server"}).then(i=>new Gh(e,r,n,i))}(this._delegate):function EO(n){n=Cn(n,vs);const e=Cn(n.firestore,Or),t=wi(e),r=new qh(e);return hP(n._query),q1(t,n._query).then(i=>new Gh(e,r,n,i))}(this._delegate),t.then(r=>new _S(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=MP(e),r=PP(e,i=>new _S(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bP(this._delegate,t,r)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}class ZO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Q_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _S{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Q_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ZO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Q_(this._firestore,r))})}isEqual(e){return _P(this._delegate,e._delegate)}}class jm extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new su(this.firestore,e):null}doc(e){try{return new su(this.firestore,void 0===e?hI(this._delegate):hI(this._delegate,e))}catch(t){throw ro(t,"doc()","CollectionReference.doc()")}}add(e){return function DO(n,e){const t=Cn(n.firestore,Or),r=hI(n),i=bI(n.converter,e);return $m(t,[gI(Pp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new su(this.firestore,t))}isEqual(e){return tP(this._delegate,e._delegate)}withConverter(e){return new jm(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Op(n){return Cn(n,kr)}class wS{constructor(...e){this._delegate=new _d(...e)}static documentId(){return new wS(ei.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof _d&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function UO(){return new lS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=function VO(){return new H_("deleteField")}();return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const t=function BO(...n){return new nO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Fp(t)}static arrayRemove(...e){const t=function $O(...n){return new rO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Fp(t)}static increment(e){const t=function jO(n){return new iO("increment",n)}(e);return t._methodName="FieldValue.increment",new Fp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const KO={Firestore:AP,GeoPoint:fI,Timestamp:Nr,Blob:K_,Transaction:SP,WriteBatch:xP,DocumentReference:su,DocumentSnapshot:Y_,Query:io,QueryDocumentSnapshot:Q_,QuerySnapshot:_S,CollectionReference:jm,FieldPath:wS,FieldValue:Fp,setLogLevel:function WO(n){!function t_(n){Yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function QO(n){(function YO(n,e){n.INTERNAL.registerComponent(new Hf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},KO)))})(n,(e,t)=>new AP(e,t,new qO)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(Dg.Z);var JO=$(6451),CI=$(5363),XO=$(6063);class eF extends ps.x{constructor(e=1/0,t=1/0,r=XO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var tF=$(3099);function RP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,tF.B)({connector:()=>new eF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function NP(n,e){return(0,Nc.m)(e)?ar(()=>n,e):ar(()=>n)}var ES=$(9468),Zh=$(259);class Hm{constructor(e){return e}}class bS{constructor(){return(0,Zh.C6)()}}const IS=new d.OlP("angularfire2._apps"),rF={provide:Hm,useFactory:function nF(n){return n&&1===n.length?n[0]:new Hm((0,Zh.Mq)())},deps:[[new d.FiY,IS]]},iF={provide:bS,deps:[[new d.FiY,IS]]};function sF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hm(r)}}let oF=(()=>{class n{constructor(t){(0,Zh.KN)("angularfire",xn.q4.full,"core"),(0,Zh.KN)("angularfire",xn.q4.full,"app"),(0,Zh.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rF,iF]}),n})();function aF(n,...e){return{ngModule:oF,providers:[{provide:IS,useFactory:sF(n),multi:!0,deps:[d.R0b,d.zs3,xn.HU,...e]}]}}const uF=(0,xn.u3)(Zh.ZF,!0),CS=new Map,kP={activated:!1,tokenObservers:[]},lF={initialized:!1,enabled:!1};function di(n){return CS.get(n)||Object.assign({},kP)}function DI(){return lF}const DS="https://content-firebaseappcheck.googleapis.com/v1",fF="exchangeDebugToken",OP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new In.BH,yield function mF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new In.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _s=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SS(){return SS=(0,Ae.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const U=yield i.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,u)}catch(U){throw _s.create("fetch-network-error",{originalErrorMessage:U?.message})}if(200!==c.status)throw _s.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(U){throw _s.create("fetch-parse-error",{originalErrorMessage:U?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const A=1e3*Number(_[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+A,issuedAtTimeMillis:S}}),SS.apply(this,arguments)}const wF="firebase-app-check-database",EF=1,J_="firebase-app-check-store";let xI=null;function xS(){return xS=(0,Ae.Z)(function*(n,e){const r=(yield function VP(){return xI||(xI=new Promise((n,e)=>{try{const t=indexedDB.open(wF,EF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(_s.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(J_,{keyPath:"compositeKey"})}}catch(t){e(_s.create("storage-open",{originalErrorMessage:t?.message}))}}),xI)}()).transaction(J_,"readwrite"),u=r.objectStore(J_).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var A;g(_s.create("storage-set",{originalErrorMessage:null===(A=_.target.error)||void 0===A?void 0:A.message}))}})}),xS.apply(this,arguments)}const X_=new $u.Yd("@firebase/app-check");function RS(n,e){return(0,In.hl)()?function IF(n,e){return function UP(n,e){return xS.apply(this,arguments)}(function $P(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{X_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FS(){return FS=(0,Ae.Z)(function*(){const n=DI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FS.apply(this,arguments)}const xF={error:"UNKNOWN_ERROR"};function MF(n){return In.US.encodeString(JSON.stringify(n),!1)}function MI(n){return LS.apply(this,arguments)}function LS(){return LS=(0,Ae.Z)(function*(n,e=!1){const t=n.app;!function TS(n){if(!di(n).activated)throw _s.create("use-before-activation",{appName:n.name})}(t);const r=di(t);let u,i=r.token;if(i&&!zm(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(zm(_)?i=_:yield RS(t,void 0))}if(!e&&i&&zm(i))return{token:i.token};let g,c=!1;if(function kS(){return DI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function SI(n,e){return SS.apply(this,arguments)}(function FP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${DS}/projects/${t}/apps/${r}:${fF}?key=${i}`,body:{debug_token:e}}}(t,yield function OS(){return FS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield RS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield di(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?X_.warn(_.message):X_.error(_),u=_}return i?u?g=zm(i)?{token:i.token,internalError:u}:zP(u):(g={token:i.token},r.token=i,yield RS(t,i)):g=zP(u),c&&function HP(n,e){const t=di(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),LS.apply(this,arguments)}function BS(n,e){const t=di(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jP(n){const{app:e}=n,t=di(e);let r=t.tokenRefresher;r||(r=function RF(n){const{app:e}=n;return new gF((0,Ae.Z)(function*(){let r;if(r=di(e).token?yield MI(n,!0):yield MI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=di(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},OP.RETRIAL_MIN_WAIT,OP.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zm(n){return n.expireTimeMillis-Date.now()>0}function zP(n){return{token:MF(xF),error:n}}class NF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=di(this.app);for(const t of e)BS(this.app,t.next);return Promise.resolve()}}const JP="app-check-internal";!function WF(){(0,Ja._registerComponent)(new Hf.wA("app-check",n=>function kF(n,e){return new NF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JP).initialize()})),(0,Ja._registerComponent)(new Hf.wA(JP,n=>function OF(n){return{getToken:e=>MI(n,e),addTokenListener:e=>function US(n,e,t,r){const{app:i}=n,u=di(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&zm(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),jP(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>jP(n))}(n,"INTERNAL",e),removeTokenListener:e=>BS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ja.registerVersion)("@firebase/app-check","0.7.0")}();class ew{constructor(){return(0,xn.vb)("app-check")}}typeof window<"u"&&window;var JF=$(9260);const eR=new d.OlP("angularfire2.auth.use-emulator"),tR=new d.OlP("angularfire2.auth.settings"),nR=new d.OlP("angularfire2.auth.tenant-id"),rR=new d.OlP("angularfire2.auth.langugage-code"),iR=new d.OlP("angularfire2.auth.use-device-language"),sR=new d.OlP("angularfire.auth.persistence"),oR=(n,e,t,r,i,u,c,g)=>(0,Xs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[A,S]of Object.entries(c))_.settings[A]=S;return g&&_.setPersistence(g),_},[t,r,i,u,c,g]);let GS=(()=>{class n{constructor(t,r,i,u,c,g,_,A,S,U,W,ne){const he=new ps.x,Oe=gt(void 0).pipe((0,CI.Q)(c.outsideAngular),ar(()=>u.runOutsideAngular(()=>Promise.resolve().then($.bind($,9568)))),(0,At.U)(()=>(0,Xs.on)(t,u,r)),(0,At.U)(ze=>oR(ze,u,g,A,S,U,_,W)),RP({bufferSize:1,refCount:!1}));if(co(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Oe.pipe(gs()).subscribe();const dt=Oe.pipe(ar(fn=>fn.getRedirectResult().then(yn=>yn,()=>null)),xn.iC,RP({bufferSize:1,refCount:!1})),Gt=Oe.pipe(ar(fn=>new pi.y(yn=>({unsubscribe:u.runOutsideAngular(()=>fn.onAuthStateChanged(Rn=>yn.next(Rn),Rn=>yn.error(Rn),()=>yn.complete()))})))),Nt=Oe.pipe(ar(fn=>new pi.y(yn=>({unsubscribe:u.runOutsideAngular(()=>fn.onIdTokenChanged(Rn=>yn.next(Rn),Rn=>yn.error(Rn),()=>yn.complete()))}))));this.authState=dt.pipe(NP(Gt),(0,ES.R)(c.outsideAngular),(0,CI.Q)(c.insideAngular)),this.user=dt.pipe(NP(Nt),(0,ES.R)(c.outsideAngular),(0,CI.Q)(c.insideAngular)),this.idToken=this.user.pipe(ar(fn=>fn?(0,bn.D)(fn.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(ar(fn=>fn?(0,bn.D)(fn.getIdTokenResult()):gt(null))),this.credential=(0,JO.T)(dt,he,this.authState.pipe(Ai(fn=>!fn))).pipe((0,At.U)(fn=>fn?.user?fn:null),(0,ES.R)(c.outsideAngular),(0,CI.Q)(c.insideAngular))}return(0,Xs.pX)(this,Oe,u,{spy:{apply:(ze,dt,Gt)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&Gt.then(Nt=>he.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xs.Dh),d.LFG(Xs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(xn.HU),d.LFG(eR,8),d.LFG(tR,8),d.LFG(nR,8),d.LFG(rR,8),d.LFG(iR,8),d.LFG(sR,8),d.LFG(ew,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eL=(()=>{class n{constructor(){JF.Z.registerVersion("angularfire",xn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[GS]}),n})();function aR(n,e){return function tL(n,e=K0.z){return new pi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function qS(n,e){return aR(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function RI(n,e){return qS(n,e).pipe(ea(void 0),wh(),(0,At.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),A=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&A&&JSON.stringify(A.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),u}))}function uR(n,e,t){return RI(n,t).pipe(Al((r,i)=>function rL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function iL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return WS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return WS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function mD(n,e=La.y){return n=n??Y0,(0,gi.e)((t,r)=>{let i,u=!0;t.subscribe((0,oi.x)(r,c=>{const g=e(c);(u||!n(i,g))&&(u=!1,i=g,r.next(c))}))})}(),(0,At.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function WS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function lR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=RI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ea(void 0),wh(),Ai(([r,i])=>i.length>0||!r),(0,At.U)(([r,i])=>i),xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Al((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lR(e);return uR(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return qS(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),xn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(xn.iC)}add(e){return this.ref.add(e)}doc(e){return new dR(this.ref.doc(e),this.afs)}}class dR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=hR(r,t);return new cR(i,u,this.afs)}snapshotChanges(){return function nL(n,e){return aR(n,e).pipe(ea(void 0),wh(),(0,At.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(xn.iC)}}class sL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RI(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ai(t=>t.length>0),xn.iC):RI(this.query,this.afs.schedulers.outsideAngular).pipe(xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Al((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lR(e);return uR(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return qS(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),xn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(xn.iC)}}const oL=new d.OlP("angularfire2.enableFirestorePersistence"),aL=new d.OlP("angularfire2.firestore.persistenceSettings"),uL=new d.OlP("angularfire2.firestore.settings"),lL=new d.OlP("angularfire2.firestore.use-emulator");function hR(n,e=(t=>t)){return{query:e(n),ref:n}}let cL=(()=>{class n{constructor(t,r,i,u,c,g,_,A,S,U,W,ne,he,Oe,ze,dt,Gt){this.schedulers=_;const Nt=(0,Xs.on)(t,g,r),fn=S;U&&oR(Nt,g,W,he,Oe,ze,ne,dt),[this.firestore,this.persistenceEnabled$]=(0,Xs.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const yn=g.runOutsideAngular(()=>Nt.firestore());if(u&&yn.settings(u),fn&&yn.useEmulator(...fn),i&&!co(c)){const Rn=()=>{try{return(0,bn.D)(yn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(so){return typeof console<"u"&&console.warn(so),gt(!1)}};return[yn,g.runOutsideAngular(Rn)]}return[yn,gt(!1)]},[u,fn,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=hR(i,r),g=this.schedulers.ngZone.run(()=>u);return new cR(g,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new sL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xs.Dh),d.LFG(Xs.xv,8),d.LFG(oL,8),d.LFG(uL,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(xn.HU),d.LFG(aL,8),d.LFG(lL,8),d.LFG(GS,8),d.LFG(eR,8),d.LFG(tR,8),d.LFG(nR,8),d.LFG(rR,8),d.LFG(iR,8),d.LFG(sR,8),d.LFG(ew,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dL=(()=>{class n{constructor(t){this.af=t}guardarActor(t){let r={id:t.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,sexo:t.sexo,nombrePais:t.nombrePais,banderaPais:t.banderaPais};this.af.collection("actores").add(r)}guardarPelicula(t){let r={id:t.id,nombre:t.nombre,tipo:t.tipo,fechaDeEstreno:t.fechaDeEstreno,cantidadPublico:t.cantidadPublico,fotoPelicula:t.fotoPelicula,actor:t.actor};this.af.collection("peliculas").add(r)}traerListaActores(){return this.af.collection("actores").valueChanges()}traerListaPeliculas(){return this.af.collection("peliculas").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cL))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NI{}class ZS{}class Ed{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ed?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ed;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ed?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(g=>-1===u.indexOf(g)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class hL{encodeKey(e){return fR(e)}encodeValue(e){return fR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const pL=/%(\d[a-f0-9])/gi,gL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fR(n){return encodeURIComponent(n).replace(pL,(e,t)=>gL[t]??e)}function kI(n){return`${n}`}class Kh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,g]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],_=t.get(c)||[];_.push(g),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(kI):[kI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Kh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(kI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class mL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gR(n){return typeof Blob<"u"&&n instanceof Blob}function mR(n){return typeof FormData<"u"&&n instanceof FormData}class tw{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Ed),this.context||(this.context=new mL),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+c}}else this.params=new Kh,this.urlWithParams=t}serializeBody(){return null===this.body?null:pR(this.body)||gR(this.body)||mR(this.body)||function vL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mR(this.body)?null:gR(this.body)?this.body.type||null:pR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,A=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((U,W)=>U.set(W,e.setHeaders[W]),_)),e.setParams&&(A=Object.keys(e.setParams).reduce((U,W)=>U.set(W,e.setParams[W]),A)),new tw(t,r,u,{params:A,headers:_,context:S,reportProgress:g,responseType:i,withCredentials:c})}}var Ni=(()=>((Ni=Ni||{})[Ni.Sent=0]="Sent",Ni[Ni.UploadProgress=1]="UploadProgress",Ni[Ni.ResponseHeader=2]="ResponseHeader",Ni[Ni.DownloadProgress=3]="DownloadProgress",Ni[Ni.Response=4]="Response",Ni[Ni.User=5]="User",Ni))();class KS{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ed,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YS extends KS{constructor(e={}){super(e),this.type=Ni.ResponseHeader}clone(e={}){return new YS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OI extends KS{constructor(e={}){super(e),this.type=Ni.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new OI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yR extends KS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof tw)u=t;else{let _,A;_=i.headers instanceof Ed?i.headers:new Ed(i.headers),i.params&&(A=i.params instanceof Kh?i.params:new Kh({fromObject:i.params})),u=new tw(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:A,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=gt(u).pipe(Ks(_=>this.handler.handle(_)));if(t instanceof tw||"events"===i.observe)return c;const g=c.pipe(Ai(_=>_ instanceof OI));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,At.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,At.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Kh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,QS(i,r))}post(t,r,i={}){return this.request("POST",t,QS(i,r))}put(t,r,i={}){return this.request("PUT",t,QS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function _R(n,e){return e(n)}function _L(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const EL=new d.OlP("HTTP_INTERCEPTORS"),nw=new d.OlP("HTTP_INTERCEPTOR_FNS");function bL(){let n=null;return(e,t)=>(null===n&&(n=((0,d.f3M)(EL,{optional:!0})??[]).reduceRight(_L,_R)),n(e,t))}let wR=(()=>{class n extends NI{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(nw)));this.chain=r.reduceRight((i,u)=>function wL(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),_R)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ZS),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const TL=/^\)\]\}',?\n/;let bR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ne,he)=>i.setRequestHeader(ne,he.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ne=t.detectContentTypeHeader();null!==ne&&i.setRequestHeader("Content-Type",ne)}if(t.responseType){const ne=t.responseType.toLowerCase();i.responseType="json"!==ne?ne:"text"}const u=t.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const ne=i.statusText||"OK",he=new Ed(i.getAllResponseHeaders()),Oe=function AL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new YS({headers:he,status:i.status,statusText:ne,url:Oe}),c},_=()=>{let{headers:ne,status:he,statusText:Oe,url:ze}=g(),dt=null;204!==he&&(dt=typeof i.response>"u"?i.responseText:i.response),0===he&&(he=dt?200:0);let Gt=he>=200&&he<300;if("json"===t.responseType&&"string"==typeof dt){const Nt=dt;dt=dt.replace(TL,"");try{dt=""!==dt?JSON.parse(dt):null}catch(fn){dt=Nt,Gt&&(Gt=!1,dt={error:fn,text:dt})}}Gt?(r.next(new OI({body:dt,headers:ne,status:he,statusText:Oe,url:ze||void 0})),r.complete()):r.error(new yR({error:dt,headers:ne,status:he,statusText:Oe,url:ze||void 0}))},A=ne=>{const{url:he}=g(),Oe=new yR({error:ne,status:i.status||0,statusText:i.statusText||"Unknown Error",url:he||void 0});r.error(Oe)};let S=!1;const U=ne=>{S||(r.next(g()),S=!0);let he={type:Ni.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(he.total=ne.total),"text"===t.responseType&&i.responseText&&(he.partialText=i.responseText),r.next(he)},W=ne=>{let he={type:Ni.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(he.total=ne.total),r.next(he)};return i.addEventListener("load",_),i.addEventListener("error",A),i.addEventListener("timeout",A),i.addEventListener("abort",A),t.reportProgress&&(i.addEventListener("progress",U),null!==u&&i.upload&&i.upload.addEventListener("progress",W)),i.send(u),r.next({type:Ni.Sent}),()=>{i.removeEventListener("error",A),i.removeEventListener("abort",A),i.removeEventListener("load",_),i.removeEventListener("timeout",A),t.reportProgress&&(i.removeEventListener("progress",U),null!==u&&i.upload&&i.upload.removeEventListener("progress",W)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(nl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const JS=new d.OlP("XSRF_ENABLED"),IR=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),CR=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class DR{}let ML=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ws(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(d.Lbi),d.LFG(IR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function PL(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(JS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(DR).getToken(),i=(0,d.f3M)(CR);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ei=(()=>((Ei=Ei||{})[Ei.Interceptors=0]="Interceptors",Ei[Ei.LegacyInterceptors=1]="LegacyInterceptors",Ei[Ei.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ei[Ei.NoXsrfProtection=3]="NoXsrfProtection",Ei[Ei.JsonpSupport=4]="JsonpSupport",Ei[Ei.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ei))();function Gm(n,e){return{\u0275kind:n,\u0275providers:e}}function RL(...n){const e=[vR,bR,wR,{provide:NI,useExisting:wR},{provide:ZS,useExisting:bR},{provide:nw,useValue:PL,multi:!0},{provide:JS,useValue:!0},{provide:DR,useClass:ML}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const TR=new d.OlP("LEGACY_INTERCEPTOR_FN");let kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[RL(Gm(Ei.LegacyInterceptors,[{provide:TR,useFactory:bL},{provide:nw,useExisting:TR,multi:!0}]))]}),n})(),OL=(()=>{class n{constructor(t){this.http=t}obtenerPaises(){return this.http.get("https://restcountries.com/v3.1/all")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){const u=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.pasarPais(u))}),d.TgZ(1,"div",3),d._uU(2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"img",4),d.qZA()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.name.common),d.xp6(2),d.s9C("src",t.flags.png,d.LSH)}}let LL=(()=>{class n{constructor(t){this.httpCountries=t,this.PasamosUnPais=new d.vpe,this.listadoPaises=[]}ngOnInit(){this.traerPaises()}traerPaises(){this.httpCountries.obtenerPaises().subscribe(t=>{for(let r of t)this.listadoPaises.push(r);this.listadoPaises.sort((r,i)=>r.name.common.localeCompare(i.name.common))}),console.log(this.listadoPaises)}pasarPais(t){this.PasamosUnPais.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(OL))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-tabla-paises"]],outputs:{PasamosUnPais:"PasamosUnPais"},decls:2,vars:1,consts:[[1,"contenedor"],["class","row pais",3,"click",4,"ngFor","ngForOf"],[1,"row","pais",3,"click"],[1,"col"],["alt","bandera",2,"width","40px","height","40px","border-radius","50%",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.YNc(1,FL,5,2,"div",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngForOf",r.listadoPaises))},dependencies:[is],styles:[".contenedor[_ngcontent-%COMP%]{height:16rem;overflow:scroll}.pais[_ngcontent-%COMP%]{font-weight:bolder;padding:10px}.pais[_ngcontent-%COMP%]:hover{background:#666;color:#fff;transition:background .5s;cursor:pointer}"]}),n})();function VL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," El nombre es requerido "),d.qZA())}function UL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," El nombre no puede contener espacios "),d.qZA())}function BL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," El apellido es requerido "),d.qZA())}function $L(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," La edad es requerida "),d.qZA())}function jL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," La edad debe ser de 18 a 99 a\xf1os "),d.qZA())}function HL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," El sexo es requerido "),d.qZA())}function zL(n,e){if(1&n&&d._UZ(0,"img",29),2&n){const t=d.oxw();d.s9C("src",t.actor.banderaPais,d.LSH)}}function GL(n,e){1&n&&(d.TgZ(0,"small",28),d._uU(1," El pais es requerido "),d.qZA())}function qL(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-actor-listado",30),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("listadoActoresRecibido",t.actores)}}const WL=[{path:"",component:VC},{path:"bienvenido",component:ky},{path:"peliculaListado",component:Oy},{path:"peliculaAlta",component:Jw},{path:"actorListado",component:Qw},{path:"actor/alta",component:(()=>{class n{constructor(t,r){this.fb=t,this.fs=r,this.actor=new Fl(0,"","","","","",""),this.mostrar=!1,this.titulo="Mostrar listado",this.forma=this.fb.group({nombre:["",[qc.required,this.spacesValidator]],apellido:["",qc.required],nombrePais:["",qc.required],edad:["",[qc.required,qc.min(18),qc.max(99)]],sexo:["",qc.required]}),this.fs.traerListaActores().subscribe(i=>{null!=i&&(this.actores=i)})}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}obtenerPaisSeleccionado(t){this.actor.nombrePais=t.name.common,this.actor.banderaPais=t.flags.png}aceptar(){this.forma&&console.log(this.forma.getRawValue())}guardarActor(t){t.preventDefault(),this.validar()&&(this.fs.guardarActor(this.actor),console.log(this.actores),this.actor=new Fl(0,"","","","","",""),Z0().fire({title:"Registro",text:"Actor registrado!",icon:"success",confirmButtonText:"Ok"}))}validar(){let t=!0;return(""===this.actor.apellido||""===this.actor.nombre||""===this.actor.edad||""===this.actor.banderaPais||""===this.actor.nombrePais||""===this.actor.sexo)&&(t=!1,Z0().fire({title:"Error",text:"Complete todos los campos para registrar",icon:"error",confirmButtonText:"Ok"})),console.log(this.actor),t}MostrarListado(){this.mostrar?(this.titulo="Mostrar listado",this.mostrar=!1):(this.titulo="Cerrar listado",this.mostrar=!0)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fD),d.Y36(dL))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-alta-actor"]],decls:54,vars:16,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["style","color:rgb(255, 0, 0);","class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid","style","color:rgb(255, 0, 0);",4,"ngIf"],["for","dni",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control",3,"ngModel","ngModelChange"],["for","sexo",1,"form-label"],["id","sexo","formControlName","sexo",1,"form-select",3,"ngModel","ngModelChange"],["value","",2,"color","black"],["value","M",2,"color","black"],["value","F",2,"color","black"],[1,"col-md-6","mb-3",2,"width","400px","display","inline-block"],["for","nombrePais",1,"form-label"],[2,"display","flex"],["type","text","readonly","","id","nombrePais","formControlName","nombrePais",1,"form-control",3,"ngModel","ngModelChange"],["style","margin-left: 1rem;width: 50px; height: 50px; ",3,"src",4,"ngIf"],[1,"col-md-6","mb-3",2,"height","10%"],[1,"form-label"],[3,"PasamosUnPais"],[1,"botones"],[1,"btn","btn-primary",2,"margin","10px 10px auto auto",3,"click"],[4,"ngIf"],[1,"invalid",2,"color","rgb(255, 0, 0)"],[2,"margin-left","1rem","width","50px","height","50px",3,"src"],[3,"listadoActoresRecibido"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"form",1),d.NdJ("ngSubmit",function(){return r.aceptar()}),d.TgZ(2,"div",2)(3,"div",3)(4,"label",4),d._uU(5,"Nombre"),d.qZA(),d.TgZ(6,"input",5),d.NdJ("ngModelChange",function(u){return r.actor.nombre=u}),d.qZA(),d.YNc(7,VL,2,0,"small",6),d.YNc(8,UL,2,0,"small",6),d.qZA(),d.TgZ(9,"div",3)(10,"label",7),d._uU(11,"Apellido"),d.qZA(),d.TgZ(12,"input",8),d.NdJ("ngModelChange",function(u){return r.actor.apellido=u}),d.qZA(),d.YNc(13,BL,2,0,"small",9),d.qZA(),d.TgZ(14,"div",3)(15,"label",10),d._uU(16,"Edad"),d.qZA(),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(u){return r.actor.edad=u}),d.qZA(),d.YNc(18,$L,2,0,"small",9),d.YNc(19,jL,2,0,"small",9),d.qZA(),d.TgZ(20,"div",3)(21,"label",12),d._uU(22,"Sexo"),d.qZA(),d._UZ(23,"br"),d.TgZ(24,"select",13),d.NdJ("ngModelChange",function(u){return r.actor.sexo=u}),d.TgZ(25,"option",14),d._uU(26,"Seleccione el sexo"),d.qZA(),d.TgZ(27,"option",15),d._uU(28,"Masculino"),d.qZA(),d.TgZ(29,"option",16),d._uU(30,"Femenino"),d.qZA()(),d.YNc(31,HL,2,0,"small",9),d._UZ(32,"br"),d.qZA(),d.TgZ(33,"div",17)(34,"label",18),d._uU(35,"Pa\xeds"),d.qZA(),d.TgZ(36,"div",19)(37,"input",20),d.NdJ("ngModelChange",function(u){return r.actor.nombrePais=u}),d.qZA(),d.YNc(38,zL,1,1,"img",21),d.qZA(),d.YNc(39,GL,2,0,"small",9),d.qZA(),d.TgZ(40,"div",22)(41,"label",23),d._uU(42,"Seleccione un pais"),d.qZA(),d._UZ(43,"br"),d.TgZ(44,"div")(45,"app-tabla-paises",24),d.NdJ("PasamosUnPais",function(u){return r.obtenerPaisSeleccionado(u)}),d.qZA()()()(),d._UZ(46,"br"),d.TgZ(47,"div",25)(48,"button",26),d.NdJ("click",function(u){return r.guardarActor(u)}),d._uU(49," Registrar"),d.qZA(),d._UZ(50,"br"),d.YNc(51,qL,2,1,"div",27),d.TgZ(52,"button",26),d.NdJ("click",function(){return r.MostrarListado()}),d._uU(53),d.qZA()()()()),2&t&&(d.xp6(1),d.Q6J("formGroup",r.forma),d.xp6(5),d.Q6J("ngModel",r.actor.nombre),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),d.xp6(4),d.Q6J("ngModel",r.actor.apellido),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),d.xp6(4),d.Q6J("ngModel",r.actor.edad),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)&&r.forma.controls.edad.touched),d.xp6(5),d.Q6J("ngModel",r.actor.sexo),d.xp6(7),d.Q6J("ngIf",(null==r.forma.controls.sexo.errors?null:r.forma.controls.sexo.errors.required)&&r.forma.controls.sexo.touched),d.xp6(6),d.Q6J("ngModel",r.actor.nombrePais),d.xp6(1),d.Q6J("ngIf",r.actor.nombrePais),d.xp6(1),d.Q6J("ngIf",(null==r.forma.controls.nombrePais.errors?null:r.forma.controls.nombrePais.errors.required)&&r.forma.controls.nombrePais.touched),d.xp6(12),d.Q6J("ngIf",r.mostrar),d.xp6(2),d.hij(" ",r.titulo,""))},dependencies:[ss,S0,Eg,L0,ng,mg,wg,Gy,g0,jf,ov,Qw,LL],styles:[".container[_ngcontent-%COMP%]{max-width:960px}"]}),n})()}];let ZL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[kC.forRoot(WL),kC]}),n})(),KL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:10,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["href","",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","actor/alta",1,"nav-link"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"a",1),d._uU(2,"B\xfasqueda"),d.qZA(),d.TgZ(3,"button",2),d._UZ(4,"span",3),d.qZA(),d.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),d._uU(9,"Alta actor"),d.qZA()()()()())}}),n})(),YL=(()=>{class n{constructor(){this.title="precuelaparcial"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-navbar")(1,"br")(2,"br")(3,"br")(4,"router-outlet")},dependencies:[sy,KL],styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}"]}),n})();const AR={firebase:{projectId:"precuelaparcialsoria",appId:"1:472286158833:web:a01d008bc3d38d25732e50",storageBucket:"precuelaparcialsoria.appspot.com",apiKey:"AIzaSyAHYfhorkERSRZ_rn-iVZkMUrk6EP-p_h0",authDomain:"precuelaparcialsoria.firebaseapp.com",messagingSenderId:"472286158833"}};var QL=$(8502);class XS{constructor(e){return e}}class xR{constructor(){return(0,xn.vb)("auth")}}const ex=new d.OlP("angularfire2.auth-instances");function XL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new XS(r)}}const e2={provide:xR,deps:[[new d.FiY,ex]]},t2={provide:XS,useFactory:function JL(n,e){const t=(0,xn.JM)("auth",n,e);return t&&new XS(t)},deps:[[new d.FiY,ex],Hm]};let n2=(()=>{class n{constructor(){(0,Zh.KN)("angularfire",xn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[t2,e2]}),n})();function r2(n,...e){return{ngModule:n2,providers:[{provide:ex,useFactory:XL(n),multi:!0,deps:[d.R0b,d.zs3,xn.HU,bS,[new d.FiY,ew],...e]}]}}const i2=(0,xn.u3)(QL.o,!0);class tx{constructor(e){return e}}const MR="firestore",nx=new d.OlP("angularfire2.firestore-instances");function a2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new tx(r)}}const u2={provide:class s2{constructor(){return(0,xn.vb)(MR)}},deps:[[new d.FiY,nx]]},l2={provide:tx,useFactory:function o2(n,e){const t=(0,xn.JM)(MR,n,e);return t&&new tx(t)},deps:[[new d.FiY,nx],Hm]};let c2=(()=>{class n{constructor(){(0,Zh.KN)("angularfire",xn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[l2,u2]}),n})();function d2(n,...e){return{ngModule:c2,providers:[{provide:nx,useFactory:a2(n),multi:!0,deps:[d.R0b,d.zs3,xn.HU,bS,[new d.FiY,xR],[new d.FiY,ew],...e]}]}}const h2=(0,xn.u3)(Hk,!0);let f2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[YL]}),n.\u0275inj=d.cJS({providers:[{provide:Xs.Dh,useValue:AR.firebase}],imports:[Oa,ZL,pD,kL,aF(()=>uF(AR.firebase)),r2(()=>i2()),d2(()=>h2()),Xs.hO,eL,W0]}),n})();Xh().bootstrapModule(f2).catch(n=>console.error(n))},9751:(Dt,le,$)=>{"use strict";$.d(le,{y:()=>ye});var d=$(2961),N=$(727),F=$(8822),se=$(9635),ce=$(2416),ue=$(576),ge=$(2806);let ye=(()=>{class te{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Je=new te;return Je.source=this,Je.operator=Pe,Je}subscribe(Pe,Je,Xe){const Ee=function Z(te){return te&&te instanceof d.Lv||function K(te){return te&&(0,ue.m)(te.next)&&(0,ue.m)(te.error)&&(0,ue.m)(te.complete)}(te)&&(0,N.Nn)(te)}(Pe)?Pe:new d.Hp(Pe,Je,Xe);return(0,ge.x)(()=>{const{operator:xe,source:Ie}=this;Ee.add(xe?xe.call(Ee,Ie):Ie?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Je){Pe.error(Je)}}forEach(Pe,Je){return new(Je=Ce(Je))((Xe,Ee)=>{const xe=new d.Hp({next:Ie=>{try{Pe(Ie)}catch(Be){Ee(Be),xe.unsubscribe()}},error:Ee,complete:Xe});this.subscribe(xe)})}_subscribe(Pe){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Pe)}[F.L](){return this}pipe(...Pe){return(0,se.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ce(Pe))((Je,Xe)=>{let Ee;this.subscribe(xe=>Ee=xe,xe=>Xe(xe),()=>Je(Ee))})}}return te.create=je=>new te(je),te})();function Ce(te){var je;return null!==(je=te??ce.v.Promise)&&void 0!==je?je:Promise}},7579:(Dt,le,$)=>{"use strict";$.d(le,{x:()=>ge});var d=$(9751),N=$(727);const se=(0,$(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=$(8737),ue=$(2806);let ge=(()=>{class Ce extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new ye(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:je,observers:Pe}=this;return te||je?N.Lc:(this.currentObservers=null,Pe.push(Z),new N.w0(()=>{this.currentObservers=null,(0,ce.P)(Pe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:je,isStopped:Pe}=this;te?Z.error(je):Pe&&Z.complete()}asObservable(){const Z=new d.y;return Z.source=this,Z}}return Ce.create=(K,Z)=>new ye(K,Z),Ce})();class ye extends ge{constructor(K,Z){super(),this.destination=K,this.source=Z}next(K){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,K)}error(K){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,K)}complete(){var K,Z;null===(Z=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Z||Z.call(K)}_subscribe(K){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(K))&&void 0!==te?te:N.Lc}}},2961:(Dt,le,$)=>{"use strict";$.d(le,{Hp:()=>Xe,Lv:()=>te});var d=$(576),N=$(727),F=$(2416),se=$(7849);function ce(){}const ue=Ce("C",void 0,void 0);function Ce(Re,Me,ke){return{kind:Re,value:Me,error:ke}}var K=$(3410),Z=$(2806);class te extends N.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,N.Nn)(Me)&&Me.add(this)):this.destination=Be}static create(Me,ke,Ge){return new Xe(Me,ke,Ge)}next(Me){this.isStopped?Ie(function ye(Re){return Ce("N",Re,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ie(function ge(Re){return Ce("E",void 0,Re)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ie(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Pe(Re,Me){return je.call(Re,Me)}class Je{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Me)}catch(Ge){Ee(Ge)}}error(Me){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Me)}catch(Ge){Ee(Ge)}else Ee(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ke){Ee(ke)}}}class Xe extends te{constructor(Me,ke,Ge){let Le;if(super(),(0,d.m)(Me)||!Me)Le={next:Me??void 0,error:ke??void 0,complete:Ge??void 0};else{let oe;this&&F.v.useDeprecatedNextContext?(oe=Object.create(Me),oe.unsubscribe=()=>this.unsubscribe(),Le={next:Me.next&&Pe(Me.next,oe),error:Me.error&&Pe(Me.error,oe),complete:Me.complete&&Pe(Me.complete,oe)}):Le=Me}this.destination=new Je(Le)}}function Ee(Re){F.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Re):(0,se.h)(Re)}function Ie(Re,Me){const{onStoppedNotification:ke}=F.v;ke&&K.z.setTimeout(()=>ke(Re,Me))}const Be={closed:!0,next:ce,error:function xe(Re){throw Re},complete:ce}},727:(Dt,le,$)=>{"use strict";$.d(le,{Lc:()=>ue,w0:()=>ce,Nn:()=>ge});var d=$(576);const F=(0,$(3888).d)(Ce=>function(Z){Ce(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,je)=>`${je+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=$(8737);class ce{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Pe of Z)Pe.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Pe){K=Pe instanceof F?Pe.errors:[Pe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Pe of je)try{ye(Pe)}catch(Je){K=K??[],Je instanceof F?K=[...K,...Je.errors]:K.push(Je)}}if(K)throw new F(K)}}add(K){var Z;if(K&&K!==this)if(this.closed)ye(K);else{if(K instanceof ce){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(K)}}_hasParent(K){const{_parentage:Z}=this;return Z===K||Array.isArray(Z)&&Z.includes(K)}_addParent(K){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(K),Z):Z?[Z,K]:K}_removeParent(K){const{_parentage:Z}=this;Z===K?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,K)}remove(K){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,K),K instanceof ce&&K._removeParent(this)}}ce.EMPTY=(()=>{const Ce=new ce;return Ce.closed=!0,Ce})();const ue=ce.EMPTY;function ge(Ce){return Ce instanceof ce||Ce&&"closed"in Ce&&(0,d.m)(Ce.remove)&&(0,d.m)(Ce.add)&&(0,d.m)(Ce.unsubscribe)}function ye(Ce){(0,d.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Dt,le,$)=>{"use strict";$.d(le,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,le,$)=>{"use strict";$.d(le,{E:()=>N});const N=new($(9751).y)(ce=>ce.complete())},8996:(Dt,le,$)=>{"use strict";$.d(le,{D:()=>Me});var d=$(8421),N=$(5363),F=$(9468),ue=$(9751),ye=$(2202),Ce=$(576),K=$(9672);function te(ke,Ge){if(!ke)throw new Error("Iterable cannot be null");return new ue.y(Le=>{(0,K.f)(Le,Ge,()=>{const oe=ke[Symbol.asyncIterator]();(0,K.f)(Le,Ge,()=>{oe.next().then(et=>{et.done?Le.complete():Le.next(et.value)})},0,!0)})})}var je=$(3670),Pe=$(8239),Je=$(1144),Xe=$(6495),Ee=$(2206),xe=$(4532),Ie=$(3260);function Me(ke,Ge){return Ge?function Re(ke,Ge){if(null!=ke){if((0,je.c)(ke))return function se(ke,Ge){return(0,d.Xf)(ke).pipe((0,F.R)(Ge),(0,N.Q)(Ge))}(ke,Ge);if((0,Je.z)(ke))return function ge(ke,Ge){return new ue.y(Le=>{let oe=0;return Ge.schedule(function(){oe===ke.length?Le.complete():(Le.next(ke[oe++]),Le.closed||this.schedule())})})}(ke,Ge);if((0,Pe.t)(ke))return function ce(ke,Ge){return(0,d.Xf)(ke).pipe((0,F.R)(Ge),(0,N.Q)(Ge))}(ke,Ge);if((0,Ee.D)(ke))return te(ke,Ge);if((0,Xe.T)(ke))return function Z(ke,Ge){return new ue.y(Le=>{let oe;return(0,K.f)(Le,Ge,()=>{oe=ke[ye.h](),(0,K.f)(Le,Ge,()=>{let et,Ct;try{({value:et,done:Ct}=oe.next())}catch(rt){return void Le.error(rt)}Ct?Le.complete():Le.next(et)},0,!0)}),()=>(0,Ce.m)(oe?.return)&&oe.return()})}(ke,Ge);if((0,Ie.L)(ke))return function Be(ke,Ge){return te((0,Ie.Q)(ke),Ge)}(ke,Ge)}throw(0,xe.z)(ke)}(ke,Ge):(0,d.Xf)(ke)}},8421:(Dt,le,$)=>{"use strict";$.d(le,{Xf:()=>je});var d=$(655),N=$(1144),F=$(8239),se=$(9751),ce=$(3670),ue=$(2206),ge=$(4532),ye=$(6495),Ce=$(3260),K=$(576),Z=$(7849),te=$(8822);function je(Re){if(Re instanceof se.y)return Re;if(null!=Re){if((0,ce.c)(Re))return function Pe(Re){return new se.y(Me=>{const ke=Re[te.L]();if((0,K.m)(ke.subscribe))return ke.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,N.z)(Re))return function Je(Re){return new se.y(Me=>{for(let ke=0;ke<Re.length&&!Me.closed;ke++)Me.next(Re[ke]);Me.complete()})}(Re);if((0,F.t)(Re))return function Xe(Re){return new se.y(Me=>{Re.then(ke=>{Me.closed||(Me.next(ke),Me.complete())},ke=>Me.error(ke)).then(null,Z.h)})}(Re);if((0,ue.D)(Re))return xe(Re);if((0,ye.T)(Re))return function Ee(Re){return new se.y(Me=>{for(const ke of Re)if(Me.next(ke),Me.closed)return;Me.complete()})}(Re);if((0,Ce.L)(Re))return function Ie(Re){return xe((0,Ce.Q)(Re))}(Re)}throw(0,ge.z)(Re)}function xe(Re){return new se.y(Me=>{(function Be(Re,Me){var ke,Ge,Le,oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ke=(0,d.KL)(Re);!(Ge=yield ke.next()).done;)if(Me.next(Ge.value),Me.closed)return}catch(et){Le={error:et}}finally{try{Ge&&!Ge.done&&(oe=ke.return)&&(yield oe.call(ke))}finally{if(Le)throw Le.error}}Me.complete()})})(Re,Me).catch(ke=>Me.error(ke))})}},6451:(Dt,le,$)=>{"use strict";$.d(le,{T:()=>ue});var d=$(8189),N=$(8421),F=$(515),se=$(7669),ce=$(8996);function ue(...ge){const ye=(0,se.yG)(ge),Ce=(0,se._6)(ge,1/0),K=ge;return K.length?1===K.length?(0,N.Xf)(K[0]):(0,d.J)(Ce)((0,ce.D)(K,ye)):F.E}},5403:(Dt,le,$)=>{"use strict";$.d(le,{x:()=>N});var d=$(2961);function N(se,ce,ue,ge,ye){return new F(se,ce,ue,ge,ye)}class F extends d.Lv{constructor(ce,ue,ge,ye,Ce,K){super(ce),this.onFinalize=Ce,this.shouldUnsubscribe=K,this._next=ue?function(Z){try{ue(Z)}catch(te){ce.error(te)}}:super._next,this._error=ye?function(Z){try{ye(Z)}catch(te){ce.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(Z){ce.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(Dt,le,$)=>{"use strict";$.d(le,{U:()=>F});var d=$(4482),N=$(5403);function F(se,ce){return(0,d.e)((ue,ge)=>{let ye=0;ue.subscribe((0,N.x)(ge,Ce=>{ge.next(se.call(ce,Ce,ye++))}))})}},8189:(Dt,le,$)=>{"use strict";$.d(le,{J:()=>F});var d=$(5577),N=$(4671);function F(se=1/0){return(0,d.z)(N.y,se)}},5577:(Dt,le,$)=>{"use strict";$.d(le,{z:()=>ye});var d=$(4004),N=$(8421),F=$(4482),se=$(9672),ce=$(5403),ge=$(576);function ye(Ce,K,Z=1/0){return(0,ge.m)(K)?ye((te,je)=>(0,d.U)((Pe,Je)=>K(te,Pe,je,Je))((0,N.Xf)(Ce(te,je))),Z):("number"==typeof K&&(Z=K),(0,F.e)((te,je)=>function ue(Ce,K,Z,te,je,Pe,Je,Xe){const Ee=[];let xe=0,Ie=0,Be=!1;const Re=()=>{Be&&!Ee.length&&!xe&&K.complete()},Me=Ge=>xe<te?ke(Ge):Ee.push(Ge),ke=Ge=>{Pe&&K.next(Ge),xe++;let Le=!1;(0,N.Xf)(Z(Ge,Ie++)).subscribe((0,ce.x)(K,oe=>{je?.(oe),Pe?Me(oe):K.next(oe)},()=>{Le=!0},void 0,()=>{if(Le)try{for(xe--;Ee.length&&xe<te;){const oe=Ee.shift();Je?(0,se.f)(K,Je,()=>ke(oe)):ke(oe)}Re()}catch(oe){K.error(oe)}}))};return Ce.subscribe((0,ce.x)(K,Me,()=>{Be=!0,Re()})),()=>{Xe?.()}}(te,je,Ce,Z)))}},5363:(Dt,le,$)=>{"use strict";$.d(le,{Q:()=>se});var d=$(9672),N=$(4482),F=$(5403);function se(ce,ue=0){return(0,N.e)((ge,ye)=>{ge.subscribe((0,F.x)(ye,Ce=>(0,d.f)(ye,ce,()=>ye.next(Ce),ue),()=>(0,d.f)(ye,ce,()=>ye.complete(),ue),Ce=>(0,d.f)(ye,ce,()=>ye.error(Ce),ue)))})}},3099:(Dt,le,$)=>{"use strict";$.d(le,{B:()=>ce});var d=$(8421),N=$(7579),F=$(2961),se=$(4482);function ce(ge={}){const{connector:ye=(()=>new N.x),resetOnError:Ce=!0,resetOnComplete:K=!0,resetOnRefCountZero:Z=!0}=ge;return te=>{let je,Pe,Je,Xe=0,Ee=!1,xe=!1;const Ie=()=>{Pe?.unsubscribe(),Pe=void 0},Be=()=>{Ie(),je=Je=void 0,Ee=xe=!1},Re=()=>{const Me=je;Be(),Me?.unsubscribe()};return(0,se.e)((Me,ke)=>{Xe++,!xe&&!Ee&&Ie();const Ge=Je=Je??ye();ke.add(()=>{Xe--,0===Xe&&!xe&&!Ee&&(Pe=ue(Re,Z))}),Ge.subscribe(ke),!je&&Xe>0&&(je=new F.Hp({next:Le=>Ge.next(Le),error:Le=>{xe=!0,Ie(),Pe=ue(Be,Ce,Le),Ge.error(Le)},complete:()=>{Ee=!0,Ie(),Pe=ue(Be,K),Ge.complete()}}),(0,d.Xf)(Me).subscribe(je))})(te)}}function ue(ge,ye,...Ce){if(!0===ye)return void ge();if(!1===ye)return;const K=new F.Hp({next:()=>{K.unsubscribe(),ge()}});return(0,d.Xf)(ye(...Ce)).subscribe(K)}},9468:(Dt,le,$)=>{"use strict";$.d(le,{R:()=>N});var d=$(4482);function N(F,se=0){return(0,d.e)((ce,ue)=>{ue.add(F.schedule(()=>ce.subscribe(ue),se))})}},8505:(Dt,le,$)=>{"use strict";$.d(le,{b:()=>ce});var d=$(576),N=$(4482),F=$(5403),se=$(4671);function ce(ue,ge,ye){const Ce=(0,d.m)(ue)||ge||ye?{next:ue,error:ge,complete:ye}:ue;return Ce?(0,N.e)((K,Z)=>{var te;null===(te=Ce.subscribe)||void 0===te||te.call(Ce);let je=!0;K.subscribe((0,F.x)(Z,Pe=>{var Je;null===(Je=Ce.next)||void 0===Je||Je.call(Ce,Pe),Z.next(Pe)},()=>{var Pe;je=!1,null===(Pe=Ce.complete)||void 0===Pe||Pe.call(Ce),Z.complete()},Pe=>{var Je;je=!1,null===(Je=Ce.error)||void 0===Je||Je.call(Ce,Pe),Z.error(Pe)},()=>{var Pe,Je;je&&(null===(Pe=Ce.unsubscribe)||void 0===Pe||Pe.call(Ce)),null===(Je=Ce.finalize)||void 0===Je||Je.call(Ce)}))}):se.y}},4408:(Dt,le,$)=>{"use strict";$.d(le,{o:()=>ce});var d=$(727);class N extends d.w0{constructor(ge,ye){super()}schedule(ge,ye=0){return this}}const F={setInterval(ue,ge,...ye){const{delegate:Ce}=F;return Ce?.setInterval?Ce.setInterval(ue,ge,...ye):setInterval(ue,ge,...ye)},clearInterval(ue){const{delegate:ge}=F;return(ge?.clearInterval||clearInterval)(ue)},delegate:void 0};var se=$(8737);class ce extends N{constructor(ge,ye){super(ge,ye),this.scheduler=ge,this.work=ye,this.pending=!1}schedule(ge,ye=0){var Ce;if(this.closed)return this;this.state=ge;const K=this.id,Z=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Z,K,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(Z,this.id,ye),this}requestAsyncId(ge,ye,Ce=0){return F.setInterval(ge.flush.bind(ge,this),Ce)}recycleAsyncId(ge,ye,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return ye;null!=ye&&F.clearInterval(ye)}execute(ge,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(ge,ye);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ye){let K,Ce=!1;try{this.work(ge)}catch(Z){Ce=!0,K=Z||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ye}=this,{actions:Ce}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ce,this),null!=ge&&(this.id=this.recycleAsyncId(ye,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,le,$)=>{"use strict";$.d(le,{v:()=>F});var d=$(6063);class N{constructor(ce,ue=N.now){this.schedulerActionCtor=ce,this.now=ue}schedule(ce,ue=0,ge){return new this.schedulerActionCtor(this,ce).schedule(ge,ue)}}N.now=d.l.now;class F extends N{constructor(ce,ue=N.now){super(ce,ue),this.actions=[],this._active=!1}flush(ce){const{actions:ue}=this;if(this._active)return void ue.push(ce);let ge;this._active=!0;do{if(ge=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this._active=!1,ge){for(;ce=ue.shift();)ce.unsubscribe();throw ge}}}},4986:(Dt,le,$)=>{"use strict";$.d(le,{z:()=>F});var d=$(4408);const F=new($(7565).v)(d.o)},6063:(Dt,le,$)=>{"use strict";$.d(le,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Dt,le,$)=>{"use strict";$.d(le,{z:()=>d});const d={setTimeout(N,F,...se){const{delegate:ce}=d;return ce?.setTimeout?ce.setTimeout(N,F,...se):setTimeout(N,F,...se)},clearTimeout(N){const{delegate:F}=d;return(F?.clearTimeout||clearTimeout)(N)},delegate:void 0}},2202:(Dt,le,$)=>{"use strict";$.d(le,{h:()=>N});const N=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,le,$)=>{"use strict";$.d(le,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,le,$)=>{"use strict";$.d(le,{_6:()=>ue,jO:()=>se,yG:()=>ce});var d=$(576);function F(ge){return ge[ge.length-1]}function se(ge){return(0,d.m)(F(ge))?ge.pop():void 0}function ce(ge){return function N(ge){return ge&&(0,d.m)(ge.schedule)}(F(ge))?ge.pop():void 0}function ue(ge,ye){return"number"==typeof F(ge)?ge.pop():ye}},8737:(Dt,le,$)=>{"use strict";function d(N,F){if(N){const se=N.indexOf(F);0<=se&&N.splice(se,1)}}$.d(le,{P:()=>d})},3888:(Dt,le,$)=>{"use strict";function d(N){const se=N(ce=>{Error.call(ce),ce.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}$.d(le,{d:()=>d})},2806:(Dt,le,$)=>{"use strict";$.d(le,{O:()=>se,x:()=>F});var d=$(2416);let N=null;function F(ce){if(d.v.useDeprecatedSynchronousErrorHandling){const ue=!N;if(ue&&(N={errorThrown:!1,error:null}),ce(),ue){const{errorThrown:ge,error:ye}=N;if(N=null,ge)throw ye}}else ce()}function se(ce){d.v.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=ce)}},9672:(Dt,le,$)=>{"use strict";function d(N,F,se,ce=0,ue=!1){const ge=F.schedule(function(){se(),ue?N.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(N.add(ge),!ue)return ge}$.d(le,{f:()=>d})},4671:(Dt,le,$)=>{"use strict";function d(N){return N}$.d(le,{y:()=>d})},1144:(Dt,le,$)=>{"use strict";$.d(le,{z:()=>d});const d=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(Dt,le,$)=>{"use strict";$.d(le,{D:()=>N});var d=$(576);function N(F){return Symbol.asyncIterator&&(0,d.m)(F?.[Symbol.asyncIterator])}},576:(Dt,le,$)=>{"use strict";function d(N){return"function"==typeof N}$.d(le,{m:()=>d})},3670:(Dt,le,$)=>{"use strict";$.d(le,{c:()=>F});var d=$(8822),N=$(576);function F(se){return(0,N.m)(se[d.L])}},6495:(Dt,le,$)=>{"use strict";$.d(le,{T:()=>F});var d=$(2202),N=$(576);function F(se){return(0,N.m)(se?.[d.h])}},8239:(Dt,le,$)=>{"use strict";$.d(le,{t:()=>N});var d=$(576);function N(F){return(0,d.m)(F?.then)}},3260:(Dt,le,$)=>{"use strict";$.d(le,{L:()=>se,Q:()=>F});var d=$(655),N=$(576);function F(ce){return(0,d.FC)(this,arguments,function*(){const ge=ce.getReader();try{for(;;){const{value:ye,done:Ce}=yield(0,d.qq)(ge.read());if(Ce)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ye)}}finally{ge.releaseLock()}})}function se(ce){return(0,N.m)(ce?.getReader)}},4482:(Dt,le,$)=>{"use strict";$.d(le,{A:()=>N,e:()=>F});var d=$(576);function N(se){return(0,d.m)(se?.lift)}function F(se){return ce=>{if(N(ce))return ce.lift(function(ue){try{return se(ue,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Dt,le,$)=>{"use strict";$.d(le,{U:()=>F,z:()=>N});var d=$(4671);function N(...se){return F(se)}function F(se){return 0===se.length?d.y:1===se.length?se[0]:function(ue){return se.reduce((ge,ye)=>ye(ge),ue)}}},7849:(Dt,le,$)=>{"use strict";$.d(le,{h:()=>F});var d=$(2416),N=$(3410);function F(se){N.z.setTimeout(()=>{const{onUnhandledError:ce}=d.v;if(!ce)throw se;ce(se)})}},4532:(Dt,le,$)=>{"use strict";function d(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(le,{z:()=>d})},5226:function(Dt){Dt.exports=function(){"use strict";var le={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const d=I=>{const D={};for(const R in I)D[I[R]]="swal2-"+I[R];return D},N=d(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),F=d(["success","warning","info","question","error"]),se="SweetAlert2:",ue=I=>I.charAt(0).toUpperCase()+I.slice(1),ge=I=>{console.warn(`${se} ${"object"==typeof I?I.join(" "):I}`)},ye=I=>{console.error(`${se} ${I}`)},Ce=[],Z=(I,D)=>{(I=>{Ce.includes(I)||(Ce.push(I),ge(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${D}" instead.`)},te=I=>"function"==typeof I?I():I,je=I=>I&&"function"==typeof I.toPromise,Pe=I=>je(I)?I.toPromise():Promise.resolve(I),Je=I=>I&&Promise.resolve(I)===I,Xe=()=>document.body.querySelector(`.${N.container}`),Ee=I=>{const D=Xe();return D?D.querySelector(I):null},xe=I=>Ee(`.${I}`),Ie=()=>xe(N.popup),Be=()=>xe(N.icon),Me=()=>xe(N.title),ke=()=>xe(N["html-container"]),Ge=()=>xe(N.image),Le=()=>xe(N["progress-steps"]),oe=()=>xe(N["validation-message"]),et=()=>Ee(`.${N.actions} .${N.confirm}`),Ct=()=>Ee(`.${N.actions} .${N.cancel}`),rt=()=>Ee(`.${N.actions} .${N.deny}`),lt=()=>Ee(`.${N.loader}`),ve=()=>xe(N.actions),we=()=>xe(N.footer),Se=()=>xe(N["timer-progress-bar"]),Ne=()=>xe(N.close),qe=()=>{const I=Array.from(Ie().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,z)=>{const be=parseInt(R.getAttribute("tabindex")),It=parseInt(z.getAttribute("tabindex"));return be>It?1:be<It?-1:0}),D=Array.from(Ie().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(I=>{const D=[];for(let R=0;R<I.length;R++)-1===D.indexOf(I[R])&&D.push(I[R]);return D})(I.concat(D)).filter(R=>qn(R))},ht=()=>vt(document.body,N.shown)&&!vt(document.body,N["toast-shown"])&&!vt(document.body,N["no-backdrop"]),We=()=>Ie()&&vt(Ie(),N.toast),wt={previousBodyPadding:null},Tt=(I,D)=>{if(I.textContent="",D){const z=(new DOMParser).parseFromString(D,"text/html");Array.from(z.querySelector("head").childNodes).forEach(be=>{I.appendChild(be)}),Array.from(z.querySelector("body").childNodes).forEach(be=>{be instanceof HTMLVideoElement||be instanceof HTMLAudioElement?I.appendChild(be.cloneNode(!0)):I.appendChild(be)})}},vt=(I,D)=>{if(!D)return!1;const R=D.split(/\s+/);for(let z=0;z<R.length;z++)if(!I.classList.contains(R[z]))return!1;return!0},gn=(I,D,R)=>{if(((I,D)=>{Array.from(I.classList).forEach(R=>{!Object.values(N).includes(R)&&!Object.values(F).includes(R)&&!Object.values(D.showClass).includes(R)&&I.classList.remove(R)})})(I,D),D.customClass&&D.customClass[R]){if("string"!=typeof D.customClass[R]&&!D.customClass[R].forEach)return void ge(`Invalid type of customClass.${R}! Expected string or iterable object, got "${typeof D.customClass[R]}"`);Ut(I,D.customClass[R])}},An=(I,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return I.querySelector(`.${N.popup} > .${N[D]}`);case"checkbox":return I.querySelector(`.${N.popup} > .${N.checkbox} input`);case"radio":return I.querySelector(`.${N.popup} > .${N.radio} input:checked`)||I.querySelector(`.${N.popup} > .${N.radio} input:first-child`);case"range":return I.querySelector(`.${N.popup} > .${N.range} input`);default:return I.querySelector(`.${N.popup} > .${N.input}`)}},wr=I=>{if(I.focus(),"file"!==I.type){const D=I.value;I.value="",I.value=D}},Qn=(I,D,R)=>{!I||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(z=>{Array.isArray(I)?I.forEach(be=>{R?be.classList.add(z):be.classList.remove(z)}):R?I.classList.add(z):I.classList.remove(z)}))},Ut=(I,D)=>{Qn(I,D,!0)},Un=(I,D)=>{Qn(I,D,!1)},Jn=(I,D)=>{const R=Array.from(I.children);for(let z=0;z<R.length;z++){const be=R[z];if(be instanceof HTMLElement&&vt(be,D))return be}},Fr=(I,D,R)=>{R===`${parseInt(R)}`&&(R=parseInt(R)),R||0===parseInt(R)?I.style[D]="number"==typeof R?`${R}px`:R:I.style.removeProperty(D)},Bn=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},cn=I=>{I.style.display="none"},ft=(I,D,R,z)=>{const be=I.querySelector(D);be&&(be.style[R]=z)},Nn=function(I,D){D?Bn(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):cn(I)},qn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Er=I=>I.scrollHeight>I.clientHeight,Lr=I=>{const D=window.getComputedStyle(I),R=parseFloat(D.getPropertyValue("animation-duration")||"0"),z=parseFloat(D.getPropertyValue("transition-duration")||"0");return R>0||z>0},hn=function(I){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Se();qn(R)&&(D&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition=`width ${I/1e3}s linear`,R.style.width="0%"},10))},Ye={},br=I=>new Promise(D=>{if(!I)return D();const R=window.scrollX,z=window.scrollY;Ye.restoreFocusTimeout=setTimeout(()=>{Ye.previousActiveElement instanceof HTMLElement?(Ye.previousActiveElement.focus(),Ye.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(R,z)}),$n=()=>typeof window>"u"||typeof document>"u",ri=`\n <div aria-labelledby="${N.title}" aria-describedby="${N["html-container"]}" class="${N.popup}" tabindex="-1">\n   <button type="button" class="${N.close}"></button>\n   <ul class="${N["progress-steps"]}"></ul>\n   <div class="${N.icon}"></div>\n   <img class="${N.image}" />\n   <h2 class="${N.title}" id="${N.title}"></h2>\n   <div class="${N["html-container"]}" id="${N["html-container"]}"></div>\n   <input class="${N.input}" />\n   <input type="file" class="${N.file}" />\n   <div class="${N.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${N.select}"></select>\n   <div class="${N.radio}"></div>\n   <label for="${N.checkbox}" class="${N.checkbox}">\n     <input type="checkbox" />\n     <span class="${N.label}"></span>\n   </label>\n   <textarea class="${N.textarea}"></textarea>\n   <div class="${N["validation-message"]}" id="${N["validation-message"]}"></div>\n   <div class="${N.actions}">\n     <div class="${N.loader}"></div>\n     <button type="button" class="${N.confirm}"></button>\n     <button type="button" class="${N.deny}"></button>\n     <button type="button" class="${N.cancel}"></button>\n   </div>\n   <div class="${N.footer}"></div>\n   <div class="${N["timer-progress-bar-container"]}">\n     <div class="${N["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Fn=()=>{Ye.currentInstance.resetValidationMessage()},Zt=I=>{const D=(()=>{const I=Xe();return!!I&&(I.remove(),Un([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0)})();if($n())return void ye("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=N.container,D&&Ut(R,N["no-transition"]),Tt(R,ri);const z=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);z.appendChild(R),(I=>{const D=Ie();D.setAttribute("role",I.toast?"alert":"dialog"),D.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||D.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Ut(Xe(),N.rtl)})(z),(()=>{const I=Ie(),D=Jn(I,N.input),R=Jn(I,N.file),z=I.querySelector(`.${N.range} input`),be=I.querySelector(`.${N.range} output`),It=Jn(I,N.select),En=I.querySelector(`.${N.checkbox} input`),yr=Jn(I,N.textarea);D.oninput=Fn,R.onchange=Fn,It.onchange=Fn,En.onchange=Fn,yr.oninput=Fn,z.oninput=()=>{Fn(),be.value=z.value},z.onchange=()=>{Fn(),be.value=z.value}})()},jn=(I,D)=>{I instanceof HTMLElement?D.appendChild(I):"object"==typeof I?Hn(I,D):I&&Tt(D,I)},Hn=(I,D)=>{I.jquery?Ir(D,I):Tt(D,I.toString())},Ir=(I,D)=>{if(I.textContent="",0 in D)for(let R=0;R in D;R++)I.appendChild(D[R].cloneNode(!0));else I.appendChild(D.cloneNode(!0))},kn=(()=>{if($n())return!1;const I=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in D)if(Object.prototype.hasOwnProperty.call(D,R)&&typeof I.style[R]<"u")return D[R];return!1})(),Vr=(I,D)=>{const R=ve(),z=lt();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Bn(R):cn(R),gn(R,D,"actions"),function Kr(I,D,R){const z=et(),be=rt(),It=Ct();G(z,"confirm",R),G(be,"deny",R),G(It,"cancel",R),function q(I,D,R,z){z.buttonsStyling?(Ut([I,D,R],N.styled),z.confirmButtonColor&&(I.style.backgroundColor=z.confirmButtonColor,Ut(I,N["default-outline"])),z.denyButtonColor&&(D.style.backgroundColor=z.denyButtonColor,Ut(D,N["default-outline"])),z.cancelButtonColor&&(R.style.backgroundColor=z.cancelButtonColor,Ut(R,N["default-outline"]))):Un([I,D,R],N.styled)}(z,be,It,R),R.reverseButtons&&(R.toast?(I.insertBefore(It,z),I.insertBefore(be,z)):(I.insertBefore(It,D),I.insertBefore(be,D),I.insertBefore(z,D)))}(R,z,D),Tt(z,D.loaderHtml),gn(z,D,"loader")};function G(I,D,R){Nn(I,R[`show${ue(D)}Button`],"inline-block"),Tt(I,R[`${D}ButtonText`]),I.setAttribute("aria-label",R[`${D}ButtonAriaLabel`]),I.className=N[D],gn(I,R,`${D}Button`),Ut(I,R[`${D}ButtonClass`])}const B=(I,D)=>{const R=Xe();R&&(function O(I,D){"string"==typeof D?I.style.background=D:D||Ut([document.documentElement,document.body],N["no-backdrop"])}(R,D.backdrop),function Q(I,D){D in N?Ut(I,N[D]):(ge('The "position" parameter is not valid, defaulting to "center"'),Ut(I,N.center))}(R,D.position),function Te(I,D){if(D&&"string"==typeof D){const R=`grow-${D}`;R in N&&Ut(I,N[R])}}(R,D.grow),gn(R,D,"container"))};const ut=["input","file","range","select","radio","checkbox","textarea"],Mt=I=>{if(!re[I.input])return void ye(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const D=zi(I.input),R=re[I.input](D,I);Bn(D),I.inputAutoFocus&&setTimeout(()=>{wr(R)})},Lt=(I,D)=>{const R=An(Ie(),I);if(R){(I=>{for(let D=0;D<I.attributes.length;D++){const R=I.attributes[D].name;["type","value","style"].includes(R)||I.removeAttribute(R)}})(R);for(const z in D)R.setAttribute(z,D[z])}},Sn=I=>{const D=zi(I.input);"object"==typeof I.customClass&&Ut(D,I.customClass.input)},qt=(I,D)=>{(!I.placeholder||D.inputPlaceholder)&&(I.placeholder=D.inputPlaceholder)},Zn=(I,D,R)=>{if(R.inputLabel){I.id=N.input;const z=document.createElement("label"),be=N["input-label"];z.setAttribute("for",I.id),z.className=be,"object"==typeof R.customClass&&Ut(z,R.customClass.inputLabel),z.innerText=R.inputLabel,D.insertAdjacentElement("beforebegin",z)}},zi=I=>Jn(Ie(),N[I]||N.input),me=(I,D)=>{["string","number"].includes(typeof D)?I.value=`${D}`:Je(D)||ge(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof D}"`)},re={};re.text=re.email=re.password=re.number=re.tel=re.url=(I,D)=>(me(I,D.inputValue),Zn(I,I,D),qt(I,D),I.type=D.input,I),re.file=(I,D)=>(Zn(I,I,D),qt(I,D),I),re.range=(I,D)=>{const R=I.querySelector("input"),z=I.querySelector("output");return me(R,D.inputValue),R.type=D.input,me(z,D.inputValue),Zn(R,I,D),I},re.select=(I,D)=>{if(I.textContent="",D.inputPlaceholder){const R=document.createElement("option");Tt(R,D.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,I.appendChild(R)}return Zn(I,I,D),I},re.radio=I=>(I.textContent="",I),re.checkbox=(I,D)=>{const R=An(Ie(),"checkbox");R.value="1",R.id=N.checkbox,R.checked=Boolean(D.inputValue);const z=I.querySelector("span");return Tt(z,D.inputPlaceholder),R},re.textarea=(I,D)=>{me(I,D.inputValue),qt(I,D),Zn(I,I,D);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(Ie()).width);new MutationObserver(()=>{const It=I.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(I);Ie().style.width=It>z?`${It}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Ue=(I,D)=>{const R=ke();gn(R,D,"htmlContainer"),D.html?(jn(D.html,R),Bn(R,"block")):D.text?(R.textContent=D.text,Bn(R,"block")):cn(R),((I,D)=>{const R=Ie(),z=le.innerParams.get(I),be=!z||D.input!==z.input;ut.forEach(It=>{const En=Jn(R,N[It]);Lt(It,D.inputAttributes),En.className=N[It],be&&cn(En)}),D.input&&(be&&Mt(D),Sn(D))})(I,D)},Jt=(I,D)=>{for(const R in F)D.icon!==R&&Un(I,F[R]);Ut(I,F[D.icon]),fr(I,D),bt(),gn(I,D,"icon")},bt=()=>{const I=Ie(),D=window.getComputedStyle(I).getPropertyValue("background-color"),R=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<R.length;z++)R[z].style.backgroundColor=D},Cr=(I,D)=>{let z,R=I.innerHTML;D.iconHtml?z=Oo(D.iconHtml):"success"===D.icon?(z='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):z="error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Oo({question:"?",warning:"!",info:"i"}[D.icon]),R.trim()!==z.trim()&&Tt(I,z)},fr=(I,D)=>{if(D.iconColor){I.style.color=D.iconColor,I.style.borderColor=D.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ft(I,R,"backgroundColor",D.iconColor);ft(I,".swal2-success-ring","borderColor",D.iconColor)}},Oo=I=>`<div class="${N["icon-content"]}">${I}</div>`,pr=(I,D)=>{I.className=`${N.popup} ${qn(I)?D.showClass.popup:""}`,D.toast?(Ut([document.documentElement,document.body],N["toast-shown"]),Ut(I,N.toast)):Ut(I,N.modal),gn(I,D,"popup"),"string"==typeof D.customClass&&Ut(I,D.customClass),D.icon&&Ut(I,N[`icon-${D.icon}`])},Xt=I=>{const D=document.createElement("li");return Ut(D,N["progress-step"]),Tt(D,I),D},Ln=I=>{const D=document.createElement("li");return Ut(D,N["progress-step-line"]),I.progressStepsDistance&&Fr(D,"width",I.progressStepsDistance),D},rs=(I,D)=>{((I,D)=>{const R=Xe(),z=Ie();D.toast?(Fr(R,"width",D.width),z.style.width="100%",z.insertBefore(lt(),Be())):Fr(z,"width",D.width),Fr(z,"padding",D.padding),D.color&&(z.style.color=D.color),D.background&&(z.style.background=D.background),cn(oe()),pr(z,D)})(0,D),B(0,D),((I,D)=>{const R=Le();D.progressSteps&&0!==D.progressSteps.length?(Bn(R),R.textContent="",D.currentProgressStep>=D.progressSteps.length&&ge("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((z,be)=>{const It=Xt(z);if(R.appendChild(It),be===D.currentProgressStep&&Ut(It,N["active-progress-step"]),be!==D.progressSteps.length-1){const En=Ln(D);R.appendChild(En)}})):cn(R)})(0,D),((I,D)=>{const R=le.innerParams.get(I),z=Be();R&&D.icon===R.icon?(Cr(z,D),Jt(z,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(F).indexOf(D.icon)?(ye(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${D.icon}"`),cn(z)):(Bn(z),Cr(z,D),Jt(z,D),Ut(z,D.showClass.icon)):cn(z)})(I,D),((I,D)=>{const R=Ge();D.imageUrl?(Bn(R,""),R.setAttribute("src",D.imageUrl),R.setAttribute("alt",D.imageAlt),Fr(R,"width",D.imageWidth),Fr(R,"height",D.imageHeight),R.className=N.image,gn(R,D,"image")):cn(R)})(0,D),((I,D)=>{const R=Me();Nn(R,D.title||D.titleText,"block"),D.title&&jn(D.title,R),D.titleText&&(R.innerText=D.titleText),gn(R,D,"title")})(0,D),((I,D)=>{const R=Ne();Tt(R,D.closeButtonHtml),gn(R,D,"closeButton"),Nn(R,D.showCloseButton),R.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),Ue(I,D),Vr(0,D),((I,D)=>{const R=we();Nn(R,D.footer),D.footer&&jn(D.footer,R),gn(R,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(Ie())};function cr(){const I=le.innerParams.get(this);if(!I)return;const D=le.domCache.get(this);cn(D.loader),We()?I.icon&&Bn(Be()):is(D),Un([D.popup,D.actions],N.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const is=I=>{const D=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));D.length?Bn(D[0],"inline-block"):!qn(et())&&!qn(rt())&&!qn(Ct())&&cn(I.actions)};const ss=()=>et()&&et().click(),Dr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Fs=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},tr=(I,D)=>{const R=qe();if(R.length)return(I+=D)===R.length?I=0:-1===I&&(I=R.length-1),void R[I].focus();Ie().focus()},Es=["ArrowRight","ArrowDown"],Ls=["ArrowLeft","ArrowUp"],Ii=(I,D,R)=>{const z=le.innerParams.get(I);z&&(D.isComposing||229===D.keyCode||(z.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?oo(I,D,z):"Tab"===D.key?Ur(D):[...Es,...Ls].includes(D.key)?Dn(D.key):"Escape"===D.key&&Ci(D,z,R)))},oo=(I,D,R)=>{if(te(R.allowEnterKey)&&D.target&&I.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;ss(),D.preventDefault()}},Ur=I=>{const D=I.target,R=qe();let z=-1;for(let be=0;be<R.length;be++)if(D===R[be]){z=be;break}tr(z,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Dn=I=>{const D=et(),R=rt(),z=Ct();if(document.activeElement instanceof HTMLElement&&![D,R,z].includes(document.activeElement))return;const It=Es.includes(I)?"nextElementSibling":"previousElementSibling";let En=document.activeElement;for(let yr=0;yr<ve().children.length;yr++){if(En=En[It],!En)return;if(En instanceof HTMLButtonElement&&qn(En))break}En instanceof HTMLButtonElement&&En.focus()},Ci=(I,D,R)=>{te(D.allowEscapeKey)&&(I.preventDefault(),R(Dr.esc))};var Vs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Us=()=>{Array.from(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Bs=()=>{const I=navigator.userAgent,D=!!I.match(/iPad/i)||!!I.match(/iPhone/i),R=!!I.match(/WebKit/i);D&&R&&!I.match(/CriOS/i)&&Ie().scrollHeight>window.innerHeight-44&&(Xe().style.paddingBottom="44px")},Tr=()=>{const I=Xe();let D;I.ontouchstart=R=>{D=el(R)},I.ontouchmove=R=>{D&&(R.preventDefault(),R.stopPropagation())}},el=I=>{const D=I.target,R=Xe();return!Yr(I)&&!ki(I)&&(D===R||!Er(R)&&D instanceof HTMLElement&&"INPUT"!==D.tagName&&"TEXTAREA"!==D.tagName&&!(Er(ke())&&ke().contains(D)))},Yr=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,ki=I=>I.touches&&I.touches.length>1,$s=()=>{if(vt(document.body,N.iosfix)){const I=parseInt(document.body.style.top,10);Un(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},_a=()=>{null===wt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(wt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${wt.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=N["scrollbar-measure"],document.body.appendChild(I);const D=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),D})()}px`)},Vo=()=>{null!==wt.previousBodyPadding&&(document.body.style.paddingRight=`${wt.previousBodyPadding}px`,wt.previousBodyPadding=null)};function Qr(I,D,R,z){We()?ou(I,z):(br(R).then(()=>ou(I,z)),Fs(Ye)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),ht()&&(Vo(),$s(),Us()),function Is(){Un([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}()}function Cs(I){I=uc(I);const D=Vs.swalPromiseResolve.get(this),R=Gi(this);this.isAwaitingPromise()?I.isDismissed||(ao(this),D(I)):R&&D(I)}const Gi=I=>{const D=Ie();if(!D)return!1;const R=le.innerParams.get(I);if(!R||vt(D,R.hideClass.popup))return!1;Un(D,R.showClass.popup),Ut(D,R.hideClass.popup);const z=Xe();return Un(z,R.showClass.backdrop),Ut(z,R.hideClass.backdrop),tl(I,D,R),!0};const ao=I=>{I.isAwaitingPromise()&&(le.awaitingPromise.delete(I),le.innerParams.get(I)||I._destroy())},uc=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),tl=(I,D,R)=>{const z=Xe(),be=kn&&Lr(D);"function"==typeof R.willClose&&R.willClose(D),be?Cd(I,D,z,R.returnFocus,R.didClose):Qr(I,z,R.returnFocus,R.didClose)},Cd=(I,D,R,z,be)=>{Ye.swalCloseEventFinishedCallback=Qr.bind(null,I,R,z,be),D.addEventListener(kn,function(It){It.target===D&&(Ye.swalCloseEventFinishedCallback(),delete Ye.swalCloseEventFinishedCallback)})},ou=(I,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(I.params)(),I._destroy()})};function au(I,D,R){const z=le.domCache.get(I);D.forEach(be=>{z[be].disabled=R})}function uu(I,D){if(I)if("radio"===I.type){const z=I.parentNode.parentNode.querySelectorAll("input");for(let be=0;be<z.length;be++)z[be].disabled=D}else I.disabled=D}const js={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Hs=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],co={},as=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],lu=I=>Object.prototype.hasOwnProperty.call(js,I),cu=I=>-1!==Hs.indexOf(I),ho=I=>co[I],hc=I=>{lu(I)||ge(`Unknown parameter "${I}"`)},Ts=I=>{as.includes(I)&&ge(`The parameter "${I}" is incompatible with toasts`)},du=I=>{ho(I)&&Z(I,ho(I))};const fo=I=>{const D={};return Object.keys(I).forEach(R=>{cu(R)?D[R]=I[R]:ge(`Invalid parameter to update: ${R}`)}),D};const zn=I=>{po(I),delete I.params,delete Ye.keydownHandler,delete Ye.keydownTarget,delete Ye.currentInstance},po=I=>{I.isAwaitingPromise()?(go(le,I),le.awaitingPromise.set(I,!0)):(go(Vs,I),go(le,I))},go=(I,D)=>{for(const R in I)I[R].delete(D)};var or=Object.freeze({__proto__:null,_destroy:function zs(){const I=le.domCache.get(this),D=le.innerParams.get(this);D?(I.popup&&Ye.swalCloseEventFinishedCallback&&(Ye.swalCloseEventFinishedCallback(),delete Ye.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),zn(this)):po(this)},close:Cs,closeModal:Cs,closePopup:Cs,closeToast:Cs,disableButtons:function Ds(){au(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function cc(){uu(this.getInput(),!0)},disableLoading:cr,enableButtons:function lc(){au(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function uo(){uu(this.getInput(),!1)},getInput:function Kn(I){const D=le.innerParams.get(I||this),R=le.domCache.get(I||this);return R?An(R.popup,D.input):null},handleAwaitingPromise:ao,hideLoading:cr,isAwaitingPromise:function bd(){return!!le.awaitingPromise.get(this)},rejectPromise:function Id(I){const D=Vs.swalPromiseReject.get(this);ao(this),D&&D(I)},resetValidationMessage:function dc(){const I=le.domCache.get(this);I.validationMessage&&cn(I.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),Un(D,N.inputerror))},showValidationMessage:function lo(I){const D=le.domCache.get(this),R=le.innerParams.get(this);Tt(D.validationMessage,I),D.validationMessage.className=N["validation-message"],R.customClass&&R.customClass.validationMessage&&Ut(D.validationMessage,R.customClass.validationMessage),Bn(D.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",N["validation-message"]),wr(z),Ut(z,N.inputerror))},update:function nl(I){const D=Ie(),R=le.innerParams.get(this);if(!D||vt(D,R.hideClass.popup))return void ge("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z=fo(I),be=Object.assign({},R,z);rs(this,be),le.innerParams.set(this,be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const Di=I=>{let D=Ie();D||new vu,D=Ie();const R=lt();We()?cn(Be()):Gs(D,I),Bn(R),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},Gs=(I,D)=>{const R=ve(),z=lt();!D&&qn(et())&&(D=et()),Bn(R),D&&(cn(D),z.setAttribute("data-button-to-replace",D.className)),z.parentNode.insertBefore(z,D),Ut([I,R],N.loading)},Ea=I=>I.checked?1:0,Jr=I=>I.checked?I.value:null,gr=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,Uo=(I,D)=>{const R=Ie(),z=be=>{rl[D.input](R,Oi(be),D)};je(D.inputOptions)||Je(D.inputOptions)?(Di(et()),Pe(D.inputOptions).then(be=>{I.hideLoading(),z(be)})):"object"==typeof D.inputOptions?z(D.inputOptions):ye("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof D.inputOptions)},As=(I,D)=>{const R=I.getInput();cn(R),Pe(D.inputValue).then(z=>{R.value="number"===D.input?`${parseFloat(z)||0}`:`${z}`,Bn(R),R.focus(),I.hideLoading()}).catch(z=>{ye(`Error in inputValue promise: ${z}`),R.value="",Bn(R),R.focus(),I.hideLoading()})},rl={select:(I,D,R)=>{const z=Jn(I,N.select),be=(It,En,yr)=>{const Br=document.createElement("option");Br.value=yr,Tt(Br,En),Br.selected=mo(yr,R.inputValue),It.appendChild(Br)};D.forEach(It=>{const En=It[0],yr=It[1];if(Array.isArray(yr)){const Br=document.createElement("optgroup");Br.label=En,Br.disabled=!1,z.appendChild(Br),yr.forEach(fi=>be(Br,fi[1],fi[0]))}else be(z,yr,En)}),z.focus()},radio:(I,D,R)=>{const z=Jn(I,N.radio);D.forEach(It=>{const En=It[0],yr=It[1],Br=document.createElement("input"),fi=document.createElement("label");Br.type="radio",Br.name=N.radio,Br.value=En,mo(En,R.inputValue)&&(Br.checked=!0);const hs=document.createElement("span");Tt(hs,yr),hs.className=N.label,fi.appendChild(Br),fi.appendChild(hs),z.appendChild(fi)});const be=z.querySelectorAll("input");be.length&&be[0].focus()}},Oi=I=>{const D=[];return typeof Map<"u"&&I instanceof Map?I.forEach((R,z)=>{let be=R;"object"==typeof be&&(be=Oi(be)),D.push([z,be])}):Object.keys(I).forEach(R=>{let z=I[R];"object"==typeof z&&(z=Oi(z)),D.push([R,z])}),D},mo=(I,D)=>D&&D.toString()===I.toString(),il=(I,D)=>{const R=le.innerParams.get(I);if(!R.input)return void ye(`The "input" parameter is needed to be set when using returnInputValueOn${ue(D)}`);const z=((I,D)=>{const R=I.getInput();if(!R)return null;switch(D.input){case"checkbox":return Ea(R);case"radio":return Jr(R);case"file":return gr(R);default:return D.inputAutoTrim?R.value.trim():R.value}})(I,R);R.inputValidator?hu(I,z,D):I.getInput().checkValidity()?"deny"===D?Bo(I,z):Ca(I,z):(I.enableButtons(),I.showValidationMessage(R.validationMessage))},hu=(I,D,R)=>{const z=le.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Pe(z.inputValidator(D,z.validationMessage))).then(It=>{I.enableButtons(),I.enableInput(),It?I.showValidationMessage(It):"deny"===R?Bo(I,D):Ca(I,D)})},Bo=(I,D)=>{const R=le.innerParams.get(I||void 0);R.showLoaderOnDeny&&Di(rt()),R.preDeny?(le.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Pe(R.preDeny(D,R.validationMessage))).then(be=>{!1===be?(I.hideLoading(),ao(I)):I.close({isDenied:!0,value:typeof be>"u"?D:be})}).catch(be=>fu(I||void 0,be))):I.close({isDenied:!0,value:D})},Ia=(I,D)=>{I.close({isConfirmed:!0,value:D})},fu=(I,D)=>{I.rejectPromise(D)},Ca=(I,D)=>{const R=le.innerParams.get(I||void 0);R.showLoaderOnConfirm&&Di(),R.preConfirm?(I.resetValidationMessage(),le.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Pe(R.preConfirm(D,R.validationMessage))).then(be=>{qn(oe())||!1===be?(I.hideLoading(),ao(I)):Ia(I,typeof be>"u"?D:be)}).catch(be=>fu(I||void 0,be))):Ia(I,D)},_e=(I,D,R)=>{D.popup.onclick=()=>{const z=le.innerParams.get(I);z&&(Wt(z)||z.timer||z.input)||R(Dr.close)}},Wt=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let vo=!1;const $o=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(D){I.container.onmouseup=void 0,D.target===I.container&&(vo=!0)}}},nr=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(D){I.popup.onmouseup=void 0,(D.target===I.popup||I.popup.contains(D.target))&&(vo=!0)}}},sl=(I,D,R)=>{D.container.onclick=z=>{const be=le.innerParams.get(I);vo?vo=!1:z.target===D.container&&te(be.allowOutsideClick)&&R(Dr.backdrop)}},hi=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const qs=()=>{if(Ye.timeout)return(()=>{const I=Se(),D=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const R=parseInt(window.getComputedStyle(I).width);I.style.width=D/R*100+"%"})(),Ye.timeout.stop()},mr=()=>{if(Ye.timeout){const I=Ye.timeout.start();return hn(I),I}};let Fi=!1;const Ta={};const ul=I=>{for(let D=I.target;D&&D!==document;D=D.parentNode)for(const R in Ta){const z=D.getAttribute(R);if(z)return void Ta[R].fire({template:z})}};var Td=Object.freeze({__proto__:null,argsToParams:I=>{const D={};return"object"!=typeof I[0]||hi(I[0])?["title","html","icon"].forEach((R,z)=>{const be=I[z];"string"==typeof be||hi(be)?D[R]=be:void 0!==be&&ye(`Unexpected type of ${R}! Expected "string" or "Element", got ${typeof be}`)}):Object.assign(D,I[0]),D},bindClickHandler:function Ws(){Ta[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Fi||(document.body.addEventListener("click",ul),Fi=!0)},clickCancel:()=>Ct()&&Ct().click(),clickConfirm:ss,clickDeny:()=>rt()&&rt().click(),enableLoading:Di,fire:function ol(){for(var D=arguments.length,R=new Array(D),z=0;z<D;z++)R[z]=arguments[z];return new this(...R)},getActions:ve,getCancelButton:Ct,getCloseButton:Ne,getConfirmButton:et,getContainer:Xe,getDenyButton:rt,getFocusableElements:qe,getFooter:we,getHtmlContainer:ke,getIcon:Be,getIconContent:()=>xe(N["icon-content"]),getImage:Ge,getInputLabel:()=>xe(N["input-label"]),getLoader:lt,getPopup:Ie,getProgressSteps:Le,getTimerLeft:()=>Ye.timeout&&Ye.timeout.getTimerLeft(),getTimerProgressBar:Se,getTitle:Me,getValidationMessage:oe,increaseTimer:I=>{if(Ye.timeout){const D=Ye.timeout.increase(I);return hn(D,!0),D}},isDeprecatedParameter:ho,isLoading:()=>Ie().hasAttribute("data-loading"),isTimerRunning:()=>Ye.timeout&&Ye.timeout.isRunning(),isUpdatableParameter:cu,isValidParameter:lu,isVisible:()=>qn(Ie()),mixin:function al(I){return class D extends(this){_main(z,be){return super._main(z,Object.assign({},I,be))}}},resumeTimer:mr,showLoading:Di,stopTimer:qs,toggleTimer:()=>{const I=Ye.timeout;return I&&(I.running?qs():mr())}});class rr{constructor(D,R){this.callback=D,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const R=this.running;return R&&this.stop(),this.remaining+=D,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const jo=["swal-title","swal-html","swal-footer"],ll=I=>{const D={};return Array.from(I.querySelectorAll("swal-param")).forEach(z=>{Ms(z,["name","value"]);const be=z.getAttribute("name"),It=z.getAttribute("value");D[be]="boolean"==typeof js[be]?"false"!==It:"object"==typeof js[be]?JSON.parse(It):It}),D},Aa=I=>{const D={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(z=>{const be=z.getAttribute("name"),It=z.getAttribute("value");D[be]=new Function(`return ${It}`)()}),D},cl=I=>{const D={};return Array.from(I.querySelectorAll("swal-button")).forEach(z=>{Ms(z,["type","color","aria-label"]);const be=z.getAttribute("type");D[`${be}ButtonText`]=z.innerHTML,D[`show${ue(be)}Button`]=!0,z.hasAttribute("color")&&(D[`${be}ButtonColor`]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(D[`${be}ButtonAriaLabel`]=z.getAttribute("aria-label"))}),D},wo=I=>{const D={},R=I.querySelector("swal-image");return R&&(Ms(R,["src","width","height","alt"]),R.hasAttribute("src")&&(D.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(D.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(D.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(D.imageAlt=R.getAttribute("alt"))),D},pu=I=>{const D={},R=I.querySelector("swal-icon");return R&&(Ms(R,["type","color"]),R.hasAttribute("type")&&(D.icon=R.getAttribute("type")),R.hasAttribute("color")&&(D.iconColor=R.getAttribute("color")),D.iconHtml=R.innerHTML),D},zo=I=>{const D={},R=I.querySelector("swal-input");R&&(Ms(R,["type","label","placeholder","value"]),D.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(D.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(D.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(D.inputValue=R.getAttribute("value")));const z=Array.from(I.querySelectorAll("swal-input-option"));return z.length&&(D.inputOptions={},z.forEach(be=>{Ms(be,["value"]);const It=be.getAttribute("value");D.inputOptions[It]=be.innerHTML})),D},gu=(I,D)=>{const R={};for(const z in D){const be=D[z],It=I.querySelector(be);It&&(Ms(It,[]),R[be.replace(/^swal-/,"")]=It.innerHTML.trim())}return R},Sa=I=>{const D=jo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(R=>{const z=R.tagName.toLowerCase();D.includes(z)||ge(`Unrecognized element <${z}>`)})},Ms=(I,D)=>{Array.from(I.attributes).forEach(R=>{-1===D.indexOf(R.name)&&ge([`Unrecognized attribute "${R.name}" on <${I.tagName.toLowerCase()}>.`,D.length?`Allowed attributes are: ${D.join(", ")}`:"To set the value, use HTML within the element."])})},dl=I=>{const D=Xe(),R=Ie();"function"==typeof I.willOpen&&I.willOpen(R);const be=window.getComputedStyle(document.body).overflowY;hl(D,R,I),setTimeout(()=>{qi(D,R)},10),ht()&&(Vn(D,I.scrollbarPadding,be),Array.from(document.body.children).forEach(D=>{D===Xe()||D.contains(Xe())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!We()&&!Ye.previousActiveElement&&(Ye.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(R)),Un(D,N["no-transition"])},Sr=I=>{const D=Ie();if(I.target!==D)return;const R=Xe();D.removeEventListener(kn,Sr),R.style.overflowY="auto"},qi=(I,D)=>{kn&&Lr(D)?(I.style.overflowY="hidden",D.addEventListener(kn,Sr)):I.style.overflowY="auto"},Vn=(I,D,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!vt(document.body,N.iosfix)){const D=document.body.scrollTop;document.body.style.top=-1*D+"px",Ut(document.body,N.iosfix),Tr(),Bs()}})(),D&&"hidden"!==R&&_a(),setTimeout(()=>{I.scrollTop=0})},hl=(I,D,R)=>{Ut(I,R.showClass.backdrop),D.style.setProperty("opacity","0","important"),Bn(D,"grid"),setTimeout(()=>{Ut(D,R.showClass.popup),D.style.removeProperty("opacity")},10),Ut([document.documentElement,document.body],N.shown),R.heightAuto&&R.backdrop&&!R.toast&&Ut([document.documentElement,document.body],N["height-auto"])};var Zs={email:(I,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(I,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function fl(I){(function mu(I){I.inputValidator||Object.keys(Zs).forEach(D=>{I.input===D&&(I.inputValidator=Zs[D])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&ge("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ad(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(ge('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Zt(I)}let ls;class cs{constructor(){if(typeof window>"u")return;ls=this;for(var D=arguments.length,R=new Array(D),z=0;z<D;z++)R[z]=arguments[z];const be=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:be,writable:!1,enumerable:!0,configurable:!0}});const It=ls._main(ls.params);le.promise.set(this,It)}_main(D){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&ge('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in I)hc(D),I.toast&&Ts(D),du(D)})(Object.assign({},R,D)),Ye.currentInstance&&(Ye.currentInstance._destroy(),ht()&&Us()),Ye.currentInstance=ls;const z=pl(D,R);fl(z),Object.freeze(z),Ye.timeout&&(Ye.timeout.stop(),delete Ye.timeout),clearTimeout(Ye.restoreFocusTimeout);const be=gl(ls);return rs(ls,z),le.innerParams.set(ls,z),yu(ls,be,z)}then(D){return le.promise.get(this).then(D)}finally(D){return le.promise.get(this).finally(D)}}const yu=(I,D,R)=>new Promise((z,be)=>{const It=En=>{I.close({isDismissed:!0,dismiss:En})};Vs.swalPromiseResolve.set(I,z),Vs.swalPromiseReject.set(I,be),D.confirmButton.onclick=()=>{(I=>{const D=le.innerParams.get(I);I.disableButtons(),D.input?il(I,"confirm"):Ca(I,!0)})(I)},D.denyButton.onclick=()=>{(I=>{const D=le.innerParams.get(I);I.disableButtons(),D.returnInputValueOnDeny?il(I,"deny"):Bo(I,!1)})(I)},D.cancelButton.onclick=()=>{((I,D)=>{I.disableButtons(),D(Dr.cancel)})(I,It)},D.closeButton.onclick=()=>{It(Dr.close)},((I,D,R)=>{le.innerParams.get(I).toast?_e(I,D,R):($o(D),nr(D),sl(I,D,R))})(I,D,It),((I,D,R,z)=>{Fs(D),R.toast||(D.keydownHandler=be=>Ii(I,be,z),D.keydownTarget=R.keydownListenerCapture?window:Ie(),D.keydownListenerCapture=R.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(I,Ye,R,It),((I,D)=>{"select"===D.input||"radio"===D.input?Uo(I,D):["text","email","number","tel","textarea"].includes(D.input)&&(je(D.inputValue)||Je(D.inputValue))&&(Di(et()),As(I,D))})(I,R),dl(R),Ma(Ye,R,It),Eo(D,R),setTimeout(()=>{D.container.scrollTop=0})}),pl=(I,D)=>{const R=(I=>{const D="string"==typeof I.template?document.querySelector(I.template):I.template;if(!D)return{};const R=D.content;return Sa(R),Object.assign(ll(R),Aa(R),cl(R),wo(R),pu(R),zo(R),gu(R,jo))})(I),z=Object.assign({},js,D,R,I);return z.showClass=Object.assign({},js.showClass,z.showClass),z.hideClass=Object.assign({},js.hideClass,z.hideClass),z},gl=I=>{const D={popup:Ie(),container:Xe(),actions:ve(),confirmButton:et(),denyButton:rt(),cancelButton:Ct(),loader:lt(),closeButton:Ne(),validationMessage:oe(),progressSteps:Le()};return le.domCache.set(I,D),D},Ma=(I,D,R)=>{const z=Se();cn(z),D.timer&&(I.timeout=new rr(()=>{R("timer"),delete I.timeout},D.timer),D.timerProgressBar&&(Bn(z),gn(z,D,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&hn(D.timer)})))},Eo=(I,D)=>{if(!D.toast){if(!te(D.allowEnterKey))return void ds();Go(I,D)||tr(-1,1)}},Go=(I,D)=>D.focusDeny&&qn(I.denyButton)?(I.denyButton.focus(),!0):D.focusCancel&&qn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!D.focusConfirm||!qn(I.confirmButton)||(I.confirmButton.focus(),0)),ds=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,D=localStorage.getItem("swal-initiation");D?(I.getTime()-Date.parse(D))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(cs.prototype,or),Object.assign(cs,Td),Object.keys(or).forEach(I=>{cs[I]=function(){if(ls)return ls[I](...arguments)}}),cs.DismissReason=Dr,cs.version="11.7.5";const vu=cs;return vu.default=vu,vu}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(le,$){var d=le.createElement("style");if(le.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=$);else try{d.innerHTML=$}catch{d.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(Dt,le,$)=>{"use strict";function se(ve,we){var Se={};for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&we.indexOf(Ne)<0&&(Se[Ne]=ve[Ne]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Ne=Object.getOwnPropertySymbols(ve);Ke<Ne.length;Ke++)we.indexOf(Ne[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ve,Ne[Ke])&&(Se[Ne[Ke]]=ve[Ne[Ke]])}return Se}function te(ve,we,Se,Ne){return new(Se||(Se=Promise))(function(qe,ht){function We(Tt){try{wt(Ne.next(Tt))}catch(vt){ht(vt)}}function $t(Tt){try{wt(Ne.throw(Tt))}catch(vt){ht(vt)}}function wt(Tt){Tt.done?qe(Tt.value):function Ke(qe){return qe instanceof Se?qe:new Se(function(ht){ht(qe)})}(Tt.value).then(We,$t)}wt((Ne=Ne.apply(ve,we||[])).next())})}function Re(ve){return this instanceof Re?(this.v=ve,this):new Re(ve)}function Me(ve,we,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ne=Se.apply(ve,we||[]),qe=[];return Ke={},ht("next"),ht("throw"),ht("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function ht(rn){Ne[rn]&&(Ke[rn]=function(gn){return new Promise(function(An,wr){qe.push([rn,gn,An,wr])>1||We(rn,gn)})})}function We(rn,gn){try{!function $t(rn){rn.value instanceof Re?Promise.resolve(rn.value.v).then(wt,Tt):vt(qe[0][2],rn)}(Ne[rn](gn))}catch(An){vt(qe[0][3],An)}}function wt(rn){We("next",rn)}function Tt(rn){We("throw",rn)}function vt(rn,gn){rn(gn),qe.shift(),qe.length&&We(qe[0][0],qe[0][1])}}function Ge(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,we=ve[Symbol.asyncIterator];return we?we.call(ve):(ve=function Xe(ve){var we="function"==typeof Symbol&&Symbol.iterator,Se=we&&ve[we],Ne=0;if(Se)return Se.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Ne>=ve.length&&(ve=void 0),{value:ve&&ve[Ne++],done:!ve}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),Se={},Ne("next"),Ne("throw"),Ne("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ne(qe){Se[qe]=ve[qe]&&function(ht){return new Promise(function(We,$t){!function Ke(qe,ht,We,$t){Promise.resolve($t).then(function(wt){qe({value:wt,done:We})},ht)}(We,$t,(ht=ve[qe](ht)).done,ht.value)})}}}$.d(le,{FC:()=>Me,KL:()=>Ge,_T:()=>se,mG:()=>te,qq:()=>Re})},4650:(Dt,le,$)=>{"use strict";$.d(le,{$8M:()=>Iu,$WT:()=>Cr,$Z:()=>qw,AFp:()=>hb,AaK:()=>ye,AsE:()=>Ae,CHM:()=>vo,CRH:()=>am,CZH:()=>tu,CqO:()=>A0,D6c:()=>mT,EJc:()=>o_,EpF:()=>rD,F4k:()=>nv,FYo:()=>Ey,FiY:()=>Qo,GfV:()=>Tw,Gpc:()=>Z,JOm:()=>Ft,KtG:()=>$o,LFG:()=>Zt,LSH:()=>ly,Lbi:()=>fb,Lck:()=>_r,MMx:()=>Wg,MR2:()=>eC,NdJ:()=>gg,OlP:()=>mn,Oqu:()=>Q0,P3R:()=>yw,PXZ:()=>oT,Q6J:()=>$f,QGY:()=>tv,Qsj:()=>uC,R0b:()=>sr,RDi:()=>UI,Rgc:()=>ql,SBq:()=>ih,Sil:()=>dp,Suo:()=>No,TTD:()=>cu,TgZ:()=>$l,X6Q:()=>uT,XFs:()=>ft,Xpm:()=>qt,Xts:()=>dy,Y36:()=>lh,YKP:()=>Bv,YNc:()=>eD,Yjl:()=>Jt,Yz7:()=>vt,Z0I:()=>wr,ZZ4:()=>On,_Bn:()=>np,_UZ:()=>ev,_Vd:()=>rh,_c5:()=>Fb,_uU:()=>Xs,aQg:()=>wp,c2e:()=>gb,cJS:()=>gn,cg1:()=>bh,dDg:()=>rT,dqk:()=>hn,eFA:()=>yi,eJc:()=>Rh,ekj:()=>Ig,eoX:()=>Eb,f3M:()=>Hn,g9A:()=>s_,h0i:()=>Gu,hGG:()=>gT,hij:()=>Dg,iGM:()=>rd,ifc:()=>B,ip1:()=>fm,jDz:()=>PE,kL8:()=>Pg,lG2:()=>Ot,lqb:()=>Hc,lri:()=>_b,n5z:()=>_c,oAB:()=>re,oxw:()=>iD,q4F:()=>Aw,qLn:()=>Cf,qOj:()=>Wy,qZA:()=>Xy,rWj:()=>wb,s9C:()=>iv,sBO:()=>mm,s_b:()=>Wl,soG:()=>ga,tb:()=>Ib,tp0:()=>At,uIk:()=>fh,vHH:()=>Ee,vpe:()=>Ns,wAp:()=>Ht,xp6:()=>Vw,z2F:()=>ji,zSh:()=>Ol,zs3:()=>oh});var d=$(7579),N=$(727),F=$(9751),se=$(6451),ce=$(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ue({__forward_ref__:ue});function Z(s){return s.__forward_ref__=Z,s.toString=function(){return ye(this())},s}function te(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===Z}function Pe(s){return s&&!!s.\u0275providers}const Xe="https://g.co/ng/security#xss";class Ee extends Error{constructor(o,a){super(xe(o,a)),this.code=o}}function xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,o){throw new Ee(-201,!1)}function ht(s,o){null==s&&function We(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function vt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function gn(s){return{providers:s.providers||[],imports:s.imports||[]}}function An(s){return Qn(s,Jn)||Qn(s,Bn)}function wr(s){return null!==An(s)}function Qn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Un(s){return s&&(s.hasOwnProperty(Fr)||s.hasOwnProperty(cn))?s[Fr]:null}const Jn=ue({\u0275prov:ue}),Fr=ue({\u0275inj:ue}),Bn=ue({ngInjectableDef:ue}),cn=ue({ngInjectorDef:ue});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Nn;function Xn(s){const o=Nn;return Nn=s,o}function Er(s,o,a){const l=An(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ft.Optional?null:void 0!==o?o:void Ge(ye(s))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},br="__NG_DI_FLAG__",$n="ngTempTokenPath",ri="ngTokenPath",Wn=/\n/gm,Fn="\u0275",sn="__source";let bi;function an(s){const o=bi;return bi=s,o}function ii(s,o=ft.Default){if(void 0===bi)throw new Ee(-203,!1);return null===bi?Er(s,void 0,o):bi.get(s,o&ft.Optional?null:void 0,o)}function Zt(s,o=ft.Default){return(function qn(){return Nn}()||ii)(te(s),o)}function Hn(s,o=ft.Default){return Zt(s,Ir(o))}function Ir(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function kn(s){const o=[];for(let a=0;a<s.length;a++){const l=te(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Ee(900,!1);let h,p=ft.Default;for(let y=0;y<l.length;y++){const b=l[y],T=Vr(b);"number"==typeof T?-1===T?h=b.token:p|=T:h=b}o.push(Zt(h,p))}else o.push(Zt(l))}return o}function Zr(s,o){return s[br]=o,s.prototype[br]=o,s}function Vr(s){return s[br]}function G(s){return{toString:s}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),B=(()=>{return(s=B||(B={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",B;var s})();const O={},Q=[],Te=ue({\u0275cmp:ue}),ut=ue({\u0275dir:ue}),kt=ue({\u0275pipe:ue}),Mt=ue({\u0275mod:ue}),Qt=ue({\u0275fac:ue}),Lt=ue({__NG_ELEMENT_ID__:ue});let Sn=0;function qt(s){return G(()=>{const o=Oo(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||B.Emulated,id:"c"+Sn++,styles:s.styles||Q,_:null,schemas:s.schemas||null,tView:null};ac(a);const l=s.dependencies;return a.directiveDefs=ws(l,!1),a.pipeDefs=ws(l,!0),a})}function zi(s){return bt(s)||vn(s)}function me(s){return null!==s}function re(s){return G(()=>({type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Et(s,o){if(null==s)return O;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}function Ot(s){return G(()=>{const o=Oo(s);return ac(o),o})}function Jt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function bt(s){return s[Te]||null}function vn(s){return s[ut]||null}function dn(s){return s[kt]||null}function Cr(s){const o=bt(s)||vn(s)||dn(s);return null!==o&&o.standalone}function fr(s,o){const a=s[Mt]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function Oo(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Et(s.inputs,o),outputs:Et(s.outputs)}}function ac(s){s.features?.forEach(o=>o(s))}function ws(s,o){if(!s)return null;const a=o?dn:zi;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(me)}const pr=0,st=1,Xt=2,Ln=3,_n=4,rs=5,cr=6,is=7,Kn=8,Fo=9,ss=10,Kt=11,va=12,Dr=13,Fs=14,os=15,tr=16,Es=17,Ls=18,Ii=19,oo=20,Ur=21,Dn=22,Vs=1,Lo=2,Us=7,bs=8,Bs=9,Tr=10;function Yr(s){return Array.isArray(s)&&"object"==typeof s[Vs]}function ki(s){return Array.isArray(s)&&!0===s[Vs]}function $s(s){return 0!=(4&s.flags)}function _a(s){return s.componentOffset>-1}function Vo(s){return 1==(1&s.flags)}function Qr(s){return!!s.template}function Is(s){return 0!=(256&s[Xt])}function as(s,o){return s.hasOwnProperty(Qt)?s[Qt]:null}class lu{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function cu(){return ho}function ho(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ts),hc}function hc(){const s=wa(this),o=s?.current;if(o){const a=s.previous;if(a===O)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ts(s,o,a,l){const h=this.declaredInputs[a],p=wa(s)||function nl(s,o){return s[du]=o}(s,{previous:O,current:null}),y=p.current||(p.current={}),b=p.previous,T=b[h];y[h]=new lu(T&&T.currentValue,o,b===O),s[l]=o}cu.ngInherit=!0;const du="__ngSimpleChanges__";function wa(s){return s[du]||null}const zn=function(s,o,a){};function or(s){for(;Array.isArray(s);)s=s[pr];return s}function Gs(s,o){return or(o[s])}function Ar(s,o){return or(o[s.index])}function Ea(s,o){return s.data[o]}function gr(s,o){const a=o[s];return Yr(a)?a:a[pr]}function As(s){return 64==(64&s[Xt])}function Oi(s,o){return null==o?null:s[o]}function mo(s){s[Ls]=0}function yo(s,o){s[rs]+=o;let a=s,l=s[Ln];for(;null!==l&&(1===o&&1===a[rs]||-1===o&&0===a[rs]);)l[rs]+=o,a=l,l=l[Ln]}const Bt={lFrame:zo(null),bindingsEnabled:!0};function fu(){return Bt.bindingsEnabled}function _e(){return Bt.lFrame.lView}function Wt(){return Bt.lFrame.tView}function vo(s){return Bt.lFrame.contextLView=s,s[Kn]}function $o(s){return Bt.lFrame.contextLView=null,s}function nr(){let s=sl();for(;null!==s&&64===s.type;)s=s.parent;return s}function sl(){return Bt.lFrame.currentTNode}function hi(s,o){const a=Bt.lFrame;a.currentTNode=s,a.isParent=o}function Da(){return Bt.lFrame.isParent}function us(){return Bt.lFrame.bindingIndex++}function Fi(s){const o=Bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ul(s,o){const a=Bt.lFrame;a.bindingIndex=a.bindingRootIndex=s,rr(o)}function rr(s){Bt.lFrame.currentDirectiveIndex=s}function Ho(){return Bt.lFrame.currentQueryIndex}function ll(s){Bt.lFrame.currentQueryIndex=s}function Aa(s){const o=s[st];return 2===o.type?o.declTNode:1===o.type?s[cr]:null}function cl(s,o,a){if(a&ft.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ft.Host||(h=Aa(p),null===h||(p=p[os],10&h.type))););if(null===h)return!1;o=h,s=p}const l=Bt.lFrame=pu();return l.currentTNode=o,l.lView=s,!0}function wo(s){const o=pu(),a=s[st];Bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function pu(){const s=Bt.lFrame,o=null===s?null:s.child;return null===o?zo(s):o}function zo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function gu(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Sa=gu;function Ms(){const s=gu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Sr(){return Bt.lFrame.selectedIndex}function qi(s){Bt.lFrame.selectedIndex=s}function Vn(){const s=Bt.lFrame;return Ea(s.tView,s.selectedIndex)}function cs(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:k}=p;y&&(s.contentHooks??(s.contentHooks=[])).push(-a,y),b&&((s.contentHooks??(s.contentHooks=[])).push(a,b),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,b)),T&&(s.viewHooks??(s.viewHooks=[])).push(-a,T),x&&((s.viewHooks??(s.viewHooks=[])).push(a,x),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,x)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(a,k)}}function yu(s,o,a){Ma(s,o,3,a)}function pl(s,o,a,l){(3&s[Xt])===a&&Ma(s,o,a,l)}function gl(s,o){let a=s[Xt];(3&a)===o&&(a&=2047,a+=1,s[Xt]=a)}function Ma(s,o,a,l){const p=l??-1,y=o.length-1;let b=0;for(let T=void 0!==l?65535&s[Ls]:0;T<y;T++)if("number"==typeof o[T+1]){if(b=o[T],null!=l&&b>=l)break}else o[T]<0&&(s[Ls]+=65536),(b<p||-1==p)&&(Eo(s,a,o,T),s[Ls]=(4294901760&s[Ls])+T+2),T++}function Eo(s,o,a,l){const h=a[l]<0,p=a[l+1],b=s[h?-a[l]:a[l]];if(h){if(s[Xt]>>11<s[Ls]>>16&&(3&s[Xt])===o){s[Xt]+=2048,zn(4,b,p);try{p.call(b)}finally{zn(5,b,p)}}}else{zn(4,b,p);try{p.call(b)}finally{zn(5,b,p)}}}const Go=-1;class ds{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function yr(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],y=a[l++],b=a[l++];s.setAttribute(o,y,b,p)}else{const p=h,y=a[++l];fi(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),l++}}return l}function Br(s){return 3===s||4===s||6===s}function fi(s){return 64===s.charCodeAt(0)}function hs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Pa(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Pa(s,o,a,l,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function qo(s){return s!==Go}function Ra(s){return 32767&s}function wu(s,o){let a=function _u(s){return s>>16}(s),l=o;for(;a>0;)l=l[os],a--;return l}let pc=!0;function Eu(s){const o=pc;return pc=s,o}const gc=255,ml=5;let mc=0;const Ti={};function yc(s,o){const a=xd(s,o);if(-1!==a)return a;const l=o[st];l.firstCreatePass&&(s.injectorIndex=o.length,Ps(l.data,s),Ps(o,null),Ps(l.blueprint,null));const h=dr(s,o),p=s.injectorIndex;if(qo(h)){const y=Ra(h),b=wu(h,o),T=b[st].data;for(let x=0;x<8;x++)o[p+x]=b[y+x]|T[y+x]}return o[p+8]=h,p}function Ps(s,o){s.push(0,0,0,0,0,0,0,0,o)}function xd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function dr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Wo(h),null===l)return Go;if(a++,h=h[os],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Go}function bo(s,o,a){!function Sd(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Lt)&&(l=a[Lt]),null==l&&(l=a[Lt]=mc++);const h=l&gc;o.data[s+(h>>ml)]|=1<<h}(s,o,a)}function Md(s,o,a){if(a&ft.Optional||void 0!==s)return s;Ge()}function bu(s,o,a,l){if(a&ft.Optional&&void 0===l&&(l=null),!(a&(ft.Self|ft.Host))){const h=s[Fo],p=Xn(void 0);try{return h?h.get(o,l,a&ft.Optional):Er(o,l,a&ft.Optional)}finally{Xn(p)}}return Md(l,0,a)}function Pd(s,o,a,l=ft.Default,h){if(null!==s){if(1024&o[Xt]){const y=function Xh(s,o,a,l,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[Xt]&&!(256&y[Xt]);){const b=vl(p,y,a,l|ft.Self,Ti);if(b!==Ti)return b;let T=p.parent;if(!T){const x=y[Ur];if(x){const k=x.get(a,Ti,l);if(k!==Ti)return k}T=Wo(y),y=y[os]}p=T}return h}(s,o,a,l,Ti);if(y!==Ti)return y}const p=vl(s,o,a,l,Ti);if(p!==Ti)return p}return bu(o,a,l,h)}function vl(s,o,a,l,h){const p=function Jh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Lt)?s[Lt]:void 0;return"number"==typeof o?o>=0?o&gc:vc:o}(a);if("function"==typeof p){if(!cl(o,s,l))return l&ft.Host?Md(h,0,l):bu(o,a,l,h);try{const y=p(l);if(null!=y||l&ft.Optional)return y;Ge()}finally{Sa()}}else if("number"==typeof p){let y=null,b=xd(s,o),T=Go,x=l&ft.Host?o[tr][cr]:null;for((-1===b||l&ft.SkipSelf)&&(T=-1===b?dr(s,o):o[b+8],T!==Go&&_l(l,!1)?(y=o[st],b=Ra(T),o=wu(T,o)):b=-1);-1!==b;){const k=o[st];if(Io(p,b,k.data)){const H=xr(b,o,a,y,l,x);if(H!==Ti)return H}T=o[b+8],T!==Go&&_l(l,o[st].data[b+8]===x)&&Io(p,b,o)?(y=k,b=Ra(T),o=wu(T,o)):b=-1}}return h}function xr(s,o,a,l,h,p){const y=o[st],b=y.data[s+8],k=Na(b,y,a,null==l?_a(b)&&pc:l!=y&&0!=(3&b.type),h&ft.Host&&p===b);return null!==k?ir(o,y,k,b):Ti}function Na(s,o,a,l,h){const p=s.providerIndexes,y=o.data,b=1048575&p,T=s.directiveStart,k=p>>20,J=h?b+k:s.directiveEnd;for(let ie=l?b:b+k;ie<J;ie++){const De=y[ie];if(ie<T&&a===De||ie>=T&&De.type===a)return ie}if(h){const ie=y[T];if(ie&&Qr(ie)&&ie.type===a)return T}return null}function ir(s,o,a,l){let h=s[a];const p=o.data;if(function vu(s){return s instanceof ds}(h)){const y=h;y.resolving&&function Re(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(p[a]));const b=Eu(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Xn(y.injectImpl):null;cl(s,l,ft.Default);try{h=s[a]=y.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function ls(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const y=ho(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==T&&Xn(T),Eu(b),y.resolving=!1,Sa()}}return h}function Io(s,o,a){return!!(a[o+(s>>ml)]&1<<s)}function _l(s,o){return!(s&ft.Self||s&ft.Host&&o)}class ka{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Pd(this._tNode,this._lView,o,Ir(l),a)}}function vc(){return new ka(nr(),_e())}function _c(s){return G(()=>{const o=s.prototype.constructor,a=o[Qt]||Co(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[Qt]||Co(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Co(s){return je(s)?()=>{const o=Co(te(s));return o&&o()}:as(s)}function Wo(s){const o=s[st],a=o.type;return 2===a?o.declTNode:1===a?s[cr]:null}function Iu(s){return function yl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Br(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(nr(),s)}const Oa="__parameters__";function Ko(s,o,a){return G(()=>{const l=function Rd(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(T,x,k){const H=T.hasOwnProperty(Oa)?T[Oa]:Object.defineProperty(T,Oa,{value:[]})[Oa];for(;H.length<=k;)H.push(null);return(H[k]=H[k]||[]).push(y),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class mn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Do(s,o){s.forEach(a=>Array.isArray(a)?Do(a,o):o(a))}function Dc(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Cu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Wi(s,o,a){let l=fs(s,o);return l>=0?s[1|l]=a:(l=~l,function Il(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function bn(s,o){const a=fs(s,o);if(a>=0)return s[1|a]}function fs(s,o){return function ps(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const Qo=Zr(Ko("Optional"),8),At=Zr(Ko("SkipSelf"),4);var Ft=(()=>((Ft=Ft||{})[Ft.Important=1]="Important",Ft[Ft.DashCase=2]="DashCase",Ft))();const $d=new Map;let Ys=0;const Y="__ngContext__";function X(s,o){Yr(o)?(s[Y]=o[oo],function jd(s){$d.set(s[oo],s)}(o)):s[Y]=o}let Ui;function ai(s,o){return Ui(s,o)}function zd(s){const o=s[Ln];return ki(o)?o[Ln]:o}function Nu(s){return af(s[Dr])}function ku(s){return af(s[_n])}function af(s){for(;null!==s&&!ki(s);)s=s[_n];return s}function ja(s,o,a,l,h){if(null!=l){let p,y=!1;ki(l)?p=l:Yr(l)&&(y=!0,l=l[pr]);const b=or(l);0===s&&null!==a?null==h?Si(o,a,b):on(o,a,b,h||null,!0):1===s&&null!==a?on(o,a,b,h||null,!0):2===s?function Qm(s,o,a){const l=Qs(s,o);l&&function Ha(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,b,y):3===s&&o.destroyNode(b),null!=p&&function ff(s,o,a,l,h){const p=a[Us];p!==or(a)&&ja(o,s,l,p,h);for(let b=Tr;b<a.length;b++){const T=a[b];hf(T[st],T,s,o,l,p)}}(o,s,p,a,h)}}function lf(s,o,a){return s.createElement(o,a)}function E(s,o){const a=s[Bs],l=a.indexOf(o),h=o[Ln];512&o[Xt]&&(o[Xt]&=-513,yo(h,-1)),a.splice(l,1)}function P(s,o){if(s.length<=Tr)return;const a=Tr+o,l=s[a];if(l){const h=l[Es];null!==h&&h!==s&&E(h,l),o>0&&(s[a-1][_n]=l[_n]);const p=Cu(s,Tr+o);!function Vp(s,o){hf(s,o,o[Kt],2,null,null),o[pr]=null,o[cr]=null}(l[st],l);const y=p[Ii];null!==y&&y.detachView(p[st]),l[Ln]=null,l[_n]=null,l[Xt]&=-65}return l}function L(s,o){if(!(128&o[Xt])){const a=o[Kt];a.destroyNode&&hf(s,o,a,3,null,null),function v(s){let o=s[Dr];if(!o)return ee(s[st],s);for(;o;){let a=null;if(Yr(o))a=o[Dr];else{const l=o[Tr];l&&(a=l)}if(!a){for(;o&&!o[_n]&&o!==s;)Yr(o)&&ee(o[st],o),o=o[Ln];null===o&&(o=s),Yr(o)&&ee(o[st],o),a=o&&o[_n]}o=a}}(o)}}function ee(s,o){if(!(128&o[Xt])){o[Xt]&=-65,o[Xt]|=128,function He(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof ds)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],T=p[y+1];zn(4,b,T);try{T.call(b)}finally{zn(5,b,T)}}else{zn(4,h,p);try{p.call(h)}finally{zn(5,h,p)}}}}}(s,o),function de(s,o){const a=s.cleanup,l=o[is];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),p+=2}else{const y=l[h=a[p+1]];a[p].call(y)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[is]=null}}(s,o),1===o[st].type&&o[Kt].destroy();const a=o[Es];if(null!==a&&ki(o[Ln])){a!==o[Ln]&&E(a,o);const l=o[Ii];null!==l&&l.detachView(s)}!function Hd(s){$d.delete(s[oo])}(o)}}function it(s,o,a){return function St(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[pr];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=s.data[l.directiveStart+h];if(p===B.None||p===B.Emulated)return null}return Ar(l,a)}}(s,o.parent,a)}function on(s,o,a,l,h){s.insertBefore(o,a,l,h)}function Si(s,o,a){s.appendChild(o,a)}function ra(s,o,a,l,h){null!==l?on(s,o,a,l,h):Si(s,o,a)}function Qs(s,o){return s.parentNode(o)}let Wd,ey,Up,za=function Bc(s,o,a){return 40&s.type?Ar(s,a):null};function Rl(s,o,a,l){const h=it(s,l,o),p=o[Kt],b=function qd(s,o,a){return za(s,o,a)}(l.parent||o[cr],l,o);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)ra(p,h,a[T],b,!1);else ra(p,h,a,b,!1);void 0!==Wd&&Wd(p,l,o,a,h)}function Kd(s,o){if(null!==o){const a=o.type;if(3&a)return Ar(o,s);if(4&a)return Ga(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Kd(s,l);{const h=s[o.index];return ki(h)?Ga(-1,h):or(h)}}if(32&a)return ai(o,s)()||or(s[o.index]);{const l=Nl(s,o);return null!==l?Array.isArray(l)?l[0]:Kd(zd(s[tr]),l):Kd(s,o.next)}}return null}function Nl(s,o){return null!==o?s[tr][cr].projection[o.projection]:null}function Ga(s,o){const a=Tr+s+1;if(a<o.length){const l=o[a],h=l[st].firstChild;if(null!==h)return Kd(l,h)}return o[Us]}function df(s,o,a,l,h,p,y){for(;null!=a;){const b=l[a.index],T=a.type;if(y&&0===o&&(b&&X(or(b),l),a.flags|=2),32!=(32&a.flags))if(8&T)df(s,o,a.child,l,h,p,!1),ja(o,s,h,b,p);else if(32&T){const x=ai(a,l);let k;for(;k=x();)ja(o,s,h,k,p);ja(o,s,h,b,p)}else 16&T?Jm(s,o,l,a,h,p):ja(o,s,h,b,p);a=y?a.projectionNext:a.next}}function hf(s,o,a,l,h,p){df(a,l,s.firstChild,o,h,p,!1)}function Jm(s,o,a,l,h,p){const y=a[tr],T=y[cr].projection[l.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)ja(o,s,h,T[x],p);else df(s,o,T,y[Ln],h,p,!0)}function kl(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function pf(s,o,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&yr(s,o,l),null!==h&&kl(s,o,h),null!==p&&function Xm(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function UI(s){ey=s}function ow(s){return function ty(){if(void 0===Up&&(Up=null,hn.trustedTypes))try{Up=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Up}()?.createScriptURL(s)||s}class aw{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xe})`}}function Wa(s){return s instanceof aw?s.changingThisBreaksApplicationSecurity:s}function Js(s,o){const a=function Qd(s){return s instanceof aw&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Xe})`)}return a===o}const dw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();function ly(s){const o=Ef();return o?o.sanitize(jr.URL,s)||"":Js(s,"URL")?Wa(s):function yf(s){return(s=String(s)).match(dw)?s:"unsafe:"+s}(Ie(s))}function zp(s){const o=Ef();if(o)return ow(o.sanitize(jr.RESOURCE_URL,s)||"");if(Js(s,"ResourceURL"))return ow(Wa(s));throw new Ee(904,!1)}function yw(s,o,a){return function JI(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?zp:ly}(o,a)(s)}function Ef(){const s=_e();return s&&s[va]}const dy=new mn("ENVIRONMENT_INITIALIZER"),jc=new mn("INJECTOR",-1),Xd=new mn("INJECTOR_DEF_TYPES");class vw{get(o,a=er){if(a===er){const l=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw l.name="NullInjectorError",l}return a}}function eC(s){return{\u0275providers:s}}function bf(...s){return{\u0275providers:eh(0,s),\u0275fromNgModule:!0}}function eh(s,...o){const a=[],l=new Set;let h;return Do(o,p=>{const y=p;hy(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&_w(h,a),a}function _w(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];fy(h,p=>{o.push(p)})}}function hy(s,o,a,l){if(!(s=te(s)))return!1;let h=null,p=Un(s);const y=!p&&bt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=Un(T),!p)return!1;h=T}const b=l.has(h);if(y){if(b)return!1;if(l.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const x of T)hy(x,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let x;l.add(h);try{Do(p.imports,k=>{hy(k,o,a,l)&&(x||(x=[]),x.push(k))})}finally{}void 0!==x&&_w(x,o)}if(!b){const x=as(h)||(()=>new h);o.push({provide:h,useFactory:x,deps:Q},{provide:Xd,useValue:h,multi:!0},{provide:dy,useValue:()=>Zt(h),multi:!0})}const T=p.providers;null==T||b||fy(T,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function fy(s,o){for(let a of s)Pe(a)&&(a=a.\u0275providers),Array.isArray(a)?fy(a,o):o(a)}const tC=ue({provide:String,useValue:ue});function py(s){return null!==s&&"object"==typeof s&&tC in s}function Ou(s){return"function"==typeof s}const Ol=new mn("Set Injector scope."),qp={},rC={};let gy;function Wp(){return void 0===gy&&(gy=new vw),gy}class Hc{}class Ew extends Hc{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nh(o,y=>this.processProvider(y)),this.records.set(jc,th(void 0,this)),h.has("environment")&&this.records.set(Hc,th(void 0,this));const p=this.records.get(Ol);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xd.multi,Q,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=an(this),l=Xn(void 0);try{return o()}finally{an(a),Xn(l)}}get(o,a=er,l=ft.Default){this.assertNotDestroyed(),l=Ir(l);const h=an(this),p=Xn(void 0);try{if(!(l&ft.SkipSelf)){let b=this.records.get(o);if(void 0===b){const T=function _y(s){return"function"==typeof s||"object"==typeof s&&s instanceof mn}(o)&&An(o);b=T&&this.injectableDefInScope(T)?th(my(o),qp):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&ft.Self?Wp():this.parent).get(o,a=l&ft.Optional&&a===er?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[$n]=y[$n]||[]).unshift(ye(o)),h)throw y;return function Kr(s,o,a,l){const h=s[$n];throw o[sn]&&h.unshift(o[sn]),s.message=function q(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Fn?s.slice(2):s;let h=ye(o);if(Array.isArray(o))h=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):ye(b)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(Wn,"\n  ")}`}("\n"+s.message,h,a,l),s[ri]=h,s[$n]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xn(p),an(h)}}resolveInjectorInitializers(){const o=an(this),a=Xn(void 0);try{const l=this.get(dy.multi,Q,ft.Self);for(const h of l)h()}finally{an(o),Xn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ye(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(o){let a=Ou(o=te(o))?o:te(o&&o.provide);const l=function sC(s){return py(s)?th(void 0,s.useValue):th(yy(s),qp)}(o);if(Ou(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=th(void 0,qp,!0),h.factory=()=>kn(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===qp&&(a.value=rC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function bw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function my(s){const o=An(s),a=null!==o?o.factory:as(s);if(null!==a)return a;if(s instanceof mn)throw new Ee(204,!1);if(s instanceof Function)return function iC(s){const o=s.length;if(o>0)throw function Fa(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new Ee(204,!1);const a=function Ut(s){return s&&(s[Jn]||s[Bn])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ee(204,!1)}function yy(s,o,a){let l;if(Ou(s)){const h=te(s);return as(h)||my(h)}if(py(s))l=()=>te(s.useValue);else if(function ww(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...kn(s.deps||[]));else if(function nC(s){return!(!s||!s.useExisting)}(s))l=()=>Zt(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function vy(s){return!!s.deps}(s))return as(h)||my(h);l=()=>new h(...kn(s.deps))}return l}function th(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function nh(s,o){for(const a of s)Array.isArray(a)?nh(a,o):a&&Pe(a)?nh(a.\u0275providers,o):o(a)}class oC{}class Iw{}class Dw{resolveComponentFactory(o){throw function aC(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let rh=(()=>{class s{}return s.NULL=new Dw,s})();function Zp(){return Fu(nr(),_e())}function Fu(s,o){return new ih(Ar(s,o))}let ih=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Zp,s})();function If(s){return s instanceof ih?s.nativeElement:s}class Ey{}let uC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lC(){const s=_e(),a=gr(nr().index,s);return(Yr(a)?a:s)[Kt]}(),s})(),cC=(()=>{class s{}return s.\u0275prov=vt({token:s,providedIn:"root",factory:()=>null}),s})();class Tw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Aw=new Tw("15.2.8"),Kp={},by="ngOriginalError";function Iy(s){return s[by]}class Cf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Iy(o);for(;a&&Iy(a);)a=Iy(a);return a||null}}function Za(s){return s instanceof Function?s():s}function Nw(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Cy="ng-template";function Dy(s,o,a){let l=0,h=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&h){const y=s[l++];if(a&&"class"===p&&-1!==Nw(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Ty(s){return 4===s.type&&s.value!==Cy}function sh(s,o,a){return o===(4!==s.type||a?s.value:Cy)}function Ay(s,o,a){let l=4;const h=s.attrs||[],p=function Ow(s){for(let o=0;o<s.length;o++)if(Br(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const T=o[b];if("number"!=typeof T){if(!y)if(4&l){if(l=2|1&l,""!==T&&!sh(s,T,a)||""===T&&1===o.length){if(sa(l))return!1;y=!0}}else{const x=8&l?T:o[++b];if(8&l&&null!==s.attrs){if(!Dy(s.attrs,x,a)){if(sa(l))return!1;y=!0}continue}const H=kw(8&l?"class":T,h,Ty(s),a);if(-1===H){if(sa(l))return!1;y=!0;continue}if(""!==x){let J;J=H>p?"":h[H+1].toLowerCase();const ie=8&l?J:null;if(ie&&-1!==Nw(ie,x,0)||2&l&&x!==J){if(sa(l))return!1;y=!0}}}}else{if(!y&&!sa(l)&&!sa(T))return!1;if(y&&sa(T))continue;y=!1,l=T|1&l}}return sa(l)||y}function sa(s){return 0==(1&s)}function kw(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Fw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Tf(s,o,a=!1){for(let l=0;l<o.length;l++)if(Ay(s,o[l],a))return!0;return!1}function Lw(s,o){return s?":not("+o.trim()+")":o}function vC(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const b=s[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!sa(y)&&(o+=Lw(p,h),h=""),l=y,p=p||!sa(l);a++}return""!==h&&(o+=Lw(p,h)),o}const en={};function Vw(s){Uw(Wt(),_e(),Sr()+s,!1)}function Uw(s,o,a,l){if(!l)if(3==(3&o[Xt])){const p=s.preOrderCheckHooks;null!==p&&yu(o,p,a)}else{const p=s.preOrderHooks;null!==p&&pl(o,p,0,a)}qi(a)}function $w(s,o=null,a=null,l){const h=xy(s,o,a,l);return h.resolveInjectorInitializers(),h}function xy(s,o=null,a=null,l,h=new Set){const p=[a||Q,bf(s)];return l=l||("object"==typeof s?void 0:ye(s)),new Ew(p,o||Wp(),l||null,h)}let oh=(()=>{class s{static create(a,l){if(Array.isArray(a))return $w({name:""},l,a,"");{const h=a.name??"";return $w({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=er,s.NULL=new vw,s.\u0275prov=vt({token:s,providedIn:"any",factory:()=>Zt(jc)}),s.__NG_ELEMENT_ID__=-1,s})();function lh(s,o=ft.Default){const a=_e();return null===a?Zt(s,o):Pd(nr(),a,te(s),o)}function qw(){throw new Error("invalid")}function Ww(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=s.data[p];ll(a[l]),y.contentQueries(2,o[p],p)}}}function Xp(s,o,a,l,h,p,y,b,T,x,k){const H=o.blueprint.slice();return H[pr]=h,H[Xt]=76|l,(null!==k||s&&1024&s[Xt])&&(H[Xt]|=1024),mo(H),H[Ln]=H[os]=s,H[Kn]=a,H[ss]=y||s&&s[ss],H[Kt]=b||s&&s[Kt],H[va]=T||s&&s[va]||null,H[Fo]=x||s&&s[Fo]||null,H[cr]=p,H[oo]=function Fc(){return Ys++}(),H[Ur]=k,H[tr]=2==o.type?s[tr]:H,H}function Mf(s,o,a,l,h){let p=s.data[o];if(null===p)p=function ky(s,o,a,l,h){const p=sl(),y=Da(),T=s.data[o]=function Qw(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(s,o,a,l,h),function Ta(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const y=function _o(){const s=Bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return hi(p,!0),p}function Fl(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function eg(s,o,a){wo(o);try{const l=s.viewQuery;null!==l&&sg(1,l,a);const h=s.template;null!==h&&Oy(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ww(s,o),s.staticViewQueries&&sg(2,s.viewQuery,a);const p=s.components;null!==p&&function Zw(s,o){for(let a=0;a<o.length;a++)$C(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Xt]&=-5,Ms()}}function tg(s,o,a,l){const h=o[Xt];if(128!=(128&h)){wo(o);try{mo(o),function xs(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Oy(s,o,a,2,l);const y=3==(3&h);if(y){const x=s.preOrderCheckHooks;null!==x&&yu(o,x,null)}else{const x=s.preOrderHooks;null!==x&&pl(o,x,0,null),gl(o,0)}if(function d0(s){for(let o=Nu(s);null!==o;o=ku(o)){if(!o[Lo])continue;const a=o[Bs];for(let l=0;l<a.length;l++){const h=a[l];512&h[Xt]||yo(h[Ln],1),h[Xt]|=512}}}(o),function c0(s){for(let o=Nu(s);null!==o;o=ku(o))for(let a=Tr;a<o.length;a++){const l=o[a],h=l[st];As(l)&&tg(h,l,h.template,l[Kn])}}(o),null!==s.contentQueries&&Ww(s,o),y){const x=s.contentCheckHooks;null!==x&&yu(o,x)}else{const x=s.contentHooks;null!==x&&pl(o,x,1),gl(o,1)}!function OC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)qi(~h);else{const p=h,y=a[++l],b=a[++l];ul(y,p),b(2,o[p])}}}finally{qi(-1)}}(s,o);const b=s.components;null!==b&&function FC(s,o){for(let a=0;a<o.length;a++)h0(s,o[a])}(o,b);const T=s.viewQuery;if(null!==T&&sg(2,T,l),y){const x=s.viewCheckHooks;null!==x&&yu(o,x)}else{const x=s.viewHooks;null!==x&&pl(o,x,2),gl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Xt]&=-41,512&o[Xt]&&(o[Xt]&=-513,yo(o[Ln],-1))}finally{Ms()}}}function Oy(s,o,a,l,h){const p=Sr(),y=2&l;try{qi(-1),y&&o.length>Dn&&Uw(s,o,Dn,!1),zn(y?2:0,h),a(l,h)}finally{qi(p),zn(y?3:1,h)}}function Fy(s,o,a){if($s(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Ly(s,o,a){fu()&&(function Ll(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;_a(a)&&function a0(s,o,a){const l=Ar(o,s),h=Kw(a),p=s[ss],y=Rf(s,Xp(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=y}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||yc(a,o),X(l,o);const y=a.initialInputs;for(let b=h;b<p;b++){const T=s.data[b],x=ir(o,s,b,a);X(x,o),null!==y&&u0(0,b-h,x,T,0,y),Qr(T)&&(gr(a.index,o)[Kn]=ir(o,s,b,a))}}(s,o,a,Ar(a,o)),64==(64&a.flags)&&$y(s,o,a))}function Vy(s,o,a=Ar){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],b=-1===y?a(o,s):s[y];s[h++]=b}}}function Kw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Uy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Uy(s,o,a,l,h,p,y,b,T,x){const k=Dn+l,H=k+h,J=function LC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:en);return a}(k,H),ie="function"==typeof x?x():x;return J[st]={type:s,blueprint:J,template:a,queries:null,viewQuery:b,declTNode:o,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:ie,incompleteFirstPass:!1}}function Yw(s,o,a,l){const h=Hy(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&og(s).push(l,h.length-1))}function Jw(s,o,a,l){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const p=s[h];null===l?Xw(a,o,h,p):l.hasOwnProperty(h)&&Xw(a,o,l[h],p)}return a}function Xw(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function Hr(s,o,a,l,h,p,y,b){const T=Ar(o,a);let k,x=o.inputs;!b&&null!=x&&(k=x[l])?(ag(s,a,k,l,h),_a(o)&&function UC(s,o){const a=gr(o,s);16&a[Xt]||(a[Xt]|=32)}(a,o.index)):3&o.type&&(l=function Gc(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=y?y(h,o.value||"",l):h,p.setProperty(T,l,h))}function By(s,o,a,l){if(fu()){const h=null===l?null:{"":-1},p=function Vl(s,o){const a=s.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Tf(o,y.selectors,!1))if(l||(l=[]),Qr(y))if(null!==y.findHostDirectiveDefs){const b=[];h=h||new Map,y.findHostDirectiveDefs(y,b,h),l.unshift(...b,y),jy(s,o,b.length)}else l.unshift(y),jy(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(s,a);let y,b;null===p?y=b=null:[y,b]=p,null!==y&&n0(s,o,a,y,h,b),h&&function qc(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ee(-301,!1);l.push(o[h],p)}}}(a,l,h)}a.mergedAttrs=hs(a.mergedAttrs,a.attrs)}function n0(s,o,a,l,h,p){for(let x=0;x<l.length;x++)bo(yc(a,o),s,l[x].type);!function s0(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let x=0;x<l.length;x++){const k=l[x];k.providersResolver&&k.providersResolver(k)}let y=!1,b=!1,T=Fl(s,o,l.length,null);for(let x=0;x<l.length;x++){const k=l[x];a.mergedAttrs=hs(a.mergedAttrs,k.hostAttrs),o0(s,a,o,T,k),r0(T,k,h),null!==k.contentQueries&&(a.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=64);const H=k.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),y=!0),!b&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),b=!0),T++}!function e0(s,o,a){const h=o.directiveEnd,p=s.data,y=o.attrs,b=[];let T=null,x=null;for(let k=o.directiveStart;k<h;k++){const H=p[k],J=a?a.get(H):null,De=J?J.outputs:null;T=Jw(H.inputs,k,T,J?J.inputs:null),x=Jw(H.outputs,k,x,De);const Ze=null===T||null===y||Ty(o)?null:l0(T,k,y);b.push(Ze)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=8),T.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=T,o.outputs=x}(s,a,p)}function $y(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Td(){return Bt.lFrame.currentDirectiveIndex}();try{qi(p);for(let b=l;b<h;b++){const T=s.data[b],x=o[b];rr(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Qi(T,x)}}finally{qi(-1),rr(y)}}function Qi(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jy(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function r0(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Qr(o)&&(a[""]=s)}}function o0(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=as(h.type)),y=new ds(p,Qr(h),lh);s.blueprint[l]=y,a[l]=y,function ng(s,o,a,l,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const b=~o.index;(function BC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=b&&y.push(b),y.push(a,l,p)}}(s,o,l,Fl(s,a,h.hostVars,en),h)}function oa(s,o,a,l,h,p){const y=Ar(s,o);!function rg(s,o,a,l,h,p,y){if(null==p)s.removeAttribute(o,h,a);else{const b=null==y?Ie(p):y(p,l||"",h);s.setAttribute(o,h,b,a)}}(o[Kt],y,p,s.value,a,l,h)}function u0(s,o,a,l,h,p){const y=p[o];if(null!==y){const b=l.setInput;for(let T=0;T<y.length;){const x=y[T++],k=y[T++],H=y[T++];null!==b?l.setInput(a,H,x,k):a[k]=H}}}function l0(s,o,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const y=s[p];for(let b=0;b<y.length;b+=2)if(y[b]===o){l.push(p,y[b+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Pf(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function h0(s,o){const a=gr(o,s);if(As(a)){const l=a[st];48&a[Xt]?tg(l,a,l.template,a[Kn]):a[rs]>0&&ig(a)}}function ig(s){for(let l=Nu(s);null!==l;l=ku(l))for(let h=Tr;h<l.length;h++){const p=l[h];if(As(p))if(512&p[Xt]){const y=p[st];tg(y,p,y.template,p[Kn])}else p[rs]>0&&ig(p)}const a=s[st].components;if(null!==a)for(let l=0;l<a.length;l++){const h=gr(a[l],s);As(h)&&h[rs]>0&&ig(h)}}function $C(s,o){const a=gr(o,s),l=a[st];(function f0(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),eg(l,a,a[Kn])}function Rf(s,o){return s[Dr]?s[Fs][_n]=o:s[Dr]=o,s[Fs]=o,o}function ch(s){for(;s;){s[Xt]|=32;const o=zd(s);if(Is(s)&&!o)return s;s=o}return null}function Nf(s,o,a,l=!0){const h=o[ss];h.begin&&h.begin();try{tg(s,o,s.template,a)}catch(y){throw l&&zy(o,y),y}finally{h.end&&h.end()}}function sg(s,o,a){ll(0),o(s,a)}function Hy(s){return s[is]||(s[is]=[])}function og(s){return s.cleanup||(s.cleanup=[])}function zy(s,o){const a=s[Fo],l=a?a.get(Cf,null):null;l&&l.handleError(o)}function ag(s,o,a,l,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],T=o[y],x=s.data[y];null!==x.setInput?x.setInput(T,h,l,b):T[b]=h}}function Ka(s,o,a){const l=Gs(o,s);!function uf(s,o,a){s.setValue(o,a)}(s[Kt],l,a)}function xi(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=Ce(h,b):2==p&&(l=Ce(l,b+": "+o[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function aa(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(or(p)),ki(p))for(let b=Tr;b<p.length;b++){const T=p[b],x=T[st].firstChild;null!==x&&aa(T[st],T,x,l)}const y=a.type;if(8&y)aa(s,o,a.child,l);else if(32&y){const b=ai(a,o);let T;for(;T=b();)l.push(T)}else if(16&y){const b=Nl(o,a);if(Array.isArray(b))l.push(...b);else{const T=zd(o[tr]);aa(T[st],T,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class dh{get rootNodes(){const o=this._lView,a=o[st];return aa(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(o){this._lView[Kn]=o}get destroyed(){return 128==(128&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Ln];if(ki(o)){const a=o[bs],l=a?a.indexOf(this):-1;l>-1&&(P(o,l),Cu(a,l))}this._attachedToViewContainer=!1}L(this._lView[st],this._lView)}onDestroy(o){Yw(this._lView[st],this._lView,null,o)}markForCheck(){ch(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-65}reattach(){this._lView[Xt]|=64}detectChanges(){Nf(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gd(s,o){hf(s,o,o[Kt],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=o}}class _x extends dh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Nf(o[st],o,o[Kn],!1)}checkNoChanges(){}get context(){return null}}class HC extends rh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=bt(o);return new Ul(a,this.ngModule)}}function Gy(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class qy{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Ir(l);const h=this.injector.get(o,Kp,l);return h!==Kp||a===Kp?h:this.parentInjector.get(o,a,l)}}class Ul extends Iw{get inputs(){return Gy(this.componentDef.inputs)}get outputs(){return Gy(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function _C(s){return s.map(vC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof Hc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new qy(o,p):o,b=y.get(Ey,null);if(null===b)throw new Ee(407,!1);const T=y.get(cC,null),x=b.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",H=l?function VC(s,o,a){return s.selectRootElement(o,a===B.ShadowDom)}(x,l,this.componentDef.encapsulation):lf(x,k,function g0(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),J=this.componentDef.onPush?288:272,ie=Uy(0,null,null,1,0,null,null,null,null,null),De=Xp(null,ie,null,J,null,null,b,x,T,y,null);let Ze,ot;wo(De);try{const yt=this.componentDef;let zt,Ve=null;yt.findHostDirectiveDefs?(zt=[],Ve=new Map,yt.findHostDirectiveDefs(yt,zt,Ve),zt.push(yt)):zt=[yt];const ln=function GC(s,o){const a=s[st],l=Dn;return s[l]=o,Mf(a,l,2,"#host",null)}(De,H),Mn=function wx(s,o,a,l,h,p,y,b){const T=h[st];!function Ex(s,o,a,l){for(const h of s)o.mergedAttrs=hs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(xi(o,o.mergedAttrs,!0),null!==a&&pf(l,a,o))}(l,s,o,y);const x=p.createRenderer(o,a),k=Xp(h,Kw(a),null,a.onPush?32:16,h[s.index],s,p,x,b||null,null,null);return T.firstCreatePass&&jy(T,s,l.length-1),Rf(h,k),h[s.index]=k}(ln,H,yt,zt,De,b,x);ot=Ea(ie,Dn),H&&function Ix(s,o,a,l){if(l)yr(s,a,["ng-version",Aw.full]);else{const{attrs:h,classes:p}=function wC(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!sa(h))break;h=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&yr(s,a,h),p&&p.length>0&&kl(s,a,p.join(" "))}}(x,yt,H,l),void 0!==a&&function Cx(s,o,a){const l=s.projection=[];for(let h=0;h<o.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(ot,this.ngContentSelectors,a),Ze=function bx(s,o,a,l,h,p){const y=nr(),b=h[st],T=Ar(y,h);n0(b,h,y,a,null,l);for(let k=0;k<a.length;k++)X(ir(h,b,y.directiveStart+k,y),h);$y(b,h,y),T&&X(T,h);const x=ir(h,b,y.directiveStart+y.componentOffset,y);if(s[Kn]=h[Kn]=x,null!==p)for(const k of p)k(x,o);return Fy(b,y,s),x}(Mn,yt,zt,Ve,De,[Dx]),eg(ie,De,null)}finally{Ms()}return new zC(this.componentType,Ze,Fu(ot,De),De,ot)}}class zC extends oC{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new _x(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;ag(p[st],p,h,o,a),ch(gr(this._tNode.index,p))}}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Dx(){const s=nr();cs(_e()[st],s)}function Wy(s){let o=function qC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Qr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ee(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const y=s;y.inputs=Zy(s.inputs),y.declaredInputs=Zy(s.declaredInputs),y.outputs=Zy(s.outputs);const b=h.hostBindings;b&&Ky(s,b);const T=h.viewQuery,x=h.contentQueries;if(T&&WC(s,T),x&&ZC(s,x),ge(s.inputs,h.inputs),ge(s.declaredInputs,h.declaredInputs),ge(s.outputs,h.outputs),Qr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===Wy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function y0(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=hs(h.hostAttrs,a=hs(a,h.hostAttrs))}}(l)}function Zy(s){return s===O?{}:s===Q?[]:s}function WC(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function ZC(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function Ky(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function Vf(s){return!!_0(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function _0(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function zr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function fh(s,o,a,l){const h=_e();return zr(h,us(),o)&&(Wt(),oa(Vn(),h,s,o,a,l)),fh}function ph(s,o,a,l){return zr(s,us(),a)?o+Ie(a)+l:en}function Bl(s,o,a,l,h,p){const b=function la(s,o,a,l){const h=zr(s,o,a);return zr(s,o+1,l)||h}(s,function si(){return Bt.lFrame.bindingIndex}(),a,h);return Fi(2),b?o+Ie(a)+l+Ie(h)+p:en}function eD(s,o,a,l,h,p,y,b){const T=_e(),x=Wt(),k=s+Dn,H=x.firstCreatePass?function XC(s,o,a,l,h,p,y,b,T){const x=o.consts,k=Mf(o,s,4,y||null,Oi(x,b));By(o,a,k,Oi(x,T)),cs(o,k);const H=k.tView=Uy(2,k,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,k),H.queries=o.queries.embeddedTView(k)),k}(k,x,T,o,a,l,h,p,y):x.data[k];hi(H,!1);const J=T[Kt].createComment("");Rl(x,T,J,H),X(J,T),Rf(T,T[k]=Pf(J,T,J,H)),Vo(H)&&Ly(x,T,H),null!=y&&Vy(T,H,b)}function $f(s,o,a){const l=_e();return zr(l,us(),o)&&Hr(Wt(),Vn(),l,s,o,l[Kt],a,!1),$f}function pg(s,o,a,l,h){const y=h?"class":"style";ag(s,a,o.inputs[y],y,l)}function $l(s,o,a,l){const h=_e(),p=Wt(),y=Dn+s,b=h[Kt],T=p.firstCreatePass?function I0(s,o,a,l,h,p){const y=o.consts,T=Mf(o,s,2,l,Oi(y,h));return By(o,a,T,Oi(y,p)),null!==T.attrs&&xi(T,T.attrs,!1),null!==T.mergedAttrs&&xi(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,o,a,l):p.data[y],x=h[y]=lf(b,o,function fl(){return Bt.lFrame.currentNamespace}()),k=Vo(T);return hi(T,!0),pf(b,x,T),32!=(32&T.flags)&&Rl(p,h,x,T),0===function hu(){return Bt.lFrame.elementDepthCount}()&&X(x,h),function Bo(){Bt.lFrame.elementDepthCount++}(),k&&(Ly(p,h,T),Fy(p,T,h)),null!==l&&Vy(h,T),$l}function Xy(){let s=nr();Da()?function ol(){Bt.lFrame.isParent=!1}():(s=s.parent,hi(s,!1));const o=s;!function Ia(){Bt.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(cs(a,s),$s(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function z(s){return 0!=(8&s.flags)}(o)&&pg(a,o,_e(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function be(s){return 0!=(16&s.flags)}(o)&&pg(a,o,_e(),o.stylesWithoutHost,!1),Xy}function ev(s,o,a,l){return $l(s,o,a,l),Xy(),ev}function rD(){return _e()}function tv(s){return!!s&&"function"==typeof s.then}function nv(s){return!!s&&"function"==typeof s.subscribe}const A0=nv;function gg(s,o,a,l){const h=_e(),p=Wt(),y=nr();return function x0(s,o,a,l,h,p,y){const b=Vo(l),x=s.firstCreatePass&&og(s),k=o[Kn],H=Hy(o);let J=!0;if(3&l.type||y){const Ze=Ar(l,o),ot=y?y(Ze):Ze,yt=H.length,zt=y?ln=>y(or(ln[l.index])):l.index;let Ve=null;if(!y&&b&&(Ve=function S0(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===l){const b=o[is],T=h[p+2];return b.length>T?b[T]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,l.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=p,Ve.__ngLastListenerFn__=p,J=!1;else{p=M0(l,o,k,p,!1);const ln=a.listen(ot,h,p);H.push(p,ln),x&&x.push(h,zt,yt,yt+1)}}else p=M0(l,o,k,p,!1);const ie=l.outputs;let De;if(J&&null!==ie&&(De=ie[h])){const Ze=De.length;if(Ze)for(let ot=0;ot<Ze;ot+=2){const Mn=o[De[ot]][De[ot+1]].subscribe(p),ni=H.length;H.push(p,Mn),x&&x.push(h,l.index,ni,-(ni+1))}}}(p,h,h[Kt],y,s,o,l),gg}function mg(s,o,a,l){try{return zn(6,o,a),!1!==a(l)}catch(h){return zy(s,h),!1}finally{zn(7,o,a)}}function M0(s,o,a,l,h){return function p(y){if(y===Function)return l;ch(s.componentOffset>-1?gr(s.index,o):o);let T=mg(o,a,l,y),x=p.__ngNextListenerFn__;for(;x;)T=mg(o,a,x,y)&&T,x=x.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function iD(s=1){return function xa(s){return(Bt.lFrame.contextLView=function dl(s,o){for(;s>0;)o=o[os],s--;return o}(s,Bt.lFrame.contextLView))[Kn]}(s)}function iv(s,o,a){return yg(s,"",o,"",a),iv}function yg(s,o,a,l,h){const p=_e(),y=ph(p,o,a,l);return y!==en&&Hr(Wt(),Vn(),p,s,y,p[Kt],h,!1),yg}function vh(s,o){return s<<17|o<<2}function Uu(s){return s>>17&32767}function av(s){return 2|s}function jl(s){return(131068&s)>>2}function uv(s,o){return-131069&s|o<<2}function Eg(s){return 1|s}function bg(s,o,a,l,h){const p=s[a+1],y=null===o;let b=l?Uu(p):jl(p),T=!1;for(;0!==b&&(!1===T||y);){const k=s[b+1];L0(s[b],o)&&(T=!0,s[b+1]=l?Eg(k):av(k)),b=l?Uu(k):jl(k)}T&&(s[a+1]=l?av(p):Eg(p))}function L0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fs(s,o)>=0}function Ig(s,o){return function Qa(s,o,a,l){const h=_e(),p=Wt(),y=Fi(2);p.firstUpdatePass&&function hD(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[Sr()],y=function fv(s,o){return o>=s.expandoStartIndex}(s,a);(function Y0(s,o){return 0!=(s.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function Px(s,o,a,l){const h=function jo(s){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Cg(a=q0(null,s,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=q0(h,s,o,a,l),null===p){let T=function G0(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==jl(l))return s[Uu(l)]}(s,o,l);void 0!==T&&Array.isArray(T)&&(T=q0(null,s,o,T[1],l),T=Cg(T,o.attrs,l),function fD(s,o,a,l){s[Uu(a?o.classBindings:o.styleBindings)]=l}(s,o,l,T))}else p=function Rx(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Cg(l,s[p].hostAttrs,a);return Cg(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function uD(s,o,a,l,h,p){let y=p?o.classBindings:o.styleBindings,b=Uu(y),T=jl(y);s[l]=a;let k,x=!1;if(Array.isArray(a)?(k=a[1],(null===k||fs(a,k)>0)&&(x=!0)):k=a,h)if(0!==T){const J=Uu(s[b+1]);s[l+1]=vh(J,b),0!==J&&(s[J+1]=uv(s[J+1],l)),s[b+1]=function ov(s,o){return 131071&s|o<<17}(s[b+1],l)}else s[l+1]=vh(b,0),0!==b&&(s[b+1]=uv(s[b+1],l)),b=l;else s[l+1]=vh(T,0),0===b?b=l:s[T+1]=uv(s[T+1],l),T=l;x&&(s[l+1]=av(s[l+1])),bg(s,k,l,!0),bg(s,k,l,!1),function xx(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&fs(p,o)>=0&&(a[l+1]=Eg(a[l+1]))}(o,k,s,l,p),y=vh(b,T),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,l)}}(p,s,y,l),o!==en&&zr(h,y,o)&&function K0(s,o,a,l,h,p,y,b){if(!(3&o.type))return;const T=s.data,x=T[b+1],k=function wg(s){return 1==(1&s)}(x)?xn(T,o,a,h,jl(x),y):void 0;wh(k)||(wh(p)||function oD(s){return 2==(2&s)}(x)&&(p=xn(T,null,a,h,b,y)),function qa(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Ft.DashCase;null==h?s.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ft.Important),s.setStyle(a,l,h,p))}}(l,y,Gs(Sr(),a),h,p))}(p,p.data[Sr()],h,h[Kt],s,h[y+1]=function mD(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(Wa(s)))),s}(o,a),l,y)}(s,o,null,!0),Ig}function q0(s,o,a,l,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],l=Cg(l,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),l}function Cg(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wi(s,y,!!a||o[++p]))}return void 0===s?null:s}function xn(s,o,a,l,h,p){const y=null===o;let b;for(;h>0;){const T=s[h],x=Array.isArray(T),k=x?T[1]:T,H=null===k;let J=a[h+1];J===en&&(J=H?Q:void 0);let ie=H?bn(J,l):k===l?J:void 0;if(x&&!wh(ie)&&(ie=bn(T,l)),wh(ie)&&(b=ie,y))return b;const De=s[h+1];h=y?Uu(De):jl(De)}if(null!==o){let T=p?o.residualClasses:o.residualStyles;null!=T&&(b=bn(T,l))}return b}function wh(s){return void 0!==s}function Xs(s,o=""){const a=_e(),l=Wt(),h=s+Dn,p=l.firstCreatePass?Mf(l,h,1,o,null):l.data[h],y=a[h]=function Pl(s,o){return s.createText(o)}(a[Kt],o);Rl(l,a,y,p),hi(p,!1)}function Q0(s){return Dg("",s,""),Q0}function Dg(s,o,a){const l=_e(),h=ph(l,s,o,a);return h!==en&&Ka(l,Sr(),h),Dg}function Ae(s,o,a,l,h){const p=_e(),y=Bl(p,s,o,a,l,h);return y!==en&&Ka(p,Sr(),y),Ae}const zl=void 0;var rE=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _v(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Eh={};function bh(s){const o=function wv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Rg(o);if(a)return a;const l=o.split("-")[0];if(a=Rg(l),a)return a;if("en"===l)return rE;throw new Ee(701,!1)}function Pg(s){return bh(s)[Ht.PluralCase]}function Rg(s){return s in Eh||(Eh[s]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[s]),Eh[s]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const Xa="en-US";let kg=Xa;function tp(s,o,a,l,h){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)tp(s[p],o,a,l,h);else{const p=Wt(),y=_e();let b=Ou(s)?s:te(s.provide),T=yy(s);const x=nr(),k=1048575&x.providerIndexes,H=x.directiveStart,J=x.providerIndexes>>20;if(Ou(s)||!s.multi){const ie=new ds(T,h,lh),De=qg(b,o,h?k:k+J,H);-1===De?(bo(yc(x,y),p,b),Uv(p,s,o.length),o.push(b),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[De]=ie,y[De]=ie)}else{const ie=qg(b,o,k+J,H),De=qg(b,o,k,k+J),ot=De>=0&&a[De];if(h&&!ot||!h&&!(ie>=0&&a[ie])){bo(yc(x,y),p,b);const yt=function zu(s,o,a,l,h){const p=new ds(s,a,lh);return p.multi=[],p.index=o,p.componentProviders=0,xE(p,h,l&&!a),p}(h?ND:ME,a.length,h,l,T);!h&&ot&&(a[De].providerFactory=yt),Uv(p,s,o.length,0),o.push(b),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(yt),y.push(yt)}else Uv(p,s,ie>-1?ie:De,xE(a[h?De:ie],T,!h&&l));!h&&l&&ot&&a[De].componentProviders++}}}function Uv(s,o,a,l){const h=Ou(o),p=function Gp(s){return!!s.useClass}(o);if(h||p){const T=(p?te(o.useClass):o).prototype.ngOnDestroy;if(T){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=x.indexOf(a);-1===k?x.push(a,[l,T]):x[k+1].push(l,T)}else x.push(a,T)}}}function xE(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function qg(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function ME(s,o,a,l){return Hu(this.multi,[])}function ND(s,o,a,l){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=ir(a,a[st],this.providerFactory.index,l);p=b.slice(0,y),Hu(h,p);for(let T=y;T<b.length;T++)p.push(b[T])}else p=[],Hu(h,p);return p}function Hu(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function np(s,o=[]){return a=>{a.providersResolver=(l,h)=>function td(s,o,a){const l=Wt();if(l.firstCreatePass){const h=Qr(s);tp(a,l.data,l.blueprint,h,!0),tp(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class Gu{}class Bv{}function _r(s,o){return new Ah(s,o??null)}class Ah extends Gu{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HC(this);const l=fr(o);this._bootstrapComponents=Za(l.bootstrap),this._r3Injector=xy(o,a,[{provide:Gu,useValue:this},{provide:rh,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class nd extends Bv{constructor(o){super(),this.moduleType=o}create(o){return new Ah(this.moduleType,o)}}class kD extends Gu{constructor(o,a,l){super(),this.componentFactoryResolver=new HC(this),this.instance=null;const h=new Ew([...o,{provide:Gu,useValue:this},{provide:rh,useValue:this.componentFactoryResolver}],a||Wp(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Wg(s,o,a=null){return new kD(s,o,a).injector}let OD=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=eh(0,a.type),h=l.length>0?Wg([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=vt({token:s,providedIn:"environment",factory:()=>new s(Zt(Hc))}),s})();function PE(s){s.getStandaloneInjector=o=>o.get(OD).getOrCreateStandaloneInjector(s)}function ip(s){return o=>{setTimeout(s,void 0,o)}}const Ns=class ZE extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=ip(p),h&&(h=ip(h)),y&&(y=ip(y)));const b=super.subscribe({next:h,error:p,complete:y});return o instanceof N.w0&&o.add(b),b}};function KE(){return this._results[Symbol.iterator]()}class sp{get changes(){return this._changes||(this._changes=new Ns)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=sp.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=KE)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function Li(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Cc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ql=(()=>{class s{}return s.__NG_ELEMENT_ID__=zD,s})();const YE=ql,Qg=class extends YE{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,h=Xp(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[Es]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Ii];return null!==y&&(h[Ii]=y.createEmbeddedView(l)),eg(l,h,o),new dh(h)}};function zD(){return op(nr(),_e())}function op(s,o){return 4&s.type?new Qg(o,s,Fu(s,o)):null}let Wl=(()=>{class s{}return s.__NG_ELEMENT_ID__=QE,s})();function QE(){return ap(nr(),_e())}const JE=Wl,Jg=class extends JE{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const o=dr(this._hostTNode,this._hostLView);if(qo(o)){const a=wu(o,this._hostLView),l=Ra(o);return new ka(a[st].data[l+8],a)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Xg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Tr}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,l,h,p){const y=o&&!function bl(s){return"function"==typeof s}(o);let b;if(y)b=a;else{const H=a||{};b=H.index,l=H.injector,h=H.projectableNodes,p=H.environmentInjector||H.ngModuleRef}const T=y?o:new Ul(bt(o)),x=l||this.parentInjector;if(!p&&null==T.ngModule){const J=(y?x:this.parentInjector).get(Hc,null);J&&(p=J)}const k=T.create(x,h,void 0,p);return this.insert(k.hostView,b),k}insert(o,a){const l=o._lView,h=l[st];if(function rl(s){return ki(s[Ln])}(l)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const H=l[Ln],J=new Jg(H,H[cr],H[Ln]);J.detach(J.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(s,o,a,l){const h=Tr+l,p=a.length;l>0&&(a[h-1][_n]=o),l<p-Tr?(o[_n]=a[h],Dc(a,Tr+l,o)):(a.push(o),o[_n]=null),o[Ln]=a;const y=o[Es];null!==y&&a!==y&&function m(s,o){const a=s[Bs];o[tr]!==o[Ln][Ln][tr]&&(s[Lo]=!0),null===a?s[Bs]=[o]:a.push(o)}(y,o);const b=o[Ii];null!==b&&b.insertView(s),o[Xt]|=64}(h,l,y,p);const b=Ga(p,y),T=l[Kt],x=Qs(T,y[Us]);return null!==x&&function Ym(s,o,a,l,h,p){l[pr]=h,l[cr]=o,hf(s,l,a,1,h,p)}(h,y[cr],T,l,x,b),o.attachToViewContainerRef(),Dc(em(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Xg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=P(this._lContainer,a);l&&(Cu(em(this._lContainer),a),L(l[st],l))}detach(o){const a=this._adjustIndex(o,-1),l=P(this._lContainer,a);return l&&null!=Cu(em(this._lContainer),a)?new dh(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Xg(s){return s[bs]}function em(s){return s[bs]||(s[bs]=[])}function ap(s,o){let a;const l=o[s.index];if(ki(l))a=l;else{let h;if(8&s.type)h=or(l);else{const p=o[Kt];h=p.createComment("");const y=Ar(s,o);on(p,Qs(p,y),h,function cf(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=Pf(l,o,h,s),Rf(o,a)}return new Jg(a,s,o)}class tm{constructor(o){this.queryList=o,this.matches=null}clone(){return new tm(this.queryList)}setDirty(){this.queryList.setDirty()}}class nm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new nm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Kv(o,a).matches&&this.queries[a].setDirty()}}class Zl{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class rm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new rm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class im{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new im(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,XE(a,p)),this.matchTNodeWithReadOption(o,a,Na(a,o,p,!1,!1))}else l===ql?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Na(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===ih||h===Wl||h===ql&&4&a.type)this.addMatch(a.index,-2);else{const p=Na(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function XE(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function sm(s,o,a,l){return-1===a?function eb(s,o){return 11&s.type?Fu(s,o):4&s.type?op(s,o):null}(o,s):-2===a?function eo(s,o,a){return a===ih?Fu(o,s):a===ql?op(o,s):a===Wl?ap(o,s):void 0}(s,o,l):ir(s,s[st],a,o)}function Zv(s,o,a,l){const h=o[Ii].queries[l];if(null===h.matches){const p=s.data,y=a.matches,b=[];for(let T=0;T<y.length;T+=2){const x=y[T];b.push(x<0?null:sm(o,p[x],y[T+1],a.metadata.read))}h.matches=b}return h.matches}function om(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Zv(s,o,h,a);for(let b=0;b<p.length;b+=2){const T=p[b];if(T>0)l.push(y[b/2]);else{const x=p[b+1],k=o[-T];for(let H=Tr;H<k.length;H++){const J=k[H];J[Es]===J[Ln]&&om(J[st],J,x,l)}if(null!==k[Bs]){const H=k[Bs];for(let J=0;J<H.length;J++){const ie=H[J];om(ie[st],ie,x,l)}}}}}return l}function rd(s){const o=_e(),a=Wt(),l=Ho();ll(l+1);const h=Kv(a,l);if(s.dirty&&function Uo(s){return 4==(4&s[Xt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?om(a,o,l,[]):Zv(a,o,h,l);s.reset(p,If),s.notifyOnChanges()}return!0}return!1}function No(s,o,a,l){const h=Wt();if(h.firstCreatePass){const p=nr();(function um(s,o,a){null===s.queries&&(s.queries=new rm),s.queries.track(new im(o,a))})(h,new Zl(o,a,l),p.index),function eu(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function tb(s,o,a){const l=new sp(4==(4&a));Yw(s,o,l,l.destroy),null===o[Ii]&&(o[Ii]=new nm),o[Ii].queries.push(new tm(l))}(h,_e(),a)}function am(){return function Gn(s,o){return s[Ii].queries[o].queryList}(_e(),Ho())}function Kv(s,o){return s.queries.getByIndex(o)}function Rh(s){return!!fr(s)}function nt(...s){}const fm=new mn("Application Initializer");let tu=(()=>{class s{constructor(a){this.appInits=a,this.resolve=nt,this.reject=nt,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(tv(p))a.push(p);else if(A0(p)){const y=new Promise((b,T)=>{p.subscribe({complete:b,error:T})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Zt(fm,8))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hb=new mn("AppId",{providedIn:"root",factory:function cp(){return`${od()}${od()}${od()}`}});function od(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const s_=new mn("Platform Initializer"),fb=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let gb=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ga=new mn("LocaleId",{providedIn:"root",factory:()=>Hn(ga,ft.Optional|ft.SkipSelf)||function mb(){return typeof $localize<"u"&&$localize.locale||Xa}()}),o_=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XD{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let dp=(()=>{class s{compileModuleSync(a){return new nd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Za(fr(a).declarations).reduce((y,b)=>{const T=bt(b);return T&&y.push(new Ul(T)),y},[]);return new XD(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const to=(()=>Promise.resolve(0))();function ud(s){typeof Zone>"u"?to.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class sr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function hp(){let s=hn.requestAnimationFrame,o=hn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function yb(s){const o=()=>{!function ru(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(hn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,kh(s),s.isCheckStableRunning=!0,gm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),kh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,y,b)=>{try{return l_(s),a.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),vb(s)}},onInvoke:(a,l,h,p,y,b,T)=>{try{return l_(s),a.invoke(h,p,y,b,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),vb(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,kh(s),gm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sr.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(sr.isInAngularZone())throw new Ee(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,tT,nt,nt);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const tT={};function gm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function kh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function l_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function vb(s){s._nesting--,gm(s)}class nT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const _b=new mn(""),wb=new mn("");let c_,rT=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c_||(function iT(s){c_=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sr.assertNotInAngularZone(),ud(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ud(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Zt(sr),Zt(Eb),Zt(wb))},s.\u0275prov=vt({token:s,factory:s.\u0275fac}),s})(),Eb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return c_?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Qu=!1;let Jl=null;const bb=new mn("AllowMultipleToken"),d_=new mn("PlatformDestroyListeners"),Ib=new mn("appBootstrapListener");class oT{constructor(o,a){this.name=o,this.token=a}}function yi(s,o,a=[]){const l=`Platform: ${o}`,h=new mn(l);return(p=[])=>{let y=Yn();if(!y||y.injector.get(bb,!1)){const b=[...a,...p,{provide:h,useValue:!0}];s?s(b):function Db(s){if(Jl&&!Jl.get(bb,!1))throw new Ee(400,!1);Jl=s;const o=s.get(fp);(function Ab(s){const o=s.get(s_,null);o&&o.forEach(a=>a())})(s)}(function Ju(s=[],o){return oh.create({name:o,providers:[{provide:Ol,useValue:"platform"},{provide:d_,useValue:new Set([()=>Jl=null])},...s]})}(b,l))}return function xb(s){const o=Yn();if(!o)throw new Ee(401,!1);return o}()}}function Yn(){return Jl?.get(fp)??null}let fp=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function lr(s,o){let a;return a="noop"===s?new nT:("zone.js"===s?void 0:s)||new sr(o),a}(l?.ngZone,function Pi(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:sr,useValue:h}];return h.run(()=>{const y=oh.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(y),T=b.injector.get(Cf,null);if(!T)throw new Ee(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:k=>{T.handleError(k)}});b.onDestroy(()=>{pp(this._modules,b),x.unsubscribe()})}),function h_(s,o,a){try{const l=a();return tv(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(T,h,()=>{const x=b.injector.get(tu);return x.runInitializers(),x.donePromise.then(()=>(function bv(s){ht(s,"Expected localeId to be defined"),"string"==typeof s&&(kg=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(ga,Xa)||Xa),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=ld({},l);return function sT(s,o,a){const l=new nd(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(ji);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ee(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(d_,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Zt(oh))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ld(s,o){return Array.isArray(o)?o.reduce(ld,s):{...s,...o}}let ji=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new F.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new F.y(b=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{sr.assertNotInAngularZone(),ud(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{sr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{T.unsubscribe(),x.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ce.B)()))}bootstrap(a,l){const h=a instanceof Iw;if(!this._injector.get(tu).done){!h&&Cr(a);throw new Ee(405,Qu)}let y;y=h?a:this._injector.get(rh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function Cb(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Gu),x=y.create(oh.NULL,[],l||y.selector,b),k=x.location.nativeElement,H=x.injector.get(_b,null);return H?.registerApplication(k),x.onDestroy(()=>{this.detachView(x.hostView),pp(this.components,x),H?.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;pp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Ib,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>pp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Zt(sr),Zt(Hc),Zt(Cf))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function pp(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function uT(){return!1}let mm=(()=>{class s{}return s.__NG_ELEMENT_ID__=mp,s})();function mp(s){return function lT(s,o,a){if(_a(s)&&!a){const l=gr(s.index,o);return new dh(l,l)}return 47&s.type?new dh(o[tr],o):null}(nr(),_e(),16==(16&s))}class p_{constructor(){}supports(o){return Vf(o)}create(o){return new Nb(o)}}const Hi=(s,o)=>o;class Nb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Hi}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<m_(l,h,p)?a:l,b=m_(y,h,p),T=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const x=b-h,k=T-h;if(x!=k){for(let J=0;J<x;J++){const ie=J<p.length?p[J]:p[J]=0,De=ie+J;k<=De&&De<x&&(p[J]=ie+1)}p[y.previousIndex]=k-x}}b!==T&&o(y,b,T)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Vf(o))throw new Ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),l=!0),a=a._next}else h=0,function Uf(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new hr(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new g_),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new g_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class hr{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nc{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class g_{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new nc,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function m_(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class gd{constructor(){}supports(o){return o instanceof Map||_0(o)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||_0(o)))throw new Ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const l=new kb(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class kb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wn(){return new On([new p_])}let On=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||wn()),deps:[[s,new At,new Qo]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Ee(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:wn}),s})();function _m(){return new wp([new gd])}let wp=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||_m()),deps:[[s,new At,new Qo]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Ee(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:_m}),s})();const Fb=yi(null,"core",[]);let gT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Zt(ji))},s.\u0275mod=re({type:s}),s.\u0275inj=gn({}),s})();function mT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Dt,le,$)=>{"use strict";$.d(le,{Z:()=>Je});var d=$(2090),N=$(4859),F=$(6881),se=$(1877);class ce{constructor(Ee,xe){this._delegate=Ee,this.firebase=xe,(0,F._addComponent)(Ee,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Ee,xe=F._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Ee);return!Be.isInitialized()&&"EXPLICIT"===(null===(Ie=Be.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:xe})}_removeServiceInstance(Ee,xe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(xe)}_addComponent(Ee){(0,F._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,F._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ce(){const Xe=function ye(Xe){const Ee={},xe={__esModule:!0,initializeApp:function Re(Le,oe={}){const et=F.initializeApp(Le,oe);if((0,d.r3)(Ee,et.name))return Ee[et.name];const Ct=new Xe(et,xe);return Ee[et.name]=Ct,Ct},app:Be,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ke(Le){const oe=Le.name,et=oe.replace("-compat","");if(F._registerComponent(Le)&&"PUBLIC"===Le.type){const Ct=(rt=Be())=>{if("function"!=typeof rt[et])throw ge.create("invalid-app-argument",{appName:oe});return rt[et]()};void 0!==Le.serviceProps&&(0,d.ZB)(Ct,Le.serviceProps),xe[et]=Ct,Xe.prototype[et]=function(...rt){return this._getService.bind(this,oe).apply(this,Le.multipleInstances?rt:[])}}return"PUBLIC"===Le.type?xe[et]:null},removeApp:function Ie(Le){delete Ee[Le]},useAsService:function Ge(Le,oe){return"serverAuth"===oe?null:oe},modularAPIs:F}};function Be(Le){if(!(0,d.r3)(Ee,Le=Le||F._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Le});return Ee[Le]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function Me(){return Object.keys(Ee).map(Le=>Ee[Le])}}),Be.App=Xe,xe}(ce);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Ee(xe){(0,d.ZB)(Xe,xe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Xe}(),Z=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=K;!function Pe(Xe){(0,F.registerVersion)("@firebase/app-compat","0.2.9",Xe)}()},6881:(Dt,le,$)=>{"use strict";$.r(le),$.d(le,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>Er,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Ye,_apps:()=>hn,_clearComponents:()=>ri,_components:()=>Yt,_getProvider:()=>br,_registerComponent:()=>er,_removeServiceInstance:()=>$n,deleteApp:()=>jn,getApp:()=>ii,getApps:()=>Zt,initializeApp:()=>an,onLog:()=>kn,registerVersion:()=>Ir,setLogLevel:()=>Zr});var d=$(5861),N=$(4859),F=$(1877),se=$(2090);const ce=(me,re)=>re.some(Ue=>me instanceof Ue);let ue,ge;const K=new WeakMap,Z=new WeakMap,te=new WeakMap,je=new WeakMap,Pe=new WeakMap;let Ee={get(me,re,Ue){if(me instanceof IDBTransaction){if("done"===re)return Z.get(me);if("objectStoreNames"===re)return me.objectStoreNames||te.get(me);if("store"===re)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Re(me[re])},set:(me,re,Ue)=>(me[re]=Ue,!0),has:(me,re)=>me instanceof IDBTransaction&&("done"===re||"store"===re)||re in me};function Be(me){return"function"==typeof me?function Ie(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...re){return me.apply(Me(this),re),Re(K.get(this))}:function(...re){return Re(me.apply(Me(this),re))}:function(re,...Ue){const Et=me.call(Me(this),re,...Ue);return te.set(Et,re.sort?re.sort():[re]),Re(Et)}}(me):(me instanceof IDBTransaction&&function Xe(me){if(Z.has(me))return;const re=new Promise((Ue,Et)=>{const Ot=()=>{me.removeEventListener("complete",Jt),me.removeEventListener("error",bt),me.removeEventListener("abort",bt)},Jt=()=>{Ue(),Ot()},bt=()=>{Et(me.error||new DOMException("AbortError","AbortError")),Ot()};me.addEventListener("complete",Jt),me.addEventListener("error",bt),me.addEventListener("abort",bt)});Z.set(me,re)}(me),ce(me,function ye(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Ee):me)}function Re(me){if(me instanceof IDBRequest)return function Je(me){const re=new Promise((Ue,Et)=>{const Ot=()=>{me.removeEventListener("success",Jt),me.removeEventListener("error",bt)},Jt=()=>{Ue(Re(me.result)),Ot()},bt=()=>{Et(me.error),Ot()};me.addEventListener("success",Jt),me.addEventListener("error",bt)});return re.then(Ue=>{Ue instanceof IDBCursor&&K.set(Ue,me)}).catch(()=>{}),Pe.set(re,me),re}(me);if(je.has(me))return je.get(me);const re=Be(me);return re!==me&&(je.set(me,re),Pe.set(re,me)),re}const Me=me=>Pe.get(me),Le=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],et=new Map;function Ct(me,re){if(!(me instanceof IDBDatabase)||re in me||"string"!=typeof re)return;if(et.get(re))return et.get(re);const Ue=re.replace(/FromIndex$/,""),Et=re!==Ue,Ot=oe.includes(Ue);if(!(Ue in(Et?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Le.includes(Ue))return;const Jt=function(){var bt=(0,d.Z)(function*(vn,...dn){const Cr=this.transaction(vn,Ot?"readwrite":"readonly");let fr=Cr.store;return Et&&(fr=fr.index(dn.shift())),(yield Promise.all([fr[Ue](...dn),Ot&&Cr.done]))[0]});return function(dn){return bt.apply(this,arguments)}}();return et.set(re,Jt),Jt}!function xe(me){Ee=me(Ee)}(me=>({...me,get:(re,Ue,Et)=>Ct(re,Ue)||me.get(re,Ue,Et),has:(re,Ue)=>!!Ct(re,Ue)||me.has(re,Ue)}));class rt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function nn(me){return"VERSION"===me.getComponent()?.type}(Ue)){const Et=Ue.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Ue=>Ue).join(" ")}}const lt="@firebase/app",we=new F.Yd("@firebase/app"),Er="[DEFAULT]",Lr={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Yt=new Map;function pt(me,re){try{me.container.addComponent(re)}catch(Ue){we.debug(`Component ${re.name} failed to register with FirebaseApp ${me.name}`,Ue)}}function Ye(me,re){me.container.addOrOverwriteComponent(re)}function er(me){const re=me.name;if(Yt.has(re))return we.debug(`There were multiple attempts to register component ${re}.`),!1;Yt.set(re,me);for(const Ue of hn.values())pt(Ue,me);return!0}function br(me,re){const Ue=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),me.container.getProvider(re)}function $n(me,re,Ue=Er){br(me,re).clearInstance(Ue)}function ri(){Yt.clear()}const Fn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor(re,Ue,Et){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const bi="9.21.0";function an(me,re={}){let Ue=me;"object"!=typeof re&&(re={name:re});const Et=Object.assign({name:Er,automaticDataCollectionEnabled:!1},re),Ot=Et.name;if("string"!=typeof Ot||!Ot)throw Fn.create("bad-app-name",{appName:String(Ot)});if(Ue||(Ue=(0,se.aH)()),!Ue)throw Fn.create("no-options");const Jt=hn.get(Ot);if(Jt){if((0,se.vZ)(Ue,Jt.options)&&(0,se.vZ)(Et,Jt.config))return Jt;throw Fn.create("duplicate-app",{appName:Ot})}const bt=new N.H0(Ot);for(const dn of Yt.values())bt.addComponent(dn);const vn=new sn(Ue,Et,bt);return hn.set(Ot,vn),vn}function ii(me=Er){const re=hn.get(me);if(!re&&me===Er)return an();if(!re)throw Fn.create("no-app",{appName:me});return re}function Zt(){return Array.from(hn.values())}function jn(me){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(me){const re=me.name;hn.has(re)&&(hn.delete(re),yield Promise.all(me.container.getProviders().map(Ue=>Ue.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Ir(me,re,Ue){var Et;let Ot=null!==(Et=Lr[me])&&void 0!==Et?Et:me;Ue&&(Ot+=`-${Ue}`);const Jt=Ot.match(/\s|\//),bt=re.match(/\s|\//);if(Jt||bt){const vn=[`Unable to register library "${Ot}" with version "${re}":`];return Jt&&vn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Jt&&bt&&vn.push("and"),bt&&vn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void we.warn(vn.join(" "))}er(new N.wA(`${Ot}-version`,()=>({library:Ot,version:re}),"VERSION"))}function kn(me,re){if(null!==me&&"function"!=typeof me)throw Fn.create("invalid-log-argument");(0,F.Am)(me,re)}function Zr(me){(0,F.Ub)(me)}const Vr="firebase-heartbeat-database",Kr=1,q="firebase-heartbeat-store";let G=null;function V(){return G||(G=function ke(me,re,{blocked:Ue,upgrade:Et,blocking:Ot,terminated:Jt}={}){const bt=indexedDB.open(me,re),vn=Re(bt);return Et&&bt.addEventListener("upgradeneeded",dn=>{Et(Re(bt.result),dn.oldVersion,dn.newVersion,Re(bt.transaction),dn)}),Ue&&bt.addEventListener("blocked",dn=>Ue(dn.oldVersion,dn.newVersion,dn)),vn.then(dn=>{Jt&&dn.addEventListener("close",()=>Jt()),Ot&&dn.addEventListener("versionchange",Cr=>Ot(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),vn}(Vr,Kr,{upgrade:(me,re)=>{0===re&&me.createObjectStore(q)}}).catch(me=>{throw Fn.create("idb-open",{originalErrorMessage:me.message})})),G}function O(){return(O=(0,d.Z)(function*(me){try{return(yield V()).transaction(q).objectStore(q).get(ut(me))}catch(re){if(re instanceof se.ZR)we.warn(re.message);else{const Ue=Fn.create("idb-get",{originalErrorMessage:re?.message});we.warn(Ue.message)}}})).apply(this,arguments)}function Q(me,re){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(me,re){try{const Et=(yield V()).transaction(q,"readwrite");return yield Et.objectStore(q).put(re,ut(me)),Et.done}catch(Ue){if(Ue instanceof se.ZR)we.warn(Ue.message);else{const Et=Fn.create("idb-set",{originalErrorMessage:Ue?.message});we.warn(Et.message)}}})).apply(this,arguments)}function ut(me){return`${me.name}!${me.options.appId}`}class Qt{constructor(re){this.container=re,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new qt(Ue),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const Et=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Lt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!re._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Ot))return re._heartbeatsCache.heartbeats.push({date:Ot,agent:Et}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(Jt=>{const bt=new Date(Jt.date).valueOf();return Date.now()-bt<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Ue=Lt(),{heartbeatsToSend:Et,unsentEntries:Ot}=function Sn(me,re=1024){const Ue=[];let Et=me.slice();for(const Ot of me){const Jt=Ue.find(bt=>bt.agent===Ot.agent);if(Jt){if(Jt.dates.push(Ot.date),Zn(Ue)>re){Jt.dates.pop();break}}else if(Ue.push({agent:Ot.agent,dates:[Ot.date]}),Zn(Ue)>re){Ue.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Et}}(re._heartbeatsCache.heartbeats),Jt=(0,se.L)(JSON.stringify({version:2,heartbeats:Et}));return re._heartbeatsCache.lastSentHeartbeatDate=Ue,Ot.length>0?(re._heartbeatsCache.heartbeats=Ot,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),Jt})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function B(me){return O.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Ue=this;return(0,d.Z)(function*(){var Et;if(yield Ue._canUseIndexedDBPromise){const Jt=yield Ue.read();return Q(Ue.app,{lastSentHeartbeatDate:null!==(Et=re.lastSentHeartbeatDate)&&void 0!==Et?Et:Jt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Ue=this;return(0,d.Z)(function*(){var Et;if(yield Ue._canUseIndexedDBPromise){const Jt=yield Ue.read();return Q(Ue.app,{lastSentHeartbeatDate:null!==(Et=re.lastSentHeartbeatDate)&&void 0!==Et?Et:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...re.heartbeats]})}})()}}function Zn(me){return(0,se.L)(JSON.stringify({version:2,heartbeats:me})).length}!function zi(me){er(new N.wA("platform-logger",re=>new rt(re),"PRIVATE")),er(new N.wA("heartbeat",re=>new Qt(re),"PRIVATE")),Ir(lt,"0.9.9",me),Ir(lt,"0.9.9","esm2017"),Ir("fire-js","")}("")},4859:(Dt,le,$)=>{"use strict";$.d(le,{H0:()=>ye,wA:()=>F});var d=$(5861),N=$(2090);class F{constructor(K,Z,te){this.name=K,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const se="[DEFAULT]";class ce{constructor(K,Z){this.name=K,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Z=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Z)){const te=new N.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:Z});je&&te.resolve(je)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(K){var Z;const te=this.normalizeInstanceIdentifier(K?.identifier),je=null!==(Z=K?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Pe){if(je)return null;throw Pe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ge(Ce){return"EAGER"===Ce.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,te]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(Z);try{const Pe=this.getOrInitializeService({instanceIdentifier:je});te.resolve(Pe)}catch{}}}}clearInstance(K=se){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,d.Z)(function*(){const Z=Array.from(K.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=se){return this.instances.has(K)}getOptions(K=se){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Z={}}=K,te=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Pe,Je]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Pe)&&Je.resolve(je);return je}onInit(K,Z){var te;const je=this.normalizeInstanceIdentifier(Z),Pe=null!==(te=this.onInitCallbacks.get(je))&&void 0!==te?te:new Set;Pe.add(K),this.onInitCallbacks.set(je,Pe);const Je=this.instances.get(je);return Je&&K(Je,je),()=>{Pe.delete(K)}}invokeOnInitCallbacks(K,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const je of te)try{je(K,Z)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Z={}}){let te=this.instances.get(K);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=K,Ce===se?void 0:Ce),options:Z}),this.instances.set(K,te),this.instancesOptions.set(K,Z),this.invokeOnInitCallbacks(te,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,te)}catch{}var Ce;return te||null}normalizeInstanceIdentifier(K=se){return this.component?this.component.multipleInstances?K:se:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Z=this.getProvider(K.name);if(Z.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Z.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Z=new ce(K,this);return this.providers.set(K,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,le,$)=>{"use strict";$.d(le,{Am:()=>Ce,Ub:()=>ye,Yd:()=>ge,in:()=>N});const d=[];var N=(()=>{return(K=N||(N={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",N;var K})();const F={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},se=N.INFO,ce={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},ue=(K,Z,...te)=>{if(Z<K.logLevel)return;const je=(new Date).toISOString(),Pe=ce[Z];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Pe](`[${je}]  ${K.name}:`,...te)};class ge{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ue,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in N))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?F[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...Z),this._logHandler(this,N.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...Z),this._logHandler(this,N.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,N.INFO,...Z),this._logHandler(this,N.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,N.WARN,...Z),this._logHandler(this,N.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...Z),this._logHandler(this,N.ERROR,...Z)}}function ye(K){d.forEach(Z=>{Z.setLogLevel(K)})}function Ce(K,Z){for(const te of d){let je=null;Z&&Z.level&&(je=F[Z.level]),te.userLogHandler=null===K?null:(Pe,Je,...Xe)=>{const Ee=Xe.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Je>=(je??Pe.logLevel)&&K({level:N[Je].toLowerCase(),message:Ee,args:Xe,type:Pe.name})}}}},259:(Dt,le,$)=>{"use strict";$.d(le,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=$(6881);(0,d.registerVersion)("firebase","9.21.0","app")},9260:(Dt,le,$)=>{"use strict";$.d(le,{Z:()=>d.Z});var d=$(3942);d.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(Dt,le,$)=>{"use strict";$.r(le);var d=$(5861),N=$(3942),F=$(8502),se=$(2090),ge=($(6881),$(1877),$(4859));function ye(){return window}const Ce=2e3;function Z(){return Z=(0,d.Z)(function*(V,B,O){var Q;const{BuildInfo:Te}=ye();(0,F.as)(B.sessionId,"AuthEvent did not contain a session ID");const ut=yield function xe(V){return Ie.apply(this,arguments)}(B.sessionId),kt={};return(0,F.at)()?kt.ibi=Te.packageName:(0,F.au)()?kt.apn=Te.packageName:(0,F.av)(V,"operation-not-supported-in-this-environment"),Te.displayName&&(kt.appDisplayName=Te.displayName),kt.sessionId=ut,(0,F.aw)(V,O,B.type,void 0,null!==(Q=B.eventId)&&void 0!==Q?Q:void 0,kt)}),Z.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(V){const{BuildInfo:B}=ye(),O={};(0,F.at)()?O.iosBundleId=B.packageName:(0,F.au)()?O.androidPackageName=B.packageName:(0,F.av)(V,"operation-not-supported-in-this-environment"),yield(0,F.ax)(V,O)})).apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(V,B,O){const{cordova:Q}=ye();let Te=()=>{};try{yield new Promise((ut,kt)=>{let Mt=null;function Qt(){var qt;ut();const Zn=null===(qt=Q.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Zn&&Zn(),"function"==typeof O?.close&&O.close()}function Lt(){Mt||(Mt=window.setTimeout(()=>{kt((0,F.az)(V,"redirect-cancelled-by-user"))},Ce))}function Sn(){"visible"===document?.visibilityState&&Lt()}B.addPassiveListener(Qt),document.addEventListener("resume",Lt,!1),(0,F.au)()&&document.addEventListener("visibilitychange",Sn,!1),Te=()=>{B.removePassiveListener(Qt),document.removeEventListener("resume",Lt,!1),document.removeEventListener("visibilitychange",Sn,!1),Mt&&window.clearTimeout(Mt)}})}finally{Te()}})).apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(V){const B=function Be(V){if((0,F.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const B=new ArrayBuffer(V.length),O=new Uint8Array(B);for(let Q=0;Q<V.length;Q++)O[Q]=V.charCodeAt(Q);return O}(V),O=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(O)).map(Te=>Te.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Re=20;class Me extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(B)),super.onEvent(B)}initialized(){var B=this;return(0,d.Z)(function*(){yield B.initPromise})()}}function Le(V){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.Z)(function*(V){const B=yield rt()._get(nn(V));return B&&(yield rt()._remove(nn(V))),B})).apply(this,arguments)}function Ct(){const V=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Re;O++){const Q=Math.floor(Math.random()*B.length);V.push(B.charAt(Q))}return V.join("")}function rt(){return(0,F.aC)(F.b)}function nn(V){return(0,F.aD)("authEvent",V.config.apiKey,V.name)}function we(V){if(!V?.includes("?"))return{};const[B,...O]=V.split("?");return(0,se.zd)(O.join("?"))}const Ke=class Ne{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(B){var O=this;return(0,d.Z)(function*(){const Q=B._key();let Te=O.eventManagers.get(Q);return Te||(Te=new Me(B),O.eventManagers.set(Q,Te),O.attachCallbackListeners(B,Te)),Te})()}_openPopup(B){(0,F.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,O,Q,Te){var ut=this;return(0,d.Z)(function*(){!function Ee(V){var B,O,Q,Te,ut,kt,Mt,Qt,Lt,Sn;const qt=ye();(0,F.aA)("function"==typeof(null===(B=qt?.universalLinks)||void 0===B?void 0:B.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(O=qt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(ut=null===(Te=null===(Q=qt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===ut?void 0:ut.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Qt=null===(Mt=null===(kt=qt?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===Mt?void 0:Mt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Sn=null===(Lt=qt?.cordova)||void 0===Lt?void 0:Lt.InAppBrowser)||void 0===Sn?void 0:Sn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const kt=yield ut._initialize(B);yield kt.initialized(),kt.resetRedirect(),(0,F.aG)(),yield ut._originValidation(B);const Mt=function ke(V,B,O=null){return{type:B,eventId:O,urlResponse:null,sessionId:Ct(),postBody:null,tenantId:V.tenantId,error:(0,F.az)(V,"no-auth-event")}}(B,Q,Te);yield function Ge(V,B){return rt()._set(nn(V),B)}(B,Mt);const Qt=yield function K(V,B,O){return Z.apply(this,arguments)}(B,Mt,O),Lt=yield function Pe(V){const{cordova:B}=ye();return new Promise(O=>{B.plugins.browsertab.isAvailable(Q=>{let Te=null;Q?B.plugins.browsertab.openUrl(V):Te=B.InAppBrowser.open(V,(0,F.ay)()?"_blank":"_system","location=yes"),O(Te)})})}(Qt);return function Je(V,B,O){return Xe.apply(this,arguments)}(B,kt,Lt)})()}_isIframeWebStorageSupported(B,O){throw new Error("Method not implemented.")}_originValidation(B){const O=B._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function te(V){return je.apply(this,arguments)}(B)),this.originValidationPromises[O]}attachCallbackListeners(B,O){const{universalLinks:Q,handleOpenURL:Te,BuildInfo:ut}=ye(),kt=setTimeout((0,d.Z)(function*(){yield Le(B),O.onEvent(qe())}),500),Mt=function(){var Sn=(0,d.Z)(function*(qt){clearTimeout(kt);const Zn=yield Le(B);let zi=null;Zn&&qt?.url&&(zi=function et(V,B){var O,Q;const Te=function ve(V){const B=we(V),O=B.link?decodeURIComponent(B.link):void 0,Q=we(O).link,Te=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return we(Te).link||Te||Q||O||V}(B);if(Te.includes("/__/auth/callback")){const ut=we(Te),kt=ut.firebaseError?function lt(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,Mt=null===(Q=null===(O=kt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Q?void 0:Q[1],Qt=Mt?(0,F.az)(Mt):null;return Qt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Te,postBody:null}}return null}(Zn,qt.url)),O.onEvent(zi||qe())});return function(Zn){return Sn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,Mt);const Qt=Te,Lt=`${ut.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Sn=(0,d.Z)(function*(qt){if(qt.toLowerCase().startsWith(Lt)&&Mt({url:qt}),"function"==typeof Qt)try{Qt(qt)}catch(Zn){console.error(Zn)}});return function(qt){return Sn.apply(this,arguments)}}()}};function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const wt=1e3;function Tt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function rn(V=(0,se.z$)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ut(){try{const V=self.localStorage,B=F.aL();if(V)return V.setItem(B,"1"),V.removeItem(B),!function Qn(V=(0,se.z$)()){return function An(){return(0,se.w1)()&&11===document?.documentMode}()||function wr(V=(0,se.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,se.hl)()}catch{return Un()&&(0,se.hl)()}return!1}function Un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function vt(){return"http:"===Tt()||"https:"===Tt()}()||(0,se.ru)()||rn())&&!function gn(){return(0,se.b$)()||(0,se.UG)()}()&&Ut()&&!Un()}function Fr(){return rn()&&typeof document<"u"}function cn(){return(cn=(0,d.Z)(function*(){return!!Fr()&&new Promise(V=>{const B=setTimeout(()=>{V(!1)},wt);document.addEventListener("deviceready",()=>{clearTimeout(B),V(!0)})})})).apply(this,arguments)}const Nn={LOCAL:"local",NONE:"none",SESSION:"session"},qn=F.aA,Xn="persistence";function Lr(V){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(V){yield V._initializationPromise;const B=pt(),O=F.aD(Xn,V.config.apiKey,V.name);B&&B.setItem(O,V._getPersistence())})).apply(this,arguments)}function pt(){var V;try{return(null===(V=function ft(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Ye=F.aA;class er{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(Ke),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(B){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,O,Q,Te){var ut=this;return(0,d.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(B,O,Q,Te)})()}_openRedirect(B,O,Q,Te){var ut=this;return(0,d.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(B,O,Q,Te)})()}_isIframeWebStorageSupported(B,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,O)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,d.Z)(function*(){if(B.underlyingResolver)return;const O=yield function Bn(){return cn.apply(this,arguments)}();B.underlyingResolver=O?B.cordovaResolver:B.browserResolver})()}}function br(V){return V.unwrap()}function ri(V){return Fn(V)}function Fn(V){const{_tokenResponse:B}=V instanceof se.ZR?V.customData:V;if(!B)return null;if(!(V instanceof se.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return F.P.credentialFromResult(V);const O=B.providerId;if(!O||O===F.p.PASSWORD)return null;let Q;switch(O){case F.p.GOOGLE:Q=F.V;break;case F.p.FACEBOOK:Q=F.U;break;case F.p.GITHUB:Q=F.W;break;case F.p.TWITTER:Q=F.Z;break;default:const{oauthIdToken:Te,oauthAccessToken:ut,oauthTokenSecret:kt,pendingToken:Mt,nonce:Qt}=B;return ut||kt||Te||Mt?Mt?O.startsWith("saml.")?F.aO._create(O,Mt):F.L._fromParams({providerId:O,signInMethod:O,pendingToken:Mt,idToken:Te,accessToken:ut}):new F.X(O).credential({idToken:Te,accessToken:ut,rawNonce:Qt}):null}return V instanceof se.ZR?Q.credentialFromError(V):Q.credentialFromResult(V)}function sn(V,B){return B.catch(O=>{throw O instanceof se.ZR&&function Wn(V,B){var O;const Q=null===(O=B.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new ii(V,F.aq(V,B));else if(Q){const Te=Fn(B),ut=B;Te&&(ut.credential=Te,ut.tenantId=Q.tenantId||void 0,ut.email=Q.email||void 0,ut.phoneNumber=Q.phoneNumber||void 0)}}(V,O),O}).then(O=>{const Te=O.user;return{operationType:O.operationType,credential:ri(O),additionalUserInfo:F.ao(O),user:Zt.getOrCreate(Te)}})}function bi(V,B){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(V,B){const O=yield B;return{verificationId:O.verificationId,confirm:Q=>sn(V,O.confirm(Q))}})).apply(this,arguments)}class ii{constructor(B,O){this.resolver=O,this.auth=function $n(V){return V.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return sn(br(this.auth),this.resolver.resolveSignIn(B))}}class Zt{constructor(B){this._delegate=B,this.multiFactor=F.ar(B)}static getOrCreate(B){return Zt.USER_MAP.has(B)||Zt.USER_MAP.set(B,new Zt(B)),Zt.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var O=this;return(0,d.Z)(function*(){return sn(O.auth,F.a0(O._delegate,B))})()}linkWithPhoneNumber(B,O){var Q=this;return(0,d.Z)(function*(){return bi(Q.auth,F.l(Q._delegate,B,O))})()}linkWithPopup(B){var O=this;return(0,d.Z)(function*(){return sn(O.auth,F.d(O._delegate,B,er))})()}linkWithRedirect(B){var O=this;return(0,d.Z)(function*(){return yield Lr(F.aH(O.auth)),F.g(O._delegate,B,er)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var O=this;return(0,d.Z)(function*(){return sn(O.auth,F.a1(O._delegate,B))})()}reauthenticateWithPhoneNumber(B,O){return bi(this.auth,F.r(this._delegate,B,O))}reauthenticateWithPopup(B){return sn(this.auth,F.e(this._delegate,B,er))}reauthenticateWithRedirect(B){var O=this;return(0,d.Z)(function*(){return yield Lr(F.aH(O.auth)),F.h(O._delegate,B,er)})()}sendEmailVerification(B){return F.ae(this._delegate,B)}unlink(B){var O=this;return(0,d.Z)(function*(){return yield F.an(O._delegate,B),O})()}updateEmail(B){return F.aj(this._delegate,B)}updatePassword(B){return F.ak(this._delegate,B)}updatePhoneNumber(B){return F.u(this._delegate,B)}updateProfile(B){return F.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,O){return F.af(this._delegate,B,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zt.USER_MAP=new WeakMap;const jn=F.aA;let Hn=(()=>{class V{constructor(O,Q){if(this.app=O,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Te}=O.options;jn(Te,"invalid-api-key",{appName:O.name}),jn(Te,"invalid-api-key",{appName:O.name});const ut=typeof window<"u"?er:void 0;this._delegate=Q.initialize({options:{persistence:kn(Te,O.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Q){F.I(this._delegate,O,Q)}applyActionCode(O){return F.a5(this._delegate,O)}checkActionCode(O){return F.a6(this._delegate,O)}confirmPasswordReset(O,Q){return F.a4(this._delegate,O,Q)}createUserWithEmailAndPassword(O,Q){var Te=this;return(0,d.Z)(function*(){return sn(Te._delegate,F.a8(Te._delegate,O,Q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return F.ad(this._delegate,O)}isSignInWithEmailLink(O){return F.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){jn(Jn(),O._delegate,"operation-not-supported-in-this-environment");const Q=yield F.j(O._delegate,er);return Q?sn(O._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ht(V,B){(0,F.aH)(V)._logFramework(B)}(this._delegate,O)}onAuthStateChanged(O,Q,Te){const{next:ut,error:kt,complete:Mt}=Ir(O,Q,Te);return this._delegate.onAuthStateChanged(ut,kt,Mt)}onIdTokenChanged(O,Q,Te){const{next:ut,error:kt,complete:Mt}=Ir(O,Q,Te);return this._delegate.onIdTokenChanged(ut,kt,Mt)}sendSignInLinkToEmail(O,Q){return F.aa(this._delegate,O,Q)}sendPasswordResetEmail(O,Q){return F.a3(this._delegate,O,Q||void 0)}setPersistence(O){var Q=this;return(0,d.Z)(function*(){let Te;switch(function Er(V,B){qn(Object.values(Nn).includes(B),V,"invalid-persistence-type"),(0,se.b$)()?qn(B!==Nn.SESSION,V,"unsupported-persistence-type"):(0,se.UG)()?qn(B===Nn.NONE,V,"unsupported-persistence-type"):Un()?qn(B===Nn.NONE||B===Nn.LOCAL&&(0,se.hl)(),V,"unsupported-persistence-type"):qn(B===Nn.NONE||Ut(),V,"unsupported-persistence-type")}(Q._delegate,O),O){case Nn.SESSION:Te=F.a;break;case Nn.LOCAL:Te=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case Nn.NONE:Te=F.N;break;default:return F.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Te)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return sn(this._delegate,F._(this._delegate))}signInWithCredential(O){return sn(this._delegate,F.$(this._delegate,O))}signInWithCustomToken(O){return sn(this._delegate,F.a2(this._delegate,O))}signInWithEmailAndPassword(O,Q){return sn(this._delegate,F.a9(this._delegate,O,Q))}signInWithEmailLink(O,Q){return sn(this._delegate,F.ac(this._delegate,O,Q))}signInWithPhoneNumber(O,Q){return bi(this._delegate,F.s(this._delegate,O,Q))}signInWithPopup(O){var Q=this;return(0,d.Z)(function*(){return jn(Jn(),Q._delegate,"operation-not-supported-in-this-environment"),sn(Q._delegate,F.c(Q._delegate,O,er))})()}signInWithRedirect(O){var Q=this;return(0,d.Z)(function*(){return jn(Jn(),Q._delegate,"operation-not-supported-in-this-environment"),yield Lr(Q._delegate),F.f(Q._delegate,O,er)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return F.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=Nn,V})();function Ir(V,B,O){let Q=V;"function"!=typeof V&&({next:Q,error:B,complete:O}=V);const Te=Q;return{next:kt=>Te(kt&&Zt.getOrCreate(kt)),error:B,complete:O}}function kn(V,B){const O=function Yt(V,B){const O=pt();if(!O)return[];const Q=F.aD(Xn,V,B);switch(O.getItem(Q)){case Nn.NONE:return[F.N];case Nn.LOCAL:return[F.i,F.a];case Nn.SESSION:return[F.a];default:return[]}}(V,B);if(typeof self<"u"&&!O.includes(F.i)&&O.push(F.i),typeof window<"u")for(const Q of[F.b,F.a])O.includes(Q)||O.push(Q);return O.includes(F.N)||O.push(F.N),O}class Zr{constructor(){this.providerId="phone",this._delegate=new F.P(br(N.Z.auth()))}static credential(B,O){return F.P.credential(B,O)}verifyPhoneNumber(B,O){return this._delegate.verifyPhoneNumber(B,O)}unwrap(){return this._delegate}}Zr.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Zr.PROVIDER_ID=F.P.PROVIDER_ID;const Vr=F.aA;class Kr{constructor(B,O,Q=N.Z.app()){var Te;Vr(null===(Te=Q.options)||void 0===Te?void 0:Te.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new F.R(B,O,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(V){V.INTERNAL.registerComponent(new ge.wA("auth-compat",B=>{const O=B.getProvider("app-compat").getImmediate(),Q=B.getProvider("auth");return new Hn(O,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:Zr,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Kr,TwitterAuthProvider:F.Z,Auth:Hn,AuthCredential:F.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.1")}(N.Z)},5861:(Dt,le,$)=>{"use strict";function d(F,se,ce,ue,ge,ye,Ce){try{var K=F[ye](Ce),Z=K.value}catch(te){return void ce(te)}K.done?se(Z):Promise.resolve(Z).then(ue,ge)}function N(F){return function(){var se=this,ce=arguments;return new Promise(function(ue,ge){var ye=F.apply(se,ce);function Ce(Z){d(ye,ue,ge,Ce,K,"next",Z)}function K(Z){d(ye,ue,ge,Ce,K,"throw",Z)}Ce(void 0)})}}$.d(le,{Z:()=>N})}},Dt=>{Dt(Dt.s=5798)}]);